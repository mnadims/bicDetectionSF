<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" revision="1.0.0" language="Java" filename="E:/01Courses@USASK/CMPT898-HumanDrivenSoftwareEngineeringForScientificResearch/ProjectProgress/data_files/final_dataset/gen_patch_codes/filtered/oozie/4249aaee.java"><expr_stmt><expr><name>From</name> <literal type="number">4249aaeea2dde6a925c239d11b846804f6fc546c</literal> <name>Mon</name> <name>Sep</name> <literal type="number">17</literal> <literal type="number">00</literal><operator>:</operator><literal type="number">00</literal><operator>:</operator><literal type="number">00</literal> <literal type="number">2001</literal>
<name>From</name><operator>:</operator> <name><name>virag</name> <argument_list type="generic">&lt;<argument><name>virag</name><annotation>@<name>unknown</name></annotation></argument>&gt;</argument_list></name>
<name>Date</name><operator>:</operator> <name>Tue</name></expr><operator>,</operator> <expr><literal type="number">7</literal> <name>May</name> <literal type="number">2013</literal> <literal type="number">20</literal><operator>:</operator><literal type="number">59</literal><operator>:</operator><literal type="number">53</literal> <operator>+</operator><literal type="number">0000</literal>
<name>Subject</name><operator>:</operator> <index>[<expr><name>PATCH</name></expr>]</index> <name>OOZIE</name><operator>-</operator><literal type="number">1231</literal> <name>Provide</name> <name>access</name> <name>to</name> <name>launcher</name> <name>job</name> <name>URL</name> <name>from</name> <name>web</name>
 <name>console</name> <name>when</name> <name>using</name> <name>Map</name> <name>Reduce</name> <call><name>action</name> <argument_list>(<argument><expr><name>ryota</name> <name>via</name> <name>virag</name></expr></argument>)</argument_list></call>

<name>git</name><operator>-</operator><name>svn</name><operator>-</operator><name>id</name><operator>:</operator> <name>https</name><operator>:</operator><comment type="line">//svn.apache.org/repos/asf/oozie/trunk@1480076 13f79535-47bb-0310-9956-ffa450edef68</comment>
<operator>--</operator>
 <operator>...</operator><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>OozieClient</name><operator>.</operator><name>java</name></name>  <operator>|</operator> <literal type="number">12</literal> <operator>++</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>JavaActionExecutor</name><operator>.</operator><name>java</name></name>     <operator>|</operator>  <literal type="number">9</literal> <operator>++</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>MapReduceActionExecutor</name><operator>.</operator><name>java</name></name>       <operator>|</operator> <literal type="number">17</literal> <operator>++</operator><operator>++</operator>
 <operator>...</operator><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>wf</name><operator>/</operator><name><name>ActionStartXCommand</name><operator>.</operator><name>java</name></name> <operator>|</operator> <literal type="number">10</literal> <operator>++</operator><operator>+</operator>
 <operator>...</operator><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>V1JobServlet</name><operator>.</operator><name>java</name></name>    <operator>|</operator> <literal type="number">68</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>V2JobServlet</name><operator>.</operator><name>java</name></name>    <operator>|</operator> <literal type="number">45</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>+</operator>
 <operator>...</operator><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>VersionServlet</name><operator>.</operator><name>java</name></name>  <operator>|</operator>  <literal type="number">1</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>TestMapReduceActionExecutor</name><operator>.</operator><name>java</name></name>   <operator>|</operator> <literal type="number">36</literal> <operator>++</operator><operator>++</operator><operator>--</operator><operator>--</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>TestOozieCLI</name><operator>.</operator><name>java</name></name> <operator>|</operator> <literal type="number">10</literal> <operator>++</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>TestWorkflowClient</name><operator>.</operator><name>java</name></name>      <operator>|</operator>  <literal type="number">8</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>command</name><operator>/</operator><name>wf</name><operator>/</operator><name><name>TestActionCheckXCommand</name><operator>.</operator><name>java</name></name>   <operator>|</operator> <literal type="number">18</literal> <operator>++</operator><operator>--</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>TestVersionServlet</name><operator>.</operator><name>java</name></name>     <operator>|</operator>  <literal type="number">4</literal> <operator>+</operator><operator>-</operator>
 <name>docs</name><operator>/</operator><name>src</name><operator>/</operator><name>site</name><operator>/</operator><name>twiki</name><operator>/</operator><name><name>WebServicesAPI</name><operator>.</operator><name>twiki</name></name>      <operator>|</operator> <literal type="number">80</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>+</operator>
 <name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>                               <operator>|</operator>  <literal type="number">1</literal> <operator>+</operator>
 <name>webapp</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>webapp</name><operator>/</operator><name>WEB</name><operator>-</operator><name>INF</name><operator>/</operator><name><name>web</name><operator>.</operator><name>xml</name></name>        <operator>|</operator> <literal type="number">27</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>+</operator>
 <name>webapp</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>webapp</name><operator>/</operator><name>oozie</name><operator>-</operator><name><name>console</name><operator>.</operator><name>js</name></name>       <operator>|</operator> <literal type="number">24</literal> <operator>++</operator><operator>+</operator><operator>--</operator><operator>-</operator>
 <literal type="number">16</literal> <name>files</name> <name>changed</name></expr><operator>,</operator> <expr><literal type="number">315</literal> <call><name>insertions</name><argument_list>(<argument><expr><operator>+</operator></expr></argument>)</argument_list></call></expr><operator>,</operator> <expr><literal type="number">55</literal> <call><name>deletions</name><argument_list>(<argument><expr><operator>-</operator></expr></argument>)</argument_list></call>
 <name>create</name> <name>mode</name> <literal type="number">100644</literal> <name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>V2JobServlet</name><operator>.</operator><name>java</name></name>

<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>client</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>OozieClient</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>client</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>OozieClient</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">412bd9d76</literal><operator>..</operator><literal type="number">03601ae58</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>client</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>OozieClient</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>client</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>OozieClient</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">77</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">77</literal></expr><operator>,</operator><expr><literal type="number">9</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieClient</name> <block>{
 
     <expr><specifier>public</specifier> <specifier>static</specifier> <name>final</name> <name>long</name> <name>WS_PROTOCOL_VERSION_0</name> <operator>=</operator> <literal type="number">0</literal></expr>;
 
    <expr><specifier>public</specifier> <specifier>static</specifier> <name>final</name> <name>long</name> <name>WS_PROTOCOL_VERSION</name> <operator>=</operator> <literal type="number">1</literal></expr>;
    <expr><specifier>public</specifier> <specifier>static</specifier> <name>final</name> <name>long</name> <name>WS_PROTOCOL_VERSION_1</name> <operator>=</operator> <literal type="number">1</literal></expr>;

    <expr><specifier>public</specifier> <specifier>static</specifier> <name>final</name> <name>long</name> <name>WS_PROTOCOL_VERSION</name> <operator>=</operator> <literal type="number">2</literal></expr>; <comment type="line">// pointer to current version</comment>
 
     <expr><specifier>public</specifier> <specifier>static</specifier> <name>final</name> <name>String</name> <name>USER_NAME</name> <operator>=</operator> <literal type="string">"user.name"</literal></expr>;
 
@@ <expr><operator>-</operator><literal type="number">252</literal></expr>,<expr><literal type="number">9</literal> <operator>+</operator><literal type="number">254</literal></expr>,<expr><literal type="number">10</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieClient</name> <block>{
                     <if_stmt><if>if <condition>(<expr><name>array</name> <operator>==</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
                         <throw>throw <expr><operator>new</operator> <call><name>OozieClientException</name><argument_list>(<argument><expr><literal type="string">"HTTP error"</literal></expr></argument>, <argument><expr><literal type="string">"no response message"</literal></expr></argument>)</argument_list></call></expr>;</throw>
                     <expr_stmt/></block_content></block></if></if_stmt>}</block></expr>
                    <if_stmt><if>if <condition>(<expr><operator>!</operator><call><name><name>array</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>WS_PROTOCOL_VERSION</name></expr></argument>)</argument_list></call> <operator>&amp;&amp;</operator> <operator>!</operator><call><name><name>array</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>WS_PROTOCOL_VERSION_0</name></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
                    <if_stmt><if>if <condition>(<expr><operator>!</operator><call><name><name>array</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>WS_PROTOCOL_VERSION</name></expr></argument>)</argument_list></call> <operator>&amp;&amp;</operator> <operator>!</operator><call><name><name>array</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>WS_PROTOCOL_VERSION_1</name></expr></argument>)</argument_list></call>
                            <operator>&amp;&amp;</operator> <operator>!</operator><call><name><name>array</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>WS_PROTOCOL_VERSION_0</name></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
                         <decl_stmt><decl><type><name>StringBuilder</name></type> <name>msg</name> <init>= <expr><operator>new</operator> <call><name>StringBuilder</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
                        <expr_stmt><expr><call><name><name>msg</name><operator>.</operator><name>append</name></name><argument_list>(<argument><expr><literal type="string">"Supported version ["</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>append</name><argument_list>(<argument><expr><name>WS_PROTOCOL_VERSION</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>append</name><argument_list>(
                        <argument><expr><call><name><name>msg</name><operator>.</operator><name>append</name></name><argument_list>(<argument><expr><literal type="string">"Supported version ["</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>append</name><argument_list>(<argument><expr><name>WS_PROTOCOL_VERSION_1</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>append</name><argument_list>(
                                 <argument><expr><literal type="string">"] or less, Unsupported versions["</literal></expr></argument>)</argument_list></call></expr></argument>;</argument_list></call></expr></expr_stmt>
                         <decl_stmt><decl><type><name>String</name></type> <name>separator</name> <init>= <expr><literal type="string">""</literal></expr></init></decl>;</decl_stmt>
                         <for>for <control>(<init><decl><type><name>Object</name></type> <name>version</name> <range>: <expr><name>array</name></expr></range></decl></init>)</control> <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">266</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">269</literal></expr><operator>,</operator><expr><literal type="number">9</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieClient</name> <block>{
                     <if_stmt><if>if <condition>(<expr><call><name><name>array</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>WS_PROTOCOL_VERSION</name></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
                         <expr_stmt><expr><name>protocolUrl</name> <operator>=</operator> <name>baseUrl</name> <operator>+</operator> <literal type="string">"v"</literal> <operator>+</operator> <name>WS_PROTOCOL_VERSION</name> <operator>+</operator> <literal type="string">"/"</literal></expr>;</expr_stmt>
                     <expr_stmt/></block_content></block></if></if_stmt></block></expr></expr_stmt></block_content></block></for></block_content></block></if></if_stmt></block_content></block></if></if_stmt>}</block></expr></expr_stmt>
                    <if_stmt><if type="elseif">else if <condition>(<expr><call><name><name>array</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>WS_PROTOCOL_VERSION_1</name></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
                        <expr_stmt><expr><name>protocolUrl</name> <operator>=</operator> <name>baseUrl</name> <operator>+</operator> <literal type="string">"v"</literal> <operator>+</operator> <name>WS_PROTOCOL_VERSION_1</name> <operator>+</operator> <literal type="string">"/"</literal></expr>;</expr_stmt>
                    </block_content>}</block></if>
                     <else>else <block>{<block_content>
                         <if_stmt><if>if <condition>(<expr><call><name><name>array</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>WS_PROTOCOL_VERSION_0</name></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
                             <expr_stmt><expr><name>protocolUrl</name> <operator>=</operator> <name>baseUrl</name> <operator>+</operator> <literal type="string">"v"</literal> <operator>+</operator> <name>WS_PROTOCOL_VERSION_0</name> <operator>+</operator> <literal type="string">"/"</literal></expr>;</expr_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>JavaActionExecutor</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>JavaActionExecutor</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">802285996..91dfd755c</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>JavaActionExecutor</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>JavaActionExecutor</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">973</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">973</literal></expr><operator>,</operator><expr><literal type="number">11</literal> @@ <specifier>public</specifier> <name>class</name> <name>JavaActionExecutor</name> extends <name>ActionExecutor</name> <block>{
         <return>return <expr><call><name><name>Services</name><operator>.</operator><name>get</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><name><name>HadoopAccessorService</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call><operator>.</operator><call><name>createJobClient</name><argument_list>(<argument><expr><name>user</name></expr></argument>, <argument><expr><name>jobConf</name></expr></argument>)</argument_list></call></expr>;</return>
     }</block></expr></expr_stmt>
 
    <function><type><specifier>protected</specifier> <name>RunningJob</name></type> <name>getRunningJob</name><parameter_list>(<parameter><decl><type><name>Context</name></type> <name>context</name></decl></parameter>, <parameter><decl><type><name>WorkflowAction</name></type> <name>action</name></decl></parameter>, <parameter><decl><type><name>JobClient</name></type> <name>jobClient</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws><block>{<block_content>
        <decl_stmt><decl><type><name>RunningJob</name></type> <name>runningJob</name> <init>= <expr><call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><call><name><name>action</name><operator>.</operator><name>getExternalId</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <return>return <expr><name>runningJob</name></expr>;</return>
    </block_content>}</block></function>

     <function><annotation>@<name>Override</name></annotation>
     <type><specifier>public</specifier> <name>void</name></type> <name>check</name><parameter_list>(<parameter><decl><type><name>Context</name></type> <name>context</name></decl></parameter>, <parameter><decl><type><name>WorkflowAction</name></type> <name>action</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>ActionExecutorException</name></expr></argument></throws> <block>{<block_content>
         <decl_stmt><decl><type><name>JobClient</name></type> <name>jobClient</name> <init>= <expr><literal type="null">null</literal></expr></init></decl>;</decl_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">982</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">987</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>JavaActionExecutor</name> extends <name>ActionExecutor</name> <block>{
             <expr><name>FileSystem</name> <name>actionFs</name> <operator>=</operator> <call><name><name>context</name><operator>.</operator><name>getAppFileSystem</name></name><argument_list>()</argument_list></call></expr>;
             <name>JobConf</name> <name>jobConf</name> <operator>=</operator> <call><name>createBaseHadoopConf</name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><name>actionXml</name></expr></argument>)</argument_list></call></block></expr>;</expr_stmt>
             <expr_stmt><expr><name>jobClient</name> <operator>=</operator> <call><name>createJobClient</name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><name>jobConf</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
            <decl_stmt><decl><type><name>RunningJob</name></type> <name>runningJob</name> <init>= <expr><call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><call><name><name>action</name><operator>.</operator><name>getExternalId</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
            <decl_stmt><decl><type><name>RunningJob</name></type> <name>runningJob</name> <init>= <expr><call><name>getRunningJob</name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><name>action</name></expr></argument>, <argument><expr><name>jobClient</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
             <if_stmt><if>if <condition>(<expr><name>runningJob</name> <operator>==</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
                 <expr_stmt><expr><call><name><name>context</name><operator>.</operator><name>setExternalStatus</name></name><argument_list>(<argument><expr><name>FAILED</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                 <expr_stmt><expr><call><name><name>context</name><operator>.</operator><name>setExecutionData</name></name><argument_list>(<argument><expr><name>FAILED</name></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1011</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1016</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>JavaActionExecutor</name> extends <name>ActionExecutor</name> <block>{
                                 <expr><call><name><name>action</name><operator>.</operator><name>getId</name></name><argument_list>()</argument_list></call></expr>)</block></expr>;</expr_stmt>
                     </block_content>}</block></if></if_stmt>
 
                    <expr_stmt><expr><call><name><name>context</name><operator>.</operator><name>setStartData</name></name><argument_list>(<argument><expr><name>newId</name></expr></argument>, <argument><expr><call><name><name>action</name><operator>.</operator><name>getTrackerUri</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><call><name><name>runningJob</name><operator>.</operator><name>getTrackingURL</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                    <expr_stmt><expr><call><name><name>context</name><operator>.</operator><name>setExternalChildIDs</name></name><argument_list>(<argument><expr><name>newId</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                     <expr_stmt><expr><call><name><name>XLog</name><operator>.</operator><name>getLog</name></name><argument_list>(<argument><expr><call><name>getClass</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>info</name><argument_list>(<argument><expr><name><name>XLog</name><operator>.</operator><name>STD</name></name></expr></argument>, <argument><expr><literal type="string">"External ID swap, old ID [{0}] new ID [{1}]"</literal></expr></argument>, <argument><expr><name>launcherId</name></expr></argument>,
                             <argument><expr><name>newId</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                 </block_content>}</block></function>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>MapReduceActionExecutor</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>MapReduceActionExecutor</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">623a70fa7</literal><operator>..</operator><name>ffa5a7eb9</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>MapReduceActionExecutor</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>MapReduceActionExecutor</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">29</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">29</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@</expr></expr_stmt> <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>hadoop</name><operator>.</operator><name>mapred</name><operator>.</operator><name>JobClient</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>hadoop</name><operator>.</operator><name>mapred</name><operator>.</operator><name>JobConf</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>hadoop</name><operator>.</operator><name>mapred</name><operator>.</operator><name>JobID</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>hadoop</name><operator>.</operator><name>mapred</name><operator>.</operator><name>RunningJob</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>WorkflowActionBean</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>action</name><operator>.</operator><name>ActionExecutorException</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>client</name><operator>.</operator><name>WorkflowAction</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>service</name><operator>.</operator><name>Services</name></name>;</import>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">316</literal></expr><operator>,</operator><expr><literal type="number">4</literal> <operator>+</operator><literal type="number">317</literal></expr><operator>,</operator><expr><literal type="number">20</literal> @@ <specifier>public</specifier> <name>class</name> <name>MapReduceActionExecutor</name> extends <name>JavaActionExecutor</name> <block>{
         <expr><call><name><name>MapReduceMain</name><operator>.</operator><name>setStrings</name></name><argument_list>(<argument><expr><name>conf</name></expr></argument>, <argument><expr><literal type="string">"oozie.streaming.env"</literal></expr></argument>, <argument><expr><name>env</name></expr></argument>)</argument_list></call></expr>;
     }</block></expr></expr_stmt>
 
    <function><annotation>@<name>Override</name></annotation>
    <type><specifier>protected</specifier> <name>RunningJob</name></type> <name>getRunningJob</name><parameter_list>(<parameter><decl><type><name>Context</name></type> <name>context</name></decl></parameter>, <parameter><decl><type><name>WorkflowAction</name></type> <name>action</name></decl></parameter>, <parameter><decl><type><name>JobClient</name></type> <name>jobClient</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws><block>{<block_content>

        <decl_stmt><decl><type><name>RunningJob</name></type> <name>runningJob</name></decl>;</decl_stmt>
        <decl_stmt><decl><type><name>String</name></type> <name>launcherJobId</name> <init>= <expr><call><name><name>action</name><operator>.</operator><name>getExternalId</name></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
        <decl_stmt><decl><type><name>String</name></type> <name>childJobId</name> <init>= <expr><call><name><name>action</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>

        <if_stmt><if>if <condition>(<expr><name>childJobId</name> <operator>!=</operator> <literal type="null">null</literal> <operator>&amp;&amp;</operator> <call><name><name>childJobId</name><operator>.</operator><name>length</name></name><argument_list>()</argument_list></call> <operator>&gt;</operator> <literal type="number">0</literal></expr>)</condition> <block>{<block_content>
            <expr_stmt><expr><name>runningJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><name>childJobId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        </block_content>}</block></if>
        <else>else <block>{<block_content>
            <expr_stmt><expr><name>runningJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><name>launcherJobId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        </block_content>}</block></else></if_stmt>

        <return>return <expr><name>runningJob</name></expr>;</return>
    </block_content>}</block></function>
 </block_content>}</block></if></if_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>wf</name><operator>/</operator><name><name>ActionStartXCommand</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>wf</name><operator>/</operator><name><name>ActionStartXCommand</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">4b2c6e9d8</literal><operator>..</operator><literal type="number">5cf277716</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>wf</name><operator>/</operator><name><name>ActionStartXCommand</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>wf</name><operator>/</operator><name><name>ActionStartXCommand</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">32</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">32</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@</expr></expr_stmt> <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>XException</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>action</name><operator>.</operator><name>ActionExecutor</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>action</name><operator>.</operator><name>ActionExecutorException</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>action</name><operator>.</operator><name>control</name><operator>.</operator><name>ControlNodeActionExecutor</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>action</name><operator>.</operator><name>hadoop</name><operator>.</operator><name>MapReduceActionExecutor</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>client</name><operator>.</operator><name>OozieClient</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>client</name><operator>.</operator><name>WorkflowAction</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>client</name><operator>.</operator><name>WorkflowJob</name></name>;</import>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">158</literal></expr><operator>,</operator><expr><literal type="number">10</literal> <operator>+</operator><literal type="number">159</literal></expr><operator>,</operator><expr><literal type="number">12</literal> @@ <specifier>public</specifier> <name>class</name> <name>ActionStartXCommand</name> extends <name><name>ActionXCommand</name><argument_list type="generic">&lt;<argument><name>Void</name></argument>&gt;</argument_list></name> <block>{
             <if_stmt><if>if <condition>(<expr><call><name><name>wfAction</name><operator>.</operator><name>getStatus</name></name><argument_list>()</argument_list></call> <operator>==</operator> <name><name>WorkflowActionBean</name><operator>.</operator><name>Status</name><operator>.</operator><name>START_RETRY</name></name>
                     <operator>||</operator> <call><name><name>wfAction</name><operator>.</operator><name>getStatus</name></name><argument_list>()</argument_list></call> <operator>==</operator> <name><name>WorkflowActionBean</name><operator>.</operator><name>Status</name><operator>.</operator><name>START_MANUAL</name></name></expr>)</condition> <block>{<block_content>
                 <expr_stmt><expr><name>isRetry</name> <operator>=</operator> <literal type="boolean">true</literal></expr>;</expr_stmt>
                <expr_stmt><expr><call><name>prepareForRetry</name><argument_list>(<argument><expr><name>wfAction</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
             </block_content>}</block></if></if_stmt>
             <name>boolean</name> <name>isUserRetry</name> <operator>=</operator> <literal type="boolean">false</literal></block></expr>;</expr_stmt>
             <if_stmt><if>if <condition>(<expr><call><name><name>wfAction</name><operator>.</operator><name>getStatus</name></name><argument_list>()</argument_list></call> <operator>==</operator> <name><name>WorkflowActionBean</name><operator>.</operator><name>Status</name><operator>.</operator><name>USER_RETRY</name></name></expr>)</condition> <block>{<block_content>
                 <expr_stmt><expr><name>isUserRetry</name> <operator>=</operator> <literal type="boolean">true</literal></expr>;</expr_stmt>
                <expr_stmt><expr><call><name>prepareForRetry</name><argument_list>(<argument><expr><name>wfAction</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
             </block_content>}</block></if></if_stmt>
             <expr_stmt><expr><name>context</name> <operator>=</operator> <operator>new</operator> <call><name><name>ActionXCommand</name><operator>.</operator><name>ActionExecutorContext</name></name><argument_list>(<argument><expr><name>wfJob</name></expr></argument>, <argument><expr><name>wfAction</name></expr></argument>, <argument><expr><name>isRetry</name></expr></argument>, <argument><expr><name>isUserRetry</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
             <decl_stmt><decl><type><name>boolean</name></type> <name>caught</name> <init>= <expr><literal type="boolean">false</literal></expr></init></decl>;</decl_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">341</literal></expr><operator>,</operator><expr><literal type="number">4</literal> <operator>+</operator><literal type="number">344</literal></expr><operator>,</operator><expr><literal type="number">11</literal> @@ <specifier>public</specifier> <name>class</name> <name>ActionStartXCommand</name> extends <name><name>ActionXCommand</name><argument_list type="generic">&lt;<argument><name>Void</name></argument>&gt;</argument_list></name> <block>{
         <return>return <expr><call><name>getName</name><argument_list>()</argument_list></call> <operator>+</operator> <literal type="string">"_"</literal> <operator>+</operator> <name>actionId</name></expr>;</return>
     }</block></expr></expr_stmt>
 
    <function><type><specifier>private</specifier> <name>void</name></type> <name>prepareForRetry</name><parameter_list>(<parameter><decl><type><name>WorkflowActionBean</name></type> <name>wfAction</name></decl></parameter>)</parameter_list> <block>{<block_content>
        <if_stmt><if>if <condition>(<expr><call><name><name>wfAction</name><operator>.</operator><name>getType</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>equals</name><argument_list>(<argument><expr><literal type="string">"map-reduce"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
            <comment type="line">// need to delete child job id of original run</comment>
            <expr_stmt><expr><call><name><name>wfAction</name><operator>.</operator><name>setExternalChildIDs</name></name><argument_list>(<argument><expr><literal type="string">""</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        </block_content>}</block></if></if_stmt>
    </block_content>}</block></function>

 </block_content>}</block></else></if_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>V1JobServlet</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>V1JobServlet</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">159714b5d</literal><operator>..</operator><name>ce75161ec</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>V1JobServlet</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>V1JobServlet</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">24</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">24</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@</expr></expr_stmt> <import>import <name><name>javax</name><operator>.</operator><name>servlet</name><operator>.</operator><name>http</name><operator>.</operator><name>HttpServletRequest</name></name>;</import>
 <import>import <name><name>javax</name><operator>.</operator><name>servlet</name><operator>.</operator><name>http</name><operator>.</operator><name>HttpServletResponse</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>hadoop</name><operator>.</operator><name>conf</name><operator>.</operator><name>Configuration</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>*</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>client</name><operator>.</operator><name>WorkflowAction</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>client</name><operator>.</operator><name>WorkflowJob</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>client</name><operator>.</operator><name>rest</name><operator>.</operator><name>*</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>command</name><operator>.</operator><name>CommandException</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>command</name><operator>.</operator><name>coord</name><operator>.</operator><name>CoordRerunXCommand</name></name>;</import>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">46</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">48</literal></expr><operator>,</operator><expr><literal type="number">10</literal> @@ <specifier>public</specifier> <name>class</name> <name>V1JobServlet</name> extends <name>BaseJobServlet</name> <block>{
         <expr><call><name>super</name><argument_list>(<argument><expr><name>INSTRUMENTATION_NAME</name></expr></argument>)</argument_list></call></expr>;
     }</block>
 
    <specifier>protected</specifier> <call><name>V1JobServlet</name><argument_list>(<argument><expr><name>String</name> <name>instrumentation_name</name></expr></argument>)</argument_list></call><block>{
        <expr><call><name>super</name><argument_list>(<argument><expr><name>instrumentation_name</name></expr></argument>)</argument_list></call></expr>;
    }</block>

     <comment type="block">/*
      * protected method to start a job
      */</comment>
@@ <operator>-</operator><literal type="number">664</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">670</literal></expr><operator>,</operator><expr><literal type="number">22</literal> @@ <specifier>public</specifier> <name>class</name> <name>V1JobServlet</name> extends <name>BaseJobServlet</name> <block>{
      <expr><operator>*</operator> @</expr><return>return <expr><name>JsonBean</name> <name>WorkflowJobBean</name>
      <operator>*</operator> @<throws>throws <argument><expr><name>XServletException</name>
      <operator>*</operator><operator>/</operator>
    <specifier>private</specifier> <name>JsonBean</name> <call><name>getWorkflowJob</name><argument_list>(<argument><expr><name>HttpServletRequest</name> <name>request</name></expr></argument>, <argument><expr><name>HttpServletResponse</name> <name>response</name></expr></argument>)</argument_list></call></expr></argument></throws> <throws>throws <argument><expr><name>XServletException</name> <block>{
    <expr><specifier>protected</specifier> <name>JsonBean</name> <call><name>getWorkflowJob</name><argument_list>(<argument><expr><name>HttpServletRequest</name> <name>request</name></expr></argument>, <argument><expr><name>HttpServletResponse</name> <name>response</name></expr></argument>)</argument_list></call></expr></block></expr></argument></throws> <throws>throws <argument><expr><name>XServletException</name> <block>{
        <expr><name>JsonBean</name> <name>jobBean</name> <operator>=</operator> <call><name>getWorkflowJobBean</name><argument_list>(<argument><expr><name>request</name></expr></argument>, <argument><expr><name>response</name></expr></argument>)</argument_list></call></expr></block></expr></argument></throws></expr>;</return>
        <comment type="line">// for backward compatibility (OOZIE-1231)</comment>
        <call><name>swapMRActionID</name><argument_list>(<argument><expr><operator>(</operator><name>WorkflowJob</name><operator>)</operator><name>jobBean</name></expr></argument>)</argument_list></call></block></expr>;</expr_stmt>
        <return>return <expr><name>jobBean</name></expr>;</return>
    }

    <comment type="block" format="javadoc">/**
     * Get workflow job
     *
     * @param request servlet request
     * @param response servlet response
     * @return JsonBean WorkflowJobBean
     * @throws XServletException
     */</comment>
    protected <function><type><name>JsonBean</name></type> <name>getWorkflowJobBean</name><parameter_list>(<parameter><decl><type><name>HttpServletRequest</name></type> <name>request</name></decl></parameter>, <parameter><decl><type><name>HttpServletResponse</name></type> <name>response</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>XServletException</name></expr></argument></throws> <block>{<block_content>
         <decl_stmt><decl><type><name>JsonBean</name></type> <name>jobBean</name> <init>= <expr><literal type="null">null</literal></expr></init></decl>;</decl_stmt>
         <decl_stmt><decl><type><name>String</name></type> <name>jobId</name> <init>= <expr><call><name>getResourceName</name><argument_list>(<argument><expr><name>request</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
         <decl_stmt><decl><type><name>String</name></type> <name>startStr</name> <init>= <expr><call><name><name>request</name><operator>.</operator><name>getParameter</name></name><argument_list>(<argument><expr><name><name>RestConstants</name><operator>.</operator><name>OFFSET_PARAM</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">681</literal></expr><operator>,</operator><expr><literal type="number">10</literal> <operator>+</operator><literal type="number">702</literal></expr><operator>,</operator><expr><literal type="number">41</literal> @@ <specifier>public</specifier> <name>class</name> <name>V1JobServlet</name> extends <name>BaseJobServlet</name> <block>{
         <catch>catch <parameter_list>(<parameter><decl><type><name>DagEngineException</name></type> <name>ex</name></decl></parameter>)</parameter_list> <block>{<block_content>
             <throw>throw <expr><operator>new</operator> <call><name>XServletException</name><argument_list>(<argument><expr><name><name>HttpServletResponse</name><operator>.</operator><name>SC_BAD_REQUEST</name></name></expr></argument>, <argument><expr><name>ex</name></expr></argument>)</argument_list></call></expr>;</throw>
         <expr_stmt/></block_content></block></catch>}</block></expr></expr_stmt>

         <return>return <expr><name>jobBean</name></expr>;</return>
     </block_content>}</block></function>
 
    <function><type><specifier>private</specifier> <name>void</name></type> <name>swapMRActionID</name><parameter_list>(<parameter><decl><type><name>WorkflowJob</name></type> <name>wjBean</name></decl></parameter>)</parameter_list> <block>{<block_content>
        <decl_stmt><decl><type><name><name>List</name><argument_list type="generic">&lt;<argument><name>WorkflowAction</name></argument>&gt;</argument_list></name></type> <name>actions</name> <init>= <expr><call><name><name>wjBean</name><operator>.</operator><name>getActions</name></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
        <if_stmt><if>if <condition>(<expr><name>actions</name> <operator>!=</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
            <for>for <control>(<init><decl><type><name>WorkflowAction</name></type> <name>wa</name> <range>: <expr><name>actions</name></expr></range></decl></init>)</control> <block>{<block_content>
                <expr_stmt><expr><call><name>swapMRActionID</name><argument_list>(<argument><expr><name>wa</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
            </block_content>}</block></for>
        </block_content>}</block></if></if_stmt>
    </block_content>}</block></function>

    <function><type><specifier>private</specifier> <name>void</name></type> <name>swapMRActionID</name><parameter_list>(<parameter><decl><type><name>WorkflowAction</name></type> <name>waBean</name></decl></parameter>)</parameter_list> <block>{<block_content>
        <if_stmt><if>if <condition>(<expr><call><name><name>waBean</name><operator>.</operator><name>getType</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>equals</name><argument_list>(<argument><expr><literal type="string">"map-reduce"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
            <decl_stmt><decl><type><name>String</name></type> <name>childId</name> <init>= <expr><call><name><name>waBean</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
            <if_stmt><if>if <condition>(<expr><name>childId</name> <operator>!=</operator> <literal type="null">null</literal> <operator>&amp;&amp;</operator> <operator>!</operator><call><name><name>childId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><literal type="string">""</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
                <decl_stmt><decl><type><name>String</name></type> <name>consoleBase</name> <init>= <expr><call><name>getConsoleBase</name><argument_list>(<argument><expr><call><name><name>waBean</name><operator>.</operator><name>getConsoleUrl</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
                <expr_stmt><expr><operator>(</operator><operator>(</operator><name>WorkflowActionBean</name><operator>)</operator> <name>waBean</name><operator>)</operator><operator>.</operator><call><name>setConsoleUrl</name><argument_list>(<argument><expr><name>consoleBase</name> <operator>+</operator> <name>childId</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                <expr_stmt><expr><operator>(</operator><operator>(</operator><name>WorkflowActionBean</name><operator>)</operator> <name>waBean</name><operator>)</operator><operator>.</operator><call><name>setExternalId</name><argument_list>(<argument><expr><name>childId</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                <expr_stmt><expr><operator>(</operator><operator>(</operator><name>WorkflowActionBean</name><operator>)</operator> <name>waBean</name><operator>)</operator><operator>.</operator><call><name>setExternalChildIDs</name><argument_list>(<argument><expr><literal type="string">""</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
            </block_content>}</block></if></if_stmt>
        </block_content>}</block></if></if_stmt>
    </block_content>}</block></function>

    <function><type><specifier>private</specifier> <name>String</name></type> <name>getConsoleBase</name><parameter_list>(<parameter><decl><type><name>String</name></type> <name>url</name></decl></parameter>)</parameter_list> <block>{<block_content>
        <decl_stmt><decl><type><name>String</name></type> <name>consoleBase</name> <init>= <expr><literal type="null">null</literal></expr></init></decl>;</decl_stmt>
        <if_stmt><if>if <condition>(<expr><call><name><name>url</name><operator>.</operator><name>indexOf</name></name><argument_list>(<argument><expr><literal type="string">"application"</literal></expr></argument>)</argument_list></call> <operator>!=</operator> <operator>-</operator><literal type="number">1</literal></expr>)</condition> <block>{<block_content>
            <expr_stmt><expr><name>consoleBase</name> <operator>=</operator> <call><name><name>url</name><operator>.</operator><name>split</name></name><argument_list>(<argument><expr><literal type="string">"application_[0-9]+_[0-9]+"</literal></expr></argument>)</argument_list></call><index>[<expr><literal type="number">0</literal></expr>]</index></expr>;</expr_stmt>
        </block_content>}</block></if>
        <else>else <block>{<block_content>
            <expr_stmt><expr><name>consoleBase</name> <operator>=</operator> <call><name><name>url</name><operator>.</operator><name>split</name></name><argument_list>(<argument><expr><literal type="string">"job_[0-9]+_[0-9]+"</literal></expr></argument>)</argument_list></call><index>[<expr><literal type="number">0</literal></expr>]</index></expr>;</expr_stmt>
        </block_content>}</block></else></if_stmt>
        <return>return <expr><name>consoleBase</name></expr>;</return>
    </block_content>}</block></function>

     <function><type><specifier>protected</specifier> <name>JsonBean</name></type> <name>getJMSConnectionInfo</name><parameter_list>(<parameter><decl><type><name>HttpServletRequest</name></type> <name>request</name></decl></parameter>, <parameter><decl><type><name>HttpServletResponse</name></type> <name>response</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>XServletException</name></expr></argument></throws><block>{<block_content>
         <decl_stmt><decl><type><name>JsonBean</name></type> <name>jmsBean</name> <init>= <expr><literal type="null">null</literal></expr></init></decl>;</decl_stmt>
         <decl_stmt><decl><type><name>String</name></type> <name>jobId</name> <init>= <expr><call><name>getResourceName</name><argument_list>(<argument><expr><name>request</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">707</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">759</literal></expr><operator>,</operator><expr><literal type="number">16</literal> @@ <specifier>public</specifier> <name>class</name> <name>V1JobServlet</name> extends <name>BaseJobServlet</name> <block>{
      <expr><operator>*</operator> @</expr><return>return <expr><name>JsonBean</name> <name>WorkflowActionBean</name>
      <operator>*</operator> @<throws>throws <argument><expr><name>XServletException</name>
      <operator>*</operator><operator>/</operator>
    <specifier>private</specifier> <name>JsonBean</name> <call><name>getWorkflowAction</name><argument_list>(<argument><expr><name>HttpServletRequest</name> <name>request</name></expr></argument>, <argument><expr><name>HttpServletResponse</name> <name>response</name></expr></argument>)</argument_list></call>
    <specifier>protected</specifier> <name>JsonBean</name> <call><name>getWorkflowAction</name><argument_list>(<argument><expr><name>HttpServletRequest</name> <name>request</name></expr></argument>, <argument><expr><name>HttpServletResponse</name> <name>response</name></expr></argument>)</argument_list></call></expr></argument></throws>
            <throws>throws <argument><expr><name>XServletException</name> <block>{

        <expr><name>JsonBean</name> <name>actionBean</name> <operator>=</operator> <call><name>getWorkflowActionBean</name><argument_list>(<argument><expr><name>request</name></expr></argument>, <argument><expr><name>response</name></expr></argument>)</argument_list></call></expr></block></expr></argument></throws></expr>;</return>
        <comment type="line">// for backward compatibility (OOZIE-1231)</comment>
        <call><name>swapMRActionID</name><argument_list>(<argument><expr><operator>(</operator><name>WorkflowAction</name><operator>)</operator><name>actionBean</name></expr></argument>)</argument_list></call></block></expr>;</expr_stmt>
        <return>return <expr><name>actionBean</name></expr>;</return>
    </block_content>}</block></function>

    <function><type><specifier>protected</specifier> <name>JsonBean</name></type> <name>getWorkflowActionBean</name><parameter_list>(<parameter><decl><type><name>HttpServletRequest</name></type> <name>request</name></decl></parameter>, <parameter><decl><type><name>HttpServletResponse</name></type> <name>response</name></decl></parameter>)</parameter_list>
             <throws>throws <argument><expr><name>XServletException</name></expr></argument></throws> <block>{<block_content>
         <decl_stmt><decl><type><name>DagEngine</name></type> <name>dagEngine</name> <init>= <expr><call><name><name>Services</name><operator>.</operator><name>get</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><name><name>DagEngineService</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call><operator>.</operator><call><name>getDagEngine</name><argument_list>(<argument><expr><call><name>getUser</name><argument_list>(<argument><expr><name>request</name></expr></argument>)</argument_list></call></expr></argument>,
                 <argument><expr><call><name>getAuthToken</name><argument_list>(<argument><expr><name>request</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">720</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">781</literal></expr><operator>,</operator><expr><literal type="number">6</literal> @@ <specifier>public</specifier> <name>class</name> <name>V1JobServlet</name> extends <name>BaseJobServlet</name> <block>{
         <catch>catch <parameter_list>(<parameter><decl><type><name>BaseEngineException</name></type> <name>ex</name></decl></parameter>)</parameter_list> <block>{<block_content>
             <throw>throw <expr><operator>new</operator> <call><name>XServletException</name><argument_list>(<argument><expr><name><name>HttpServletResponse</name><operator>.</operator><name>SC_BAD_REQUEST</name></name></expr></argument>, <argument><expr><name>ex</name></expr></argument>)</argument_list></call></expr>;</throw>
         <expr_stmt/></block_content></block></catch>}</block></expr></expr_stmt>

         <return>return <expr><name>actionBean</name></expr>;</return>
     </block_content>}</block></function>
 
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>V2JobServlet</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>V2JobServlet</name><operator>.</operator><name>java</name></name>
<operator>new</operator> <name>file</name> <name>mode</name> <literal type="number">100644</literal>
<name>index</name> <literal type="number">000000000..ce52b6bb1</literal>
<operator>--</operator> <operator>/</operator><name>dev</name><operator>/</operator><literal type="null">null</literal>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>V2JobServlet</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">0</literal></expr><operator>,</operator><expr><literal type="number">0</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">45</literal> @@</expr></expr_stmt>
<comment type="block" format="javadoc">/**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</comment>
<package>package <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name></name>;</package>

<import>import <name><name>javax</name><operator>.</operator><name>servlet</name><operator>.</operator><name>http</name><operator>.</operator><name>HttpServletRequest</name></name>;</import>
<import>import <name><name>javax</name><operator>.</operator><name>servlet</name><operator>.</operator><name>http</name><operator>.</operator><name>HttpServletResponse</name></name>;</import>

<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>client</name><operator>.</operator><name>rest</name><operator>.</operator><name>JsonBean</name></name>;</import>

<class><annotation>@<name>SuppressWarnings</name><argument_list>(<argument><expr><literal type="string">"serial"</literal></expr></argument>)</argument_list></annotation>
<specifier>public</specifier> class <name>V2JobServlet</name> <super_list><extends>extends <super><name>V1JobServlet</name></super></extends></super_list> <block>{

    <decl_stmt><decl><type><specifier>private</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>INSTRUMENTATION_NAME</name> <init>= <expr><literal type="string">"v2job"</literal></expr></init></decl>;</decl_stmt>

    <constructor><specifier>public</specifier> <name>V2JobServlet</name><parameter_list>()</parameter_list> <block>{<block_content>
        <expr_stmt><expr><call><name>super</name><argument_list>(<argument><expr><name>INSTRUMENTATION_NAME</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></constructor>

    <function><annotation>@<name>Override</name></annotation>
    <type><specifier>protected</specifier> <name>JsonBean</name></type> <name>getWorkflowJob</name><parameter_list>(<parameter><decl><type><name>HttpServletRequest</name></type> <name>request</name></decl></parameter>, <parameter><decl><type><name>HttpServletResponse</name></type> <name>response</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>XServletException</name></expr></argument></throws> <block>{<block_content>
        <decl_stmt><decl><type><name>JsonBean</name></type> <name>jobBean</name> <init>= <expr><call><name><name>super</name><operator>.</operator><name>getWorkflowJobBean</name></name><argument_list>(<argument><expr><name>request</name></expr></argument>, <argument><expr><name>response</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <return>return <expr><name>jobBean</name></expr>;</return>
    </block_content>}</block></function>

    <function><annotation>@<name>Override</name></annotation>
    <type><specifier>protected</specifier> <name>JsonBean</name></type> <name>getWorkflowAction</name><parameter_list>(<parameter><decl><type><name>HttpServletRequest</name></type> <name>request</name></decl></parameter>, <parameter><decl><type><name>HttpServletResponse</name></type> <name>response</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>XServletException</name></expr></argument></throws> <block>{<block_content>
        <decl_stmt><decl><type><name>JsonBean</name></type> <name>actionBean</name> <init>= <expr><call><name><name>super</name><operator>.</operator><name>getWorkflowActionBean</name></name><argument_list>(<argument><expr><name>request</name></expr></argument>, <argument><expr><name>response</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <return>return <expr><name>actionBean</name></expr>;</return>
    </block_content>}</block></function>
}</block></class>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>VersionServlet</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>VersionServlet</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>b8c0561d6</name><operator>..</operator><name>a2bb58fe9</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>VersionServlet</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>VersionServlet</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">46</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">46</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>VersionServlet</name> extends <name>JsonRestServlet</name> <block>{
             <throws>throws <argument><expr><name>ServletException</name></expr></argument>, <argument><expr><name>IOException</name> <block>{
         <expr><name>JSONArray</name> <name>versions</name> <operator>=</operator> <operator>new</operator> <call><name>JSONArray</name><argument_list>()</argument_list></call></expr></block></expr></argument></throws>;
         <expr><call><name><name>versions</name><operator>.</operator><name>add</name></name><argument_list>(<argument><expr><name><name>OozieClient</name><operator>.</operator><name>WS_PROTOCOL_VERSION_0</name></name></expr></argument>)</argument_list></call></expr>;
        <expr><call><name><name>versions</name><operator>.</operator><name>add</name></name><argument_list>(<argument><expr><name><name>OozieClient</name><operator>.</operator><name>WS_PROTOCOL_VERSION_1</name></name></expr></argument>)</argument_list></call></expr>;
         <expr><call><name><name>versions</name><operator>.</operator><name>add</name></name><argument_list>(<argument><expr><name><name>OozieClient</name><operator>.</operator><name>WS_PROTOCOL_VERSION</name></name></expr></argument>)</argument_list></call></expr>;
         <expr><call><name>sendJsonResponse</name><argument_list>(<argument><expr><name>response</name></expr></argument>, <argument><expr><name><name>HttpServletResponse</name><operator>.</operator><name>SC_OK</name></name></expr></argument>, <argument><expr><name>versions</name></expr></argument>)</argument_list></call></expr>;
     }</block>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>TestMapReduceActionExecutor</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>TestMapReduceActionExecutor</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>cf2140fc4</name><operator>..</operator><literal type="number">79e57e794</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>TestMapReduceActionExecutor</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>TestMapReduceActionExecutor</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">316</literal></expr><operator>,</operator><expr><literal type="number">13</literal> <operator>+</operator><literal type="number">316</literal></expr><operator>,</operator><expr><literal type="number">13</literal> @@ <specifier>public</specifier> <name>class</name> <name>TestMapReduceActionExecutor</name> extends <name>ActionExecutorTestCase</name> <block>{
 
         <expr><name>MapReduceActionExecutor</name> <name>ae</name> <operator>=</operator> <operator>new</operator> <call><name>MapReduceActionExecutor</name><argument_list>()</argument_list></call></expr>;
         <expr><call><name><name>ae</name><operator>.</operator><name>check</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><name>JobConf</name> <name>conf</name> <operator>=</operator> <call><name><name>ae</name><operator>.</operator><name>createBaseHadoopConf</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><call><name><name>XmlUtils</name><operator>.</operator><name>parseXml</name></name><argument_list>(<argument><expr><name>actionXml</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
         <expr><name>String</name> <name>user</name> <operator>=</operator> <call><name><name>conf</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"user.name"</literal></expr></argument>)</argument_list></call></expr>;
         <expr><name>String</name> <name>group</name> <operator>=</operator> <call><name><name>conf</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"group.name"</literal></expr></argument>)</argument_list></call></expr>;
         <expr><name>JobClient</name> <name>jobClient</name> <operator>=</operator> <call><name><name>Services</name><operator>.</operator><name>get</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><name><name>HadoopAccessorService</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call><operator>.</operator><call><name>createJobClient</name><argument_list>(<argument><expr><name>user</name></expr></argument>, <argument><expr><name>conf</name></expr></argument>)</argument_list></call></expr>;
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalChildIDs</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><call><name>waitFor</name><argument_list>(<argument><expr><literal type="number">120</literal> <operator>*</operator> <literal type="number">1000</literal></expr></argument>, <argument><expr><operator>new</operator> <class><super><name>Predicate</name></super><argument_list>()</argument_list> <block>{
             <function><type><specifier>public</specifier> <name>boolean</name></type> <name>evaluate</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">343</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">343</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> class <name>TestMapReduceActionExecutor</name> extends <name>ActionExecutorTestCase</name> <block>{
         <expr><name>String</name> <name>counters</name> <operator>=</operator> <call><name><name>context</name><operator>.</operator><name>getVar</name></name><argument_list>(<argument><expr><literal type="string">"hadoop.counters"</literal></expr></argument>)</argument_list></call></expr>;
         <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>counters</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><literal type="string">"Counter"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
        <comment type="line">//External Child IDs will always be null in case of MR action.</comment>
        <expr><call><name>assertNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <comment type="line">//External Child IDs used to be null, but after 4.0, become Non-Null in case of MR action.</comment>
        <expr><call><name>assertNotNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <return>return <expr><call><name><name>mrJob</name><operator>.</operator><name>getID</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>toString</name><argument_list>()</argument_list></call></expr>;</return>
     }</block>
@@ <operator>-</operator><literal type="number">365</literal></expr><operator>,</operator><expr><literal type="number">13</literal> <operator>+</operator><literal type="number">365</literal></expr><operator>,</operator><expr><literal type="number">13</literal> @@ <specifier>public</specifier> class <name>TestMapReduceActionExecutor</name> extends <name>ActionExecutorTestCase</name> <block>{
 
         <expr><name>MapReduceActionExecutor</name> <name>ae</name> <operator>=</operator> <operator>new</operator> <call><name>MapReduceActionExecutor</name><argument_list>()</argument_list></call></expr>;
         <expr><call><name><name>ae</name><operator>.</operator><name>check</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><name>JobConf</name> <name>conf</name> <operator>=</operator> <call><name><name>ae</name><operator>.</operator><name>createBaseHadoopConf</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><call><name><name>XmlUtils</name><operator>.</operator><name>parseXml</name></name><argument_list>(<argument><expr><name>actionXml</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
         <expr><name>String</name> <name>user</name> <operator>=</operator> <call><name><name>conf</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"user.name"</literal></expr></argument>)</argument_list></call></expr>;
         <expr><name>String</name> <name>group</name> <operator>=</operator> <call><name><name>conf</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"group.name"</literal></expr></argument>)</argument_list></call></expr>;
         <expr><name>JobClient</name> <name>jobClient</name> <operator>=</operator> <call><name><name>Services</name><operator>.</operator><name>get</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><name><name>HadoopAccessorService</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call><operator>.</operator><call><name>createJobClient</name><argument_list>(<argument><expr><name>user</name></expr></argument>, <argument><expr><name>conf</name></expr></argument>)</argument_list></call></expr>;
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalChildIDs</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><call><name>waitFor</name><argument_list>(<argument><expr><literal type="number">120</literal> <operator>*</operator> <literal type="number">1000</literal></expr></argument>, <argument><expr><operator>new</operator> <class><super><name>Predicate</name></super><argument_list>()</argument_list> <block>{
             <function><type><specifier>public</specifier> <name>boolean</name></type> <name>evaluate</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">657</literal></expr><operator>,</operator><expr><literal type="number">13</literal> <operator>+</operator><literal type="number">657</literal></expr><operator>,</operator><expr><literal type="number">13</literal> @@ <specifier>public</specifier> class <name>TestMapReduceActionExecutor</name> extends <name>ActionExecutorTestCase</name> <block>{
 
         <expr><name>MapReduceActionExecutor</name> <name>ae</name> <operator>=</operator> <operator>new</operator> <call><name>MapReduceActionExecutor</name><argument_list>()</argument_list></call></expr>;
         <expr><call><name><name>ae</name><operator>.</operator><name>check</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><name>JobConf</name> <name>conf</name> <operator>=</operator> <call><name><name>ae</name><operator>.</operator><name>createBaseHadoopConf</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><call><name><name>XmlUtils</name><operator>.</operator><name>parseXml</name></name><argument_list>(<argument><expr><name>actionXml</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
         <expr><name>String</name> <name>user</name> <operator>=</operator> <call><name><name>conf</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"user.name"</literal></expr></argument>)</argument_list></call></expr>;
         <expr><name>String</name> <name>group</name> <operator>=</operator> <call><name><name>conf</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"group.name"</literal></expr></argument>)</argument_list></call></expr>;
         <expr><name>JobClient</name> <name>jobClient</name> <operator>=</operator> <call><name><name>Services</name><operator>.</operator><name>get</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><name><name>HadoopAccessorService</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call><operator>.</operator><call><name>createJobClient</name><argument_list>(<argument><expr><name>user</name></expr></argument>, <argument><expr><name>conf</name></expr></argument>)</argument_list></call></expr>;
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalChildIDs</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><call><name>waitFor</name><argument_list>(<argument><expr><literal type="number">120</literal> <operator>*</operator> <literal type="number">1000</literal></expr></argument>, <argument><expr><operator>new</operator> <class><super><name>Predicate</name></super><argument_list>()</argument_list> <block>{
             <function><type><specifier>public</specifier> <name>boolean</name></type> <name>evaluate</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">684</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">684</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> class <name>TestMapReduceActionExecutor</name> extends <name>ActionExecutorTestCase</name> <block>{
         <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExecutionStats</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>contains</name><argument_list>(<argument><expr><literal type="string">"ACTION_TYPE"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
         <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExecutionStats</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>contains</name><argument_list>(<argument><expr><literal type="string">"Counter"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
        <comment type="line">// External Child IDs will always be null in case of MR action.</comment>
        <expr><call><name>assertNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <comment type="line">// External Child IDs used to be null, but after 4.0, become Non-Null in case of MR action.</comment>
        <expr><call><name>assertNotNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <comment type="line">// hadoop.counters will always be set in case of MR action.</comment>
         <expr><call><name>assertNotNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getVar</name></name><argument_list>(<argument><expr><literal type="string">"hadoop.counters"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
@@ <expr><operator>-</operator><literal type="number">732</literal></expr>,<expr><literal type="number">13</literal> <operator>+</operator><literal type="number">732</literal></expr>,<expr><literal type="number">13</literal> @@ <specifier>public</specifier> class <name>TestMapReduceActionExecutor</name> extends <name>ActionExecutorTestCase</name> <block>{
 
         <expr><name>MapReduceActionExecutor</name> <name>ae</name> <operator>=</operator> <operator>new</operator> <call><name>MapReduceActionExecutor</name><argument_list>()</argument_list></call></expr>;
         <expr><call><name><name>ae</name><operator>.</operator><name>check</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><name>JobConf</name> <name>conf</name> <operator>=</operator> <call><name><name>ae</name><operator>.</operator><name>createBaseHadoopConf</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><call><name><name>XmlUtils</name><operator>.</operator><name>parseXml</name></name><argument_list>(<argument><expr><name>actionXml</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
         <expr><name>String</name> <name>user</name> <operator>=</operator> <call><name><name>conf</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"user.name"</literal></expr></argument>)</argument_list></call></expr>;
         <expr><name>String</name> <name>group</name> <operator>=</operator> <call><name><name>conf</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"group.name"</literal></expr></argument>)</argument_list></call></expr>;
         <expr><name>JobClient</name> <name>jobClient</name> <operator>=</operator> <call><name><name>Services</name><operator>.</operator><name>get</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><name><name>HadoopAccessorService</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call><operator>.</operator><call><name>createJobClient</name><argument_list>(<argument><expr><name>user</name></expr></argument>, <argument><expr><name>conf</name></expr></argument>)</argument_list></call></expr>;
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalChildIDs</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><call><name>waitFor</name><argument_list>(<argument><expr><literal type="number">120</literal> <operator>*</operator> <literal type="number">1000</literal></expr></argument>, <argument><expr><operator>new</operator> <class><super><name>Predicate</name></super><argument_list>()</argument_list> <block>{
             <function><type><specifier>public</specifier> <name>boolean</name></type> <name>evaluate</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">757</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">757</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> class <name>TestMapReduceActionExecutor</name> extends <name>ActionExecutorTestCase</name> <block>{
         <comment type="line">// Assert for stats info stored in the context.</comment>
         <expr><call><name>assertNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExecutionStats</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
        <comment type="line">// External Child IDs will always be null in case of MR action.</comment>
        <expr><call><name>assertNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <comment type="line">// External Child IDs used to be null, but after 4.0, become Non-Null in case of MR action.</comment>
        <expr><call><name>assertNotNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <comment type="line">// hadoop.counters will always be set in case of MR action.</comment>
         <expr><call><name>assertNotNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getVar</name></name><argument_list>(<argument><expr><literal type="string">"hadoop.counters"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
@@ <expr><operator>-</operator><literal type="number">816</literal></expr>,<expr><literal type="number">7</literal> <operator>+</operator><literal type="number">816</literal></expr>,<expr><literal type="number">7</literal> @@ <specifier>public</specifier> class <name>TestMapReduceActionExecutor</name> extends <name>ActionExecutorTestCase</name> <block>{
 
         <expr><name>MapReduceActionExecutor</name> <name>ae</name> <operator>=</operator> <operator>new</operator> <call><name>MapReduceActionExecutor</name><argument_list>()</argument_list></call></expr>;
         <expr><call><name><name>ae</name><operator>.</operator><name>check</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><name>JobConf</name> <name>conf</name> <operator>=</operator> <call><name><name>ae</name><operator>.</operator><name>createBaseHadoopConf</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>,
                 <argument><expr><call><name><name>XmlUtils</name><operator>.</operator><name>parseXml</name></name><argument_list>(<argument><expr><name>actionXml</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
@@ <expr><operator>-</operator><literal type="number">825</literal></expr>,<expr><literal type="number">7</literal> <operator>+</operator><literal type="number">825</literal></expr>,<expr><literal type="number">7</literal> @@ <specifier>public</specifier> class <name>TestMapReduceActionExecutor</name> extends <name>ActionExecutorTestCase</name> <block>{
         <expr><name>JobClient</name> <name>jobClient</name> <operator>=</operator> <call><name><name>Services</name><operator>.</operator><name>get</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><name><name>HadoopAccessorService</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call>
                 <operator>.</operator><call><name>createJobClient</name><argument_list>(<argument><expr><name>user</name></expr></argument>, <argument><expr><name>conf</name></expr></argument>)</argument_list></call></expr>;
         <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><call><name><name>context</name>
                <operator>.</operator><name>getAction</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
                <expr><operator>.</operator><call><name>getAction</name><argument_list>()</argument_list></call><operator>.</operator><call><name>getExternalChildIDs</name><argument_list>()</argument_list></call></expr></block></expr></block></expr></block></expr></expr_stmt></block_content></block></function></block></class></expr></argument>)</argument_list></call></expr></block></expr></block></expr></expr_stmt></block_content></block></function></block></class></expr></argument>)</argument_list></call></expr>;
 
         <expr><call><name>waitFor</name><argument_list>(<argument><expr><literal type="number">120</literal> <operator>*</operator> <literal type="number">1000</literal></expr></argument>, <argument><expr><operator>new</operator> <class><super><name>Predicate</name></super><argument_list>()</argument_list> <block>{
             <function><type><specifier>public</specifier> <name>boolean</name></type> <name>evaluate</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">848</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">848</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> class <name>TestMapReduceActionExecutor</name> extends <name>ActionExecutorTestCase</name> <block>{
         <comment type="line">// Assert for stats info stored in the context.</comment>
         <expr><call><name>assertNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExecutionStats</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
        <comment type="line">// External Child IDs will always be null in case of MR action.</comment>
        <expr><call><name>assertNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <comment type="line">// External Child IDs used to be null, but after 4.0, become Non-Null in case of MR action.</comment>
        <expr><call><name>assertNotNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <comment type="line">// hadoop.counters will always be set in case of MR action.</comment>
         <expr><call><name>assertNotNull</name><argument_list>(<argument><expr><call><name><name>context</name><operator>.</operator><name>getVar</name></name><argument_list>(<argument><expr><literal type="string">"hadoop.counters"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
<expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>TestOozieCLI</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>TestOozieCLI</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>c4c06a116</name><operator>..</operator><literal type="number">6b44e4edf</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>TestOozieCLI</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>TestOozieCLI</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">34</literal></expr>,<expr><literal type="number">6</literal> <operator>+</operator><literal type="number">34</literal></expr>,<expr><literal type="number">7</literal> @@</expr> <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>MockDagEngineService</name></name>;</import></block></expr></expr_stmt>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>V1AdminServlet</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>V1JobServlet</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>V1JobsServlet</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>V2JobServlet</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>util</name><operator>.</operator><name>XConfiguration</name></name>;</import>
 
 <comment type="line">//hardcoding options instead using constants on purpose, to detect changes to option names if any and correct docs.</comment>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">44</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">45</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> class <name>TestOozieCLI</name> extends <name>DagServletTestCase</name> <block>{
         <expr><operator>new</operator> <call><name>V1JobServlet</name><argument_list>()</argument_list></call></expr>;
         <expr><operator>new</operator> <call><name>V1JobsServlet</name><argument_list>()</argument_list></call></expr>;
         <expr><operator>new</operator> <call><name>V1AdminServlet</name><argument_list>()</argument_list></call></expr>;
        <expr><operator>new</operator> <call><name>V2JobServlet</name><argument_list>()</argument_list></call></expr>;
     }</block>
 
     <specifier>static</specifier> <name>final</name> <name>boolean</name> <name>IS_SECURITY_ENABLED</name> <operator>=</operator> <literal type="boolean">false</literal></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">51</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">53</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> class <name>TestOozieCLI</name> extends <name>DagServletTestCase</name> <block>{
     <expr><specifier>static</specifier> <name>final</name> <name><name>String</name><index>[]</index></name> <name>END_POINTS</name> <operator>=</operator> <block>{<expr><literal type="string">"/versions"</literal></expr>, <expr><name>VERSION</name> <operator>+</operator> <literal type="string">"/jobs"</literal></expr>, <expr><name>VERSION</name> <operator>+</operator> <literal type="string">"/job/*"</literal></expr>, <expr><name>VERSION</name> <operator>+</operator> <literal type="string">"/admin/*"</literal></expr>}</block></expr>;
     <expr><specifier>static</specifier> <name>final</name> <name><name>Class</name><index>[]</index></name> <name>SERVLET_CLASSES</name> <operator>=</operator>
  <block>{ <expr><name><name>HeaderTestingVersionServlet</name><operator>.</operator><name>class</name></name></expr>, <expr><name><name>V1JobsServlet</name><operator>.</operator><name>class</name></name></expr>, <expr><name><name>V1JobServlet</name><operator>.</operator><name>class</name></name></expr>,
            <expr><name><name>V1AdminServlet</name><operator>.</operator><name>class</name></name></expr> }</block></expr>;
            <expr><name><name>V1AdminServlet</name><operator>.</operator><name>class</name></name></expr>, <expr><name><name>V2JobServlet</name><operator>.</operator><name>class</name></name></expr> }</block></expr>;</expr_stmt>
 
     <function><annotation>@<name>Override</name></annotation>
     <type><specifier>protected</specifier> <name>void</name></type> <name>setUp</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">512</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">514</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> class <name>TestOozieCLI</name> extends <name>DagServletTestCase</name> <block>{
                 <expr><call><name>assertEquals</name><argument_list>(<argument><expr><literal type="number">0</literal></expr></argument>, <argument><expr><operator>new</operator> <call><name>OozieCLI</name><argument_list>()</argument_list></call><operator>.</operator><call><name>run</name><argument_list>(<argument><expr><name>args</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
                 <expr><call><name>assertEquals</name><argument_list>(<argument><expr><name><name>RestConstants</name><operator>.</operator><name>JOB_SHOW_INFO</name></name></expr></argument>, <argument><expr><name><name>MockDagEngineService</name><operator>.</operator><name>did</name></name></expr></argument>)</argument_list></call></expr>;
 
                <expr><name>args</name> <operator>=</operator> <operator>new</operator> <name><name>String</name><index>[]</index></name><block>{<expr><literal type="string">"job"</literal></expr>, <expr><literal type="string">"-timezone"</literal></expr>, <expr><literal type="string">"PST"</literal></expr>, <expr><literal type="string">"-oozie"</literal></expr>, <expr><name>oozieUrl</name></expr>, <expr><literal type="string">"-info"</literal></expr>, 
                <expr><name>args</name> <operator>=</operator> <operator>new</operator> <name><name>String</name><index>[]</index></name><block>{<expr><literal type="string">"job"</literal></expr>, <expr><literal type="string">"-timezone"</literal></expr>, <expr><literal type="string">"PST"</literal></expr>, <expr><literal type="string">"-oozie"</literal></expr>, <expr><name>oozieUrl</name></expr>, <expr><literal type="string">"-info"</literal></expr>,
                     <expr><name><name>MockDagEngineService</name><operator>.</operator><name>JOB_ID</name></name> <operator>+</operator> <literal type="string">"1"</literal> <operator>+</operator> <name><name>MockDagEngineService</name><operator>.</operator><name>JOB_ID_END</name></name></expr>}</block></expr>;
                 <expr><call><name>assertEquals</name><argument_list>(<argument><expr><literal type="number">0</literal></expr></argument>, <argument><expr><operator>new</operator> <call><name>OozieCLI</name><argument_list>()</argument_list></call><operator>.</operator><call><name>run</name><argument_list>(<argument><expr><name>args</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
                 <expr><call><name>assertEquals</name><argument_list>(<argument><expr><name><name>RestConstants</name><operator>.</operator><name>JOB_SHOW_INFO</name></name></expr></argument>, <argument><expr><name><name>MockDagEngineService</name><operator>.</operator><name>did</name></name></expr></argument>)</argument_list></call></expr>;
@@ <expr><operator>-</operator><literal type="number">544</literal></expr>,<expr><literal type="number">14</literal> <operator>+</operator><literal type="number">546</literal></expr>,<expr><literal type="number">14</literal> @@ <specifier>public</specifier> class <name>TestOozieCLI</name> extends <name>DagServletTestCase</name> <block>{
                 <expr><call><name>assertEquals</name><argument_list>(<argument><expr><literal type="number">0</literal></expr></argument>, <argument><expr><operator>new</operator> <call><name>OozieCLI</name><argument_list>()</argument_list></call><operator>.</operator><call><name>run</name><argument_list>(<argument><expr><name>args</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
                 <expr><call><name>assertEquals</name><argument_list>(<argument><expr><name><name>RestConstants</name><operator>.</operator><name>JOBS_FILTER_PARAM</name></name></expr></argument>, <argument><expr><name><name>MockDagEngineService</name><operator>.</operator><name>did</name></name></expr></argument>)</argument_list></call></expr>;
                 
                <expr><name>args</name> <operator>=</operator> <operator>new</operator> <name><name>String</name><index>[]</index></name><block>{<expr><literal type="string">"jobs"</literal></expr>, <expr><literal type="string">"-timezone"</literal></expr>, <expr><literal type="string">"PST"</literal></expr>, <expr><literal type="string">"-len"</literal></expr>, <expr><literal type="string">"3"</literal></expr>, <expr><literal type="string">"-offset"</literal></expr>, <expr><literal type="string">"2"</literal></expr>, <expr><literal type="string">"-oozie"</literal></expr>, <expr><name>oozieUrl</name></expr>, 
                <expr><name>args</name> <operator>=</operator> <operator>new</operator> <name><name>String</name><index>[]</index></name><block>{<expr><literal type="string">"jobs"</literal></expr>, <expr><literal type="string">"-timezone"</literal></expr>, <expr><literal type="string">"PST"</literal></expr>, <expr><literal type="string">"-len"</literal></expr>, <expr><literal type="string">"3"</literal></expr>, <expr><literal type="string">"-offset"</literal></expr>, <expr><literal type="string">"2"</literal></expr>, <expr><literal type="string">"-oozie"</literal></expr>, <expr><name>oozieUrl</name></expr>,
                     <expr><literal type="string">"-filter"</literal></expr>, <expr><literal type="string">"name=x"</literal></expr>}</block></expr>;
                 <expr><call><name>assertEquals</name><argument_list>(<argument><expr><literal type="number">0</literal></expr></argument>, <argument><expr><operator>new</operator> <call><name>OozieCLI</name><argument_list>()</argument_list></call><operator>.</operator><call><name>run</name><argument_list>(<argument><expr><name>args</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
                 <expr><call><name>assertEquals</name><argument_list>(<argument><expr><name><name>RestConstants</name><operator>.</operator><name>JOBS_FILTER_PARAM</name></name></expr></argument>, <argument><expr><name><name>MockDagEngineService</name><operator>.</operator><name>did</name></name></expr></argument>)</argument_list></call></expr>;
                 
                 <expr><name>args</name> <operator>=</operator> <operator>new</operator> <name><name>String</name><index>[]</index></name><block>{<expr><literal type="string">"jobs"</literal></expr>, <expr><literal type="string">"-jobtype"</literal></expr>, <expr><literal type="string">"coord"</literal></expr>,  <expr><literal type="string">"-filter"</literal></expr>, <expr><literal type="string">"status=FAILED"</literal></expr>, <expr><literal type="string">"-oozie"</literal></expr>, <expr><name>oozieUrl</name></expr>}</block></expr>;
                 <expr><call><name>assertEquals</name><argument_list>(<argument><expr><literal type="number">0</literal></expr></argument>, <argument><expr><operator>new</operator> <call><name>OozieCLI</name><argument_list>()</argument_list></call><operator>.</operator><call><name>run</name><argument_list>(<argument><expr><name>args</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
                <expr><call><name>assertEquals</name><argument_list>(<argument><expr><name><name>RestConstants</name><operator>.</operator><name>JOBS_FILTER_PARAM</name></name></expr></argument>, <argument><expr><name><name>MockDagEngineService</name><operator>.</operator><name>did</name></name></expr></argument>)</argument_list></call></expr>;                
                <expr><call><name>assertEquals</name><argument_list>(<argument><expr><name><name>RestConstants</name><operator>.</operator><name>JOBS_FILTER_PARAM</name></name></expr></argument>, <argument><expr><name><name>MockDagEngineService</name><operator>.</operator><name>did</name></name></expr></argument>)</argument_list></call></expr>;
                 <return>return <expr><literal type="null">null</literal></expr>;</return>
             }</block>
         }</expr></block></expr></block></expr></block></expr></expr_stmt></block_content></block></function></block_content></block></function></block></class></expr></argument>)</argument_list></call></expr>;
<expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>TestWorkflowClient</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>TestWorkflowClient</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>a4b04103c</name><operator>..</operator><name>bf443725c</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>TestWorkflowClient</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>client</name><operator>/</operator><name><name>TestWorkflowClient</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">30</literal></expr>,<expr><literal type="number">6</literal> <operator>+</operator><literal type="number">30</literal></expr>,<expr><literal type="number">9</literal> @@</expr> <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>MockDagEngineService</name></name>;</import></block></expr></expr_stmt>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>V0JobServlet</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>V0JobsServlet</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>V1AdminServlet</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>V1JobServlet</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>V1JobsServlet</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>servlet</name><operator>.</operator><name>V2JobServlet</name></name>;</import>
 
 <class><specifier>public</specifier> class <name>TestWorkflowClient</name> <super_list><extends>extends <super><name>DagServletTestCase</name></super></extends></super_list> <block>{
 
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">37</literal></expr><operator>,</operator><expr><literal type="number">14</literal> <operator>+</operator><literal type="number">40</literal></expr><operator>,</operator><expr><literal type="number">17</literal> @@ <specifier>public</specifier> class <name>TestWorkflowClient</name> extends <name>DagServletTestCase</name> <block>{
         <expr><operator>new</operator> <call><name>HeaderTestingVersionServlet</name><argument_list>()</argument_list></call></expr>;
         <expr><operator>new</operator> <call><name>V0JobServlet</name><argument_list>()</argument_list></call></expr>;
         <expr><operator>new</operator> <call><name>V0JobsServlet</name><argument_list>()</argument_list></call></expr>;
        <expr><operator>new</operator> <call><name>V1JobsServlet</name><argument_list>()</argument_list></call></expr>;
         <expr><operator>new</operator> <call><name>V1AdminServlet</name><argument_list>()</argument_list></call></expr>;
        <expr><operator>new</operator> <call><name>V1JobServlet</name><argument_list>()</argument_list></call></expr>;
        <expr><operator>new</operator> <call><name>V2JobServlet</name><argument_list>()</argument_list></call></expr>;
     }</block>
 
     <specifier>private</specifier> <specifier>static</specifier> <name>final</name> <name>boolean</name> <name>IS_SECURITY_ENABLED</name> <operator>=</operator> <literal type="boolean">false</literal></expr>;</expr_stmt>
     <decl_stmt><decl><type><specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>VERSION</name> <init>= <expr><literal type="string">"/v"</literal> <operator>+</operator> <name><name>OozieClient</name><operator>.</operator><name>WS_PROTOCOL_VERSION</name></name></expr></init></decl>;</decl_stmt>
     <decl_stmt><decl><type><specifier>static</specifier> <specifier>final</specifier> <name><name>String</name><index>[]</index></name></type> <name>END_POINTS</name> <init>= <expr><block>{<expr><literal type="string">"/versions"</literal></expr>, <expr><name>VERSION</name> <operator>+</operator> <literal type="string">"/jobs"</literal></expr>, <expr><name>VERSION</name> <operator>+</operator> <literal type="string">"/job/*"</literal></expr>, <expr><name>VERSION</name> <operator>+</operator> <literal type="string">"/admin/*"</literal></expr>}</block></expr></init></decl>;</decl_stmt>
     <decl_stmt><decl><type><specifier>static</specifier> <specifier>final</specifier> <name><name>Class</name><index>[]</index></name></type> <name>SERVLET_CLASSES</name> <init>= <expr><block>{<expr><name><name>HeaderTestingVersionServlet</name><operator>.</operator><name>class</name></name></expr>, <expr><name><name>V0JobsServlet</name><operator>.</operator><name>class</name></name></expr>,
            <expr><name><name>V0JobServlet</name><operator>.</operator><name>class</name></name></expr>, <expr><name><name>V1AdminServlet</name><operator>.</operator><name>class</name></name></expr>}</block></expr></init></decl>;</decl_stmt>
            <expr_stmt><expr><name><name>V0JobServlet</name><operator>.</operator><name>class</name></name></expr><operator>,</operator> <expr><name><name>V1AdminServlet</name><operator>.</operator><name>class</name></name></expr><operator>,</operator> <expr><name><name>V1JobServlet</name><operator>.</operator><name>class</name></name></expr><operator>,</operator> <expr><name><name>V2JobServlet</name><operator>.</operator><name>class</name></name></expr><operator>,</operator> <expr><name><name>V1JobsServlet</name><operator>.</operator><name>class</name></name></expr></expr_stmt>}</block>;</class>
 
     <function><type><specifier>protected</specifier> <name>void</name></type> <name>setUp</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
         <expr_stmt><expr><call><name><name>super</name><operator>.</operator><name>setUp</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>wf</name><operator>/</operator><name><name>TestActionCheckXCommand</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>wf</name><operator>/</operator><name><name>TestActionCheckXCommand</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>c80057593</name><operator>..</operator><literal type="number">467eca4a2</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>wf</name><operator>/</operator><name><name>TestActionCheckXCommand</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>wf</name><operator>/</operator><name><name>TestActionCheckXCommand</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">220</literal></expr><operator>,</operator><expr><literal type="number">10</literal> <operator>+</operator><literal type="number">220</literal></expr><operator>,</operator><expr><literal type="number">11</literal> @@ <specifier>public</specifier> class <name>TestActionCheckXCommand</name> extends <name>XDataTestCase</name> <block>{
         <expr><operator>new</operator> <call><name>ActionCheckXCommand</name><argument_list>(<argument><expr><call><name><name>action</name><operator>.</operator><name>getId</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>call</name><argument_list>()</argument_list></call></expr>;
         <expr><name>action</name> <operator>=</operator> <call><name><name>jpaService</name><operator>.</operator><name>execute</name></name><argument_list>(<argument><expr><name>wfActionGetCmd</name></expr></argument>)</argument_list></call></expr>;
         <expr><name>String</name> <name>mapperId</name> <operator>=</operator> <call><name><name>action</name><operator>.</operator><name>getExternalId</name></name><argument_list>()</argument_list></call></expr>;
        <expr><name>String</name> <name>childId</name> <operator>=</operator> <call><name><name>action</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr>;
 
        <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>mapperId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>mapperId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><name>mapperId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><name>childId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><call><name>waitFor</name><argument_list>(<argument><expr><literal type="number">120</literal> <operator>*</operator> <literal type="number">1000</literal></expr></argument>, <argument><expr><operator>new</operator> <class><super><name>Predicate</name></super><argument_list>()</argument_list> <block>{
             <function><type><specifier>public</specifier> <name>boolean</name></type> <name>evaluate</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">329</literal></expr><operator>,</operator><expr><literal type="number">10</literal> <operator>+</operator><literal type="number">330</literal></expr><operator>,</operator><expr><literal type="number">11</literal> @@ <specifier>public</specifier> class <name>TestActionCheckXCommand</name> extends <name>XDataTestCase</name> <block>{
         <expr><operator>new</operator> <call><name>ActionCheckXCommand</name><argument_list>(<argument><expr><name>actionId</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>call</name><argument_list>()</argument_list></call></expr>;
         <expr><name>WorkflowActionBean</name> <name>action4</name> <operator>=</operator> <call><name><name>jpaService</name><operator>.</operator><name>execute</name></name><argument_list>(<argument><expr><name>wfActionGetCmd</name></expr></argument>)</argument_list></call></expr>;
         <expr><name>String</name> <name>mapperId</name> <operator>=</operator> <call><name><name>action4</name><operator>.</operator><name>getExternalId</name></name><argument_list>()</argument_list></call></expr>;
        <expr><name>String</name> <name>childId</name> <operator>=</operator> <call><name><name>action4</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr>;
 
        <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>mapperId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>mapperId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><name>mapperId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><name>childId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><call><name>waitFor</name><argument_list>(<argument><expr><literal type="number">120</literal> <operator>*</operator> <literal type="number">1000</literal></expr></argument>, <argument><expr><operator>new</operator> <class><super><name>Predicate</name></super><argument_list>()</argument_list> <block>{
             <annotation>@<name>Override</name></annotation>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">392</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">394</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> class <name>TestActionCheckXCommand</name> extends <name>XDataTestCase</name> <block>{
 
         <expr><operator>new</operator> <call><name>ActionCheckXCommand</name><argument_list>(<argument><expr><call><name><name>action1</name><operator>.</operator><name>getId</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>call</name><argument_list>()</argument_list></call></expr>;
         <expr><name>WorkflowActionBean</name> <name>action2</name> <operator>=</operator> <call><name><name>jpaService</name><operator>.</operator><name>execute</name></name><argument_list>(<argument><expr><name>wfActionGetCmd</name></expr></argument>)</argument_list></call></expr>;
        <expr><name>String</name> <name>originalMapperId</name> <operator>=</operator> <call><name><name>action2</name><operator>.</operator><name>getExternalId</name></name><argument_list>()</argument_list></call></expr>;
        <expr><name>String</name> <name>originalMapperId</name> <operator>=</operator> <call><name><name>action2</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr>;
 
         <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>originalLauncherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>originalMapperId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
@@ <expr><operator>-</operator><literal type="number">442</literal></expr>,<expr><literal type="number">7</literal> <operator>+</operator><literal type="number">444</literal></expr>,<expr><literal type="number">6</literal> @@ <specifier>public</specifier> class <name>TestActionCheckXCommand</name> extends <name>XDataTestCase</name> <block>{
         <expr><name>String</name> <name>launcherId</name> <operator>=</operator> <call><name><name>action3</name><operator>.</operator><name>getExternalId</name></name><argument_list>()</argument_list></call></expr>;
 
         <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>originalLauncherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>launcherId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>originalMapperId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>launcherId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><name>final</name> <name>RunningJob</name> <name>launcherJob2</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><name>launcherId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
@@ <expr><operator>-</operator><literal type="number">452</literal></expr>,<expr><literal type="number">16</literal> <operator>+</operator><literal type="number">453</literal></expr>,<expr><literal type="number">15</literal> @@ <specifier>public</specifier> class <name>TestActionCheckXCommand</name> extends <name>XDataTestCase</name> <block>{
                 <return>return <expr><call><name><name>launcherJob2</name><operator>.</operator><name>isComplete</name></name><argument_list>()</argument_list></call></expr>;</return>
             }</block>
         }</expr></block></expr></block></expr></expr_stmt></block></class></expr></argument>)</argument_list></call></expr>;

         <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>launcherJob2</name><operator>.</operator><name>isSuccessful</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
         <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>LauncherMapper</name><operator>.</operator><name>hasIdSwap</name></name><argument_list>(<argument><expr><name>launcherJob2</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><operator>new</operator> <call><name>ActionCheckXCommand</name><argument_list>(<argument><expr><name>actionId</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>call</name><argument_list>()</argument_list></call></expr>;
         <expr><name>WorkflowActionBean</name> <name>action4</name> <operator>=</operator> <call><name><name>jpaService</name><operator>.</operator><name>execute</name></name><argument_list>(<argument><expr><name>wfActionGetCmd</name></expr></argument>)</argument_list></call></expr>;
        <expr><name>String</name> <name>mapperId</name> <operator>=</operator> <call><name><name>action4</name><operator>.</operator><name>getExternalId</name></name><argument_list>()</argument_list></call></expr>;
        <expr><name>String</name> <name>mapperId</name> <operator>=</operator> <call><name><name>action4</name><operator>.</operator><name>getExternalChildIDs</name></name><argument_list>()</argument_list></call></expr>;
         <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>originalMapperId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>mapperId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
        <expr><call><name>assertFalse</name><argument_list>(<argument><expr><call><name><name>launcherId</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>mapperId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;

         <expr><name>final</name> <name>RunningJob</name> <name>mrJob</name> <operator>=</operator> <call><name><name>jobClient</name><operator>.</operator><name>getJob</name></name><argument_list>(<argument><expr><call><name><name>JobID</name><operator>.</operator><name>forName</name></name><argument_list>(<argument><expr><name>mapperId</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
 
         <expr><call><name>waitFor</name><argument_list>(<argument><expr><literal type="number">120</literal> <operator>*</operator> <literal type="number">1000</literal></expr></argument>, <argument><expr><operator>new</operator> <class><super><name>Predicate</name></super><argument_list>()</argument_list> <block>{
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>TestVersionServlet</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>TestVersionServlet</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>d5ab3323f</name><operator>..</operator><name>f9d7d421f</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>TestVersionServlet</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>servlet</name><operator>/</operator><name><name>TestVersionServlet</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">47</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">47</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> class <name>TestVersionServlet</name> extends <name>DagServletTestCase</name> <block>{
                 <expr><call><name>assertEquals</name><argument_list>(<argument><expr><name><name>HttpServletResponse</name><operator>.</operator><name>SC_OK</name></name></expr></argument>, <argument><expr><call><name><name>conn</name><operator>.</operator><name>getResponseCode</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
                 <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>conn</name><operator>.</operator><name>getHeaderField</name></name><argument_list>(<argument><expr><literal type="string">"content-type"</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>startsWith</name><argument_list>(<argument><expr><name><name>RestConstants</name><operator>.</operator><name>JSON_CONTENT_TYPE</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
                 <expr><name>JSONArray</name> <name>array</name> <operator>=</operator> <operator>(</operator><name>JSONArray</name><operator>)</operator> <call><name><name>JSONValue</name><operator>.</operator><name>parse</name></name><argument_list>(<argument><expr><operator>new</operator> <call><name>InputStreamReader</name><argument_list>(<argument><expr><call><name><name>conn</name><operator>.</operator><name>getInputStream</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
                <expr><call><name>assertEquals</name><argument_list>(<argument><expr><literal type="number">2</literal></expr></argument>, <argument><expr><call><name><name>array</name><operator>.</operator><name>size</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
                <expr><call><name>assertEquals</name><argument_list>(<argument><expr><name><name>OozieClient</name><operator>.</operator><name>WS_PROTOCOL_VERSION</name></name></expr></argument>, <argument><expr><call><name><name>array</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
                <expr><call><name>assertEquals</name><argument_list>(<argument><expr><literal type="number">3</literal></expr></argument>, <argument><expr><call><name><name>array</name><operator>.</operator><name>size</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
                <expr><call><name>assertEquals</name><argument_list>(<argument><expr><name><name>OozieClient</name><operator>.</operator><name>WS_PROTOCOL_VERSION_1</name></name></expr></argument>, <argument><expr><call><name><name>array</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
                 <return>return <expr><literal type="null">null</literal></expr>;</return>
             }</block>
         }</expr></expr_stmt></block></class></expr></argument>)</argument_list></call></expr>;
<expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>docs</name><operator>/</operator><name>src</name><operator>/</operator><name>site</name><operator>/</operator><name>twiki</name><operator>/</operator><name><name>WebServicesAPI</name><operator>.</operator><name>twiki</name></name> <name>b</name><operator>/</operator><name>docs</name><operator>/</operator><name>src</name><operator>/</operator><name>site</name><operator>/</operator><name>twiki</name><operator>/</operator><name><name>WebServicesAPI</name><operator>.</operator><name>twiki</name></name>
<name>index</name> <literal type="number">7faaa8910</literal><operator>..</operator><literal type="number">71db0ae03</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>docs</name><operator>/</operator><name>src</name><operator>/</operator><name>site</name><operator>/</operator><name>twiki</name><operator>/</operator><name><name>WebServicesAPI</name><operator>.</operator><name>twiki</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>docs</name><operator>/</operator><name>src</name><operator>/</operator><name>site</name><operator>/</operator><name>twiki</name><operator>/</operator><name><name>WebServicesAPI</name><operator>.</operator><name>twiki</name></name>
@@ <operator>-</operator><literal type="number">897</literal></expr>,<expr><literal type="number">6</literal> <operator>+</operator><literal type="number">897</literal></expr>,<expr><literal type="number">86</literal> @@ <name>Content</name><operator>-</operator><name>Type</name><operator>:</operator> <name>application</name><operator>/</operator><name>json</name></expr>;<expr><name>charset</name><operator>=</operator><name>UTF</name><operator>-</operator><literal type="number">8</literal></expr>
 }</block>
 <operator>&lt;</operator><operator>/</operator><name>verbatim</name><operator>&gt;</operator>
 
<operator>--</operator><operator>-</operator><operator>++</operator> <name>Oozie</name> <name>Web</name> <name>Services</name> <name>API</name></expr><operator>,</operator> <expr><call><name>V2</name> <argument_list>(<argument><expr><name>Workflow</name></expr></argument> , <argument><expr><name>Coordinator</name> <name>And</name> <name>Bundle</name></expr></argument>)</argument_list></call>

<name>The</name> <name>Oozie</name> <name>Web</name> <name>Services</name> <name>API</name> <name>is</name> <name>a</name> <name>HTTP</name> <name>REST</name> <name>JSON</name> <name><name>API</name><operator>.</operator>

<name>All</name></name> <name>responses</name> <name>are</name> <name>in</name> <operator>=</operator><name>UTF</name><operator>-</operator><literal type="number">8</literal><operator>=</operator><operator>.</operator>

<name>Assuming</name> <name>Oozie</name> <name>is</name> <name>runing</name> <name>at</name> <operator>=</operator><name>OOZIE_URL</name><operator>=</operator></expr><operator>,</operator> <expr><name>the</name> <name>following</name> <name>web</name> <name>services</name> <name>end</name> <name>points</name> <name>are</name> <name>supported</name><operator>:</operator>

   <operator>*</operator> <operator>&lt;</operator><name>OOZIE_URL</name><operator>&gt;</operator><operator>/</operator><name>versions</name>
   <operator>*</operator> <operator>&lt;</operator><name>OOZIE_URL</name><operator>&gt;</operator><operator>/</operator><name>v2</name><operator>/</operator><name>admin</name>
   <operator>*</operator> <operator>&lt;</operator><name>OOZIE_URL</name><operator>&gt;</operator><operator>/</operator><name>v2</name><operator>/</operator><name>job</name>
   <operator>*</operator> <operator>&lt;</operator><name>OOZIE_URL</name><operator>&gt;</operator><operator>/</operator><name>v2</name><operator>/</operator><name>jobs</name>

<name>Please</name> <name>note</name> <name>that</name> <name>v1</name> <name>and</name> <name>v2</name> <name>are</name> <name>almost</name> <name><name>identical</name><operator>.</operator>
<name>Only</name></name> <name>difference</name> <name>is</name> <name>the</name> <name>JSON</name> <name>format</name> <name>of</name> <name>Job</name> <name>Information</name> <call><name>API</name> <argument_list>(<argument><expr><operator>*</operator><operator>/</operator><name>job</name></expr></argument>)</argument_list></call> <name>particularly</name></expr></expr_stmt> <for>for map-reduce action.
No change for other actions.

In v1<operator>,</operator> <decl_stmt><decl><type><name>externalId</name> <name>and</name> <name>consoleUrl</name> <name>point</name> <name>to</name> <name>spawned</name> <name>child</name> <name>job</name></type> <name>ID</name></decl>, <decl><type ref="prev"/><name>and</name> <name>exteranlChildIDs</name> <name>is</name> null <name>in</name> <name>map</name>-<name>reduce</name> <name><name>action</name><operator>.</operator>
<name>In</name></name> <name>v2</name></decl>, <decl><type ref="prev"/><name>externalId</name> <name>and</name> <name>consoleUrl</name> <name>point</name> <name>to</name> <name>launcher</name> <name>job</name> <name>ID</name></decl>, <decl><type ref="prev"/><name>and</name> <name>exteranlChildIDs</name> <name>is</name> <name>spawned</name> <name>child</name> <name>job</name> <name>ID</name> <name>in</name> <name>map</name>-<name>reduce</name> <name><name>action</name><operator>.</operator>

<name>v2</name></name>/<name>admin</name></decl>, <decl><type ref="prev"/><name>v2</name>/<name>jobs</name> <name>remain</name> <name>the</name> <name>same</name> <name>with</name> <name>v1</name>/<name>admin</name></decl>, <decl><type ref="prev"/><name>v1</name>/<name>jobs</name>

---+++ <name>Job</name> <name>and</name> <name>Jobs</name> <name>End</name>-<name>Points</name>

---++++ <name>Job</name> <name>Information</name>

<name>A</name> <name>HTTP</name> <name>GET</name> <name>request</name> <name>retrieves</name> <name>the</name> <name>job</name> <name><name>information</name><operator>.</operator></name>

*<name>Request</name><range>:<expr><ternary><condition><expr><operator>*</operator>

<operator>&lt;</operator><name>verbatim</name><operator>&gt;</operator>
<name>GET</name> <operator>/</operator><name>oozie</name><operator>/</operator><name>v2</name><operator>/</operator><name>job</name><operator>/</operator><name>job</name><operator>-</operator><literal type="number">3</literal></expr>?</condition><then><expr><name>show</name><operator>=</operator><name>info</name><operator>&amp;</operator><name>timezone</name><operator>=</operator><name><name>GMT</name>
<argument_list type="generic">&lt;<argument><operator>/</operator><name>verbatim</name></argument>&gt;</argument_list></name>

<operator>*</operator><name>Response</name></expr></then></ternary></expr></range></decl></decl_stmt></for> <for>for a workflow job:*

&lt;verbatim&gt;
HTTP/1.1 200 OK
Content-Type: application/json<empty_stmt>;</empty_stmt></for><expr_stmt><expr><name>charset</name><operator>=</operator><name>UTF</name><operator>-</operator><literal type="number">8</literal>
<operator>.</operator>
<block>{
<expr><operator>*</operator><operator>*</operator><name>jobType</name><operator>:</operator> <literal type="string">"workflow"</literal></expr>,
  <expr><name>id</name><operator>:</operator> <literal type="string">"0-200905191240-oozie-W"</literal></expr>,
  <expr><name>appName</name><operator>:</operator> <literal type="string">"indexer-workflow"</literal></expr>,
  <expr><name>appPath</name><operator>:</operator> <literal type="string">"hdfs://user/bansalm/indexer.wf"</literal></expr>,
  <expr><name>externalId</name><operator>:</operator> <literal type="string">"0-200905191230-oozie-pepe"</literal></expr>,
  <expr><name>user</name><operator>:</operator> <literal type="string">"bansalm"</literal></expr>,
  <expr><name>group</name><operator>:</operator> <literal type="string">"other"</literal></expr>,
  <expr><name>status</name><operator>:</operator> <literal type="string">"RUNNING"</literal></expr>,
  <expr><name>conf</name><operator>:</operator> <literal type="string">"&lt;configuration&gt; ... &lt;/configuration&gt;"</literal></expr>,
  <expr><name>createdTime</name><operator>:</operator> <literal type="string">"Thu, 01 Jan 2009 00:00:00 GMT"</literal></expr>,
  <expr><name>startTime</name><operator>:</operator> <literal type="string">"Fri, 02 Jan 2009 00:00:00 GMT"</literal></expr>,
  <expr><name>endTime</name><operator>:</operator> <literal type="null">null</literal></expr>,
  <expr><name>run</name><operator>:</operator> <literal type="number">0</literal></expr>,
  <expr><name>actions</name><operator>:</operator> <index>[
    <expr><block>{
      <expr><name>id</name><operator>:</operator> <literal type="string">"0-200905191240-oozie-W@indexer"</literal></expr>,
      <expr><name>name</name><operator>:</operator> <literal type="string">"indexer"</literal></expr>,
      <expr><name>type</name><operator>:</operator> <literal type="string">"map-reduce"</literal></expr>,
      <expr><name>conf</name><operator>:</operator> <literal type="string">"&lt;configuration&gt; ...&lt;/configuration&gt;"</literal></expr>,
      <expr><name>startTime</name><operator>:</operator> <literal type="string">"Thu, 01 Jan 2009 00:00:00 GMT"</literal></expr>,
      <expr><name>endTime</name><operator>:</operator> <literal type="string">"Fri, 02 Jan 2009 00:00:00 GMT"</literal></expr>,
      <expr><name>status</name><operator>:</operator> <literal type="string">"OK"</literal></expr>,
      <expr><name>externalId</name><operator>:</operator> <literal type="string">"job-123-200903101010"</literal></expr>,
      <expr><name>externalStatus</name><operator>:</operator> <literal type="string">"SUCCEEDED"</literal></expr>,
      <expr><name>trackerUri</name><operator>:</operator> <literal type="string">"foo:8021"</literal></expr>,
      <expr><name>consoleUrl</name><operator>:</operator> <literal type="string">"http://foo:50040/jobdetailshistory.jsp?jobId=job-123-200903101010"</literal></expr>,
      <expr><name>transition</name><operator>:</operator> <literal type="string">"reporter"</literal></expr>,
      <expr><name>data</name><operator>:</operator> <literal type="null">null</literal></expr>,
      <expr><name>stats</name><operator>:</operator> <literal type="null">null</literal></expr>,
      <expr><name>externalChildIDs</name><operator>:</operator> <literal type="string">"job-123-200903101011"</literal>
      <name>errorCode</name><operator>:</operator> <literal type="null">null</literal></expr>,
      <expr><name>errorMessage</name><operator>:</operator> <literal type="null">null</literal></expr>,
      <expr><name>retries</name><operator>:</operator> <literal type="number">0</literal></expr>
    }</block></expr><operator>,</operator>
    <operator>...</operator>
  ]</index></expr>
}</block>
<operator>&lt;</operator><operator>/</operator><name>verbatim</name><operator>&gt;</operator>

 <operator>&lt;</operator><operator>/</operator><name>noautolink</name><operator>&gt;</operator>
 
 
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name> <name>b</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>
<name>index</name> <literal type="number">946d90dd8</literal><operator>..</operator><name>bd0f7c257</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>
@@ <operator>-</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">5</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">6</literal> @@
 <operator>--</operator> <name>Oozie</name> <literal type="number">4.1.0</literal> <call><name>release</name> <argument_list>(<argument><expr><name>trunk</name> <operator>-</operator> <name>unreleased</name></expr></argument>)</argument_list></call>
 
<name>OOZIE</name><operator>-</operator><literal type="number">1231</literal> <name>Provide</name> <name>access</name> <name>to</name> <name>launcher</name> <name>job</name> <name>URL</name> <name>from</name> <name>web</name> <name>console</name> <name>when</name> <name>using</name> <name>Map</name> <name>Reduce</name> <call><name>action</name> <argument_list>(<argument><expr><name>ryota</name> <name>via</name> <name>virag</name></expr></argument>)</argument_list></call>
 <name>OOZIE</name><operator>-</operator><literal type="number">1335</literal> <name>The</name> <name>launcher</name> <name>job</name> <name>should</name> <name>use</name> <name>uber</name> <name>mode</name> <name>in</name> <name>Hadoop</name> <literal type="number">2</literal> <name>by</name> default <operator>(</operator><name>rkanter</name><operator>)</operator>
 <name>OOZIE</name><operator>-</operator><literal type="number">1297</literal> <name>Add</name> <name>chgrp</name> <name>in</name> <name>FS</name> <call><name>action</name> <argument_list>(<argument><expr><name>ryota</name> <name>via</name> <name>virag</name></expr></argument>)</argument_list></call>
 <name>OOZIE</name><operator>-</operator><literal type="number">1329</literal> <name>fix</name> <name>coverage</name> <call><name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>oozie</name><operator>.</operator><name>tools</name></name> <argument_list>(<argument><expr><name>agorshkov</name> <name>via</name> <name>virag</name></expr></argument>)</argument_list></call>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>webapp</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>webapp</name><operator>/</operator><name>WEB</name><operator>-</operator><name>INF</name><operator>/</operator><name><name>web</name><operator>.</operator><name>xml</name></name> <name>b</name><operator>/</operator><name>webapp</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>webapp</name><operator>/</operator><name>WEB</name><operator>-</operator><name>INF</name><operator>/</operator><name><name>web</name><operator>.</operator><name>xml</name></name>
<name>index</name> <literal type="number">633b0c855</literal><operator>..</operator><name>a17691817</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>webapp</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>webapp</name><operator>/</operator><name>WEB</name><operator>-</operator><name>INF</name><operator>/</operator><name><name>web</name><operator>.</operator><name>xml</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>webapp</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>webapp</name><operator>/</operator><name>WEB</name><operator>-</operator><name>INF</name><operator>/</operator><name><name>web</name><operator>.</operator><name>xml</name></name>
@@ <operator>-</operator><literal type="number">83</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">83</literal></expr><operator>,</operator><expr><literal type="number">13</literal> @@
         <operator>&lt;</operator><name>load</name><operator>-</operator><name>on</name><operator>-</operator><name>startup</name><operator>&gt;</operator><literal type="number">1</literal><operator>&lt;</operator><operator>/</operator><name>load</name><operator>-</operator><name>on</name><operator>-</operator><name>startup</name><operator>&gt;</operator>
     <operator>&lt;</operator><operator>/</operator><name>servlet</name><operator>&gt;</operator>
 
    <operator>&lt;</operator><name>servlet</name><operator>&gt;</operator>
        <operator>&lt;</operator><name>servlet</name><operator>-</operator><name>name</name><operator>&gt;</operator><name>v2job</name><operator>&lt;</operator><operator>/</operator><name>servlet</name><operator>-</operator><name>name</name><operator>&gt;</operator>
        <operator>&lt;</operator><name>display</name><operator>-</operator><name>name</name><operator>&gt;</operator><name>WS</name> <name>API</name></expr></expr_stmt> <for>for a specific Workflow Job&lt;/display-name&gt;
        &lt;servlet-class&gt;org.apache.oozie.servlet.V2JobServlet&lt;/servlet-class&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;

     &lt;servlet&gt;
         &lt;servlet-name&gt;sla-event&lt;/servlet-name&gt;
         &lt;display-name&gt;WS API for specific SLA Events&lt;/display-name&gt;
@@ -106<operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">113</literal></expr><operator>,</operator><expr><literal type="number">11</literal> @@
         <operator>&lt;</operator><name>url</name><operator>-</operator><name>pattern</name><operator>&gt;</operator><operator>/</operator><name>v1</name><operator>/</operator><name>admin</name></expr></for></block_content></block></function></block></class></expr></argument></argument_list></call></expr></block></expr></expr_stmt></block_content></block></function></block_content></block></function></block></class></expr></argument></argument_list></call></expr></block></expr></expr_stmt></block_content></block></function></block></class></expr></argument></argument_list></call></expr></block></expr></expr_stmt><comment type="block">/*&lt;/url-pattern&gt;
     &lt;/servlet-mapping&gt;
 
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;v1admin&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/v2/admin/*&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

     &lt;servlet-mapping&gt;
         &lt;servlet-name&gt;callback&lt;/servlet-name&gt;
         &lt;url-pattern&gt;/callback/*&lt;/url-pattern&gt;
@@ -121,6 +133,11 @@
         &lt;url-pattern&gt;/v1/jobs&lt;/url-pattern&gt;
     &lt;/servlet-mapping&gt;
 
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;v1jobs&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/v2/jobs&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

     &lt;servlet-mapping&gt;
         &lt;servlet-name&gt;v0job&lt;/servlet-name&gt;
         &lt;url-pattern&gt;/v0/job/*&lt;/url-pattern&gt;
@@ -131,11 +148,21 @@
         &lt;url-pattern&gt;/v1/job/*&lt;/url-pattern&gt;
     &lt;/servlet-mapping&gt;
 
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;v2job&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/v2/job/*&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

     &lt;servlet-mapping&gt;
         &lt;servlet-name&gt;sla-event&lt;/servlet-name&gt;
         &lt;url-pattern&gt;/v1/sla/*&lt;/url-pattern&gt;
     &lt;/servlet-mapping&gt;
 
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;sla-event&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/v2/sla/*&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

     &lt;!-- welcome-file --&gt;
     &lt;welcome-file-list&gt;
         &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;
diff --git a/webapp/src/main/webapp/oozie-console.js b/webapp/src/main/webapp/oozie-console.js
index f98f0acde..7ea18a399 100644
-- a/webapp/src/main/webapp/oozie-console.js
++ b/webapp/src/main/webapp/oozie-console.js
@@ -32,7 +32,7 @@ var oozie_host = "";
 var flattenedObject;
 
 function getOozieClientVersion() {
    return 1;
    return 2;
 }
 
 function getOozieVersionsUrl() {
@@ -546,17 +546,17 @@ function jobDetailsPopup(response, request) {
             
             // Tab to show list of child Job URLs for pig action
             var childJobsItem = {
				title : 'Child Job URLs',
				autoScroll : true,
				frame : true,
				labelAlign : 'right',
				labelWidth : 70,
				items : urlUnit
			};
            if (actionStatus.type == "pig" || actionStatus.type == "hive") {
				var tabPanel = win.items.get(0);
				tabPanel.add(childJobsItem);
			}
                title : 'Child Job URLs',
                autoScroll : true,
                frame : true,
                labelAlign : 'right',
                labelWidth : 70,
                items : urlUnit
            };
            if (actionStatus.type == "pig" || actionStatus.type == "hive" || actionStatus.type == "map-reduce") {
                var tabPanel = win.items.get(0);
                tabPanel.add(childJobsItem);
            }
             win.setPosition(50, 50);
             win.show();
         }
- 
2.19.1.windows.1

</comment></unit>
