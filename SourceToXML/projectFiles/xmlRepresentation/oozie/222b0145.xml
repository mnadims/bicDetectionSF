<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" revision="1.0.0" language="Java" filename="E:/01Courses@USASK/CMPT898-HumanDrivenSoftwareEngineeringForScientificResearch/ProjectProgress/data_files/final_dataset/gen_patch_codes/filtered/oozie/222b0145.java"><expr_stmt><expr><name>From</name> <literal type="number">222b014584083f101173bbaecd89649128330854</literal> <name>Mon</name> <name>Sep</name> <literal type="number">17</literal> <literal type="number">00</literal><operator>:</operator><literal type="number">00</literal><operator>:</operator><literal type="number">00</literal> <literal type="number">2001</literal>
<name>From</name><operator>:</operator> <name>Robert</name> <name><name>Kanter</name> <argument_list type="generic">&lt;<argument><name>rkanter</name><annotation>@<name><name>cloudera</name><operator>.</operator><name>com</name></name></annotation></argument>&gt;</argument_list></name>
<name>Date</name><operator>:</operator> <name>Fri</name></expr><operator>,</operator> <expr><literal type="number">24</literal> <name>Jan</name> <literal type="number">2014</literal> <literal type="number">10</literal><operator>:</operator><literal type="number">12</literal><operator>:</operator><literal type="number">42</literal> <operator>-</operator><literal type="number">0800</literal>
<name>Subject</name><operator>:</operator> <index>[<expr><name>PATCH</name></expr>]</index> <name>OOZIE</name><operator>-</operator><literal type="number">1674</literal> <name>DB</name> <name>upgrade</name> <name>from</name> <literal type="number">3.3.0</literal> <name>to</name> <name>trunk</name> <name>fails</name> <name>on</name> <call><name>postgres</name>
 <argument_list>(<argument><expr><name>rkanter</name></expr></argument>)</argument_list></call>

<operator>--</operator>
 <name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>                               <operator>|</operator>  <literal type="number">1</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>tools</name><operator>/</operator><name><name>OozieDBCLI</name><operator>.</operator><name>java</name></name>    <operator>|</operator> <literal type="number">41</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>--</operator><operator>--</operator><operator>--</operator><operator>-</operator>
 <literal type="number">2</literal> <name>files</name> <name>changed</name></expr><operator>,</operator> <expr><literal type="number">27</literal> <call><name>insertions</name><argument_list>(<argument><expr><operator>+</operator></expr></argument>)</argument_list></call></expr><operator>,</operator> <expr><literal type="number">15</literal> <call><name>deletions</name><argument_list>(<argument><expr><operator>-</operator></expr></argument>)</argument_list></call>

<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name> <name>b</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>
<name>index</name> <literal type="number">1bc5e7d9c</literal><operator>..</operator><literal type="number">05cb661c2</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>
@@ <operator>-</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">5</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">6</literal> @@
 <operator>--</operator> <name>Oozie</name> <literal type="number">4.1.0</literal> <call><name>release</name> <argument_list>(<argument><expr><name>trunk</name> <operator>-</operator> <name>unreleased</name></expr></argument>)</argument_list></call>
 
<name>OOZIE</name><operator>-</operator><literal type="number">1674</literal> <name>DB</name> <name>upgrade</name> <name>from</name> <literal type="number">3.3.0</literal> <name>to</name> <name>trunk</name> <name>fails</name> <name>on</name> <call><name>postgres</name> <argument_list>(<argument><expr><name>rkanter</name></expr></argument>)</argument_list></call>
 <name>OOZIE</name><operator>-</operator><literal type="number">1581</literal> <name>Workflow</name> <name>performance</name> <call><name>optimizations</name> <argument_list>(<argument><expr><name>mona</name></expr></argument>)</argument_list></call>
 <name>OOZIE</name><operator>-</operator><literal type="number">1663</literal> <name>Queuedump</name> <name>to</name> <name>display</name> <name>command</name> <call><name>type</name> <argument_list>(<argument><expr><name>shwethags</name> <name>via</name> <name>virag</name></expr></argument>)</argument_list></call>
 <name>OOZIE</name><operator>-</operator><literal type="number">1672</literal> <name>UI</name> <name>info</name> <name>fetch</name> <name>fails</name></expr></expr_stmt> <for>for bundle having large number of coordinators <control>(<init><expr><name>puru</name> <name>via</name> <name>rohini</name></expr></init>)</control><block type="pseudo"><block_content>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>tools</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>tools</name><operator>/</operator><name><name>OozieDBCLI</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>tools</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>tools</name><operator>/</operator><name><name>OozieDBCLI</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">9b650b78d</literal><operator>..</operator><literal type="number">116be5221</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>tools</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>tools</name><operator>/</operator><name><name>OozieDBCLI</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>tools</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>tools</name><operator>/</operator><name><name>OozieDBCLI</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">202</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">202</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieDBCLI</name> <block>{
             <expr><call><name>createOozieSysTable</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><name>run</name></expr></argument>, <argument><expr><name>DB_VERSION_PRE_4_0</name></expr></argument>)</argument_list></call></expr>;
         }</block>
         <name>String</name> <name>ver</name> <operator>=</operator> <call><name>getOozieDBVersion</name><argument_list>()</argument_list></call><operator>.</operator><call><name>trim</name><argument_list>()</argument_list></call></expr>;</expr_stmt></block_content></block></for>
        <decl_stmt><decl><type><name>String</name></type> <name>startingVersion</name> <init>= <expr><name>ver</name></expr></init></decl>;</decl_stmt>
         <if_stmt><if>if <condition>(<expr><call><name><name>ver</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>DB_VERSION_FOR_5_0</name></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
             <expr_stmt><expr><call><name><name>System</name><operator>.</operator><name>out</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><literal type="string">"Oozie DB already upgraded to Oozie version '"</literal> <operator>+</operator> <name>version</name> <operator>+</operator> <literal type="string">"'"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
             <return>return;</return>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">216</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">217</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieDBCLI</name> <block>{
             }</block></expr></expr_stmt>
             <if_stmt><if type="elseif">else if <condition>(<expr><call><name><name>ver</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>DB_VERSION_FOR_4_0</name></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
                 <expr_stmt><expr><call><name><name>System</name><operator>.</operator><name>out</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><literal type="string">"Upgrading to db schema for Oozie "</literal> <operator>+</operator> <name>version</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                <expr_stmt><expr><call><name>upgradeDBto50</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><name>run</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                <expr_stmt><expr><call><name>upgradeDBto50</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><name>run</name></expr></argument>, <argument><expr><name>startingVersion</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                 <expr_stmt><expr><name>ver</name> <operator>=</operator> <ternary><condition><expr><name>run</name></expr> ?</condition><then> <expr><call><name>getOozieDBVersion</name><argument_list>()</argument_list></call><operator>.</operator><call><name>trim</name><argument_list>()</argument_list></call></expr> </then><else>: <expr><name>DB_VERSION_FOR_5_0</name></expr></else></ternary></expr>;</expr_stmt>
             </block_content>}</block></if></if_stmt>
         </block_content>}</block></if></if_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">234</literal></expr><operator>,</operator><expr><literal type="number">9</literal> <operator>+</operator><literal type="number">235</literal></expr><operator>,</operator><expr><literal type="number">9</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieDBCLI</name> <block>{
         <expr><call><name>ddlTweaks</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><name>run</name></expr></argument>)</argument_list></call></expr>;
     }</block>
 
    <specifier>private</specifier> <name>void</name> <call><name>upgradeDBto50</name><argument_list>(<argument><expr><name>String</name> <name>sqlFile</name></expr></argument>, <argument><expr><name>boolean</name> <name>run</name></expr></argument>)</argument_list></call> <throws>throws <argument><expr><name>Exception</name> <block>{
    <expr><specifier>private</specifier> <name>void</name> <call><name>upgradeDBto50</name><argument_list>(<argument><expr><name>String</name> <name>sqlFile</name></expr></argument>, <argument><expr><name>boolean</name> <name>run</name></expr></argument>, <argument><expr><name>String</name> <name>startingVersion</name></expr></argument>)</argument_list></call></expr></block></expr></argument></throws> <throws>throws <argument><expr><name>Exception</name> <block>{
         <expr><call><name>upgradeOozieDBVersion</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><name>run</name></expr></argument>, <argument><expr><name>DB_VERSION_FOR_5_0</name></expr></argument>)</argument_list></call></expr></block></expr></argument></throws></expr>;</expr_stmt>
        <expr_stmt><expr><call><name>ddlTweaksFor50</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><name>run</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name>ddlTweaksFor50</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><name>run</name></expr></argument>, <argument><expr><name>startingVersion</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
     }
 
     private <decl_stmt><decl><type><specifier>final</specifier> <specifier>static</specifier> <name>String</name></type> <name>UPDATE_OOZIE_VERSION</name> <init>=
@@ <expr><operator>-</operator><literal type="number">244</literal></expr></init></decl>,9 +245,11 @@ public <decl><type ref="prev"/><name>class</name> <name>OozieDBCLI</name> <block>{<block_content>
             <expr_stmt><expr><operator>+</operator> <literal type="string">"' where name='oozie.version'"</literal></expr>;</expr_stmt>
 
     <function><type><specifier>private</specifier> <name>void</name></type> <name>upgradeOozieDBVersion</name><parameter_list>(<parameter><decl><type><name>String</name></type> <name>sqlFile</name></decl></parameter>, <parameter><decl><type><name>boolean</name></type> <name>run</name></decl></parameter>, <parameter><decl><type><name>String</name></type> <name>version</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
        <decl_stmt><decl><type><name>String</name></type> <name>updateDBVersion</name> <init>= <expr><literal type="string">"update OOZIE_SYS set data='"</literal> <operator>+</operator> <name>version</name> <operator>+</operator> <literal type="string">"' where name='db.version'"</literal></expr></init></decl>;</decl_stmt>
         <decl_stmt><decl><type><name>PrintWriter</name></type> <name>writer</name> <init>= <expr><operator>new</operator> <call><name>PrintWriter</name><argument_list>(<argument><expr><operator>new</operator> <call><name>FileWriter</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
         <expr_stmt><expr><call><name><name>writer</name><operator>.</operator><name>println</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
         <expr_stmt><expr><call><name><name>writer</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><name>UPDATE_OOZIE_VERSION</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>writer</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><name>updateDBVersion</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
         <expr_stmt><expr><call><name><name>writer</name><operator>.</operator><name>close</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
         <expr_stmt><expr><call><name><name>System</name><operator>.</operator><name>out</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><literal type="string">"Update db.version in OOZIE_SYS table to "</literal> <operator>+</operator> <name>version</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
         <if_stmt><if>if <condition>(<expr><name>run</name></expr>)</condition> <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">254</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">257</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieDBCLI</name> <block>{
             <try>try <block>{<block_content>
                 <expr_stmt><expr><call><name><name>conn</name><operator>.</operator><name>setAutoCommit</name></name><argument_list>(<argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                 <decl_stmt><decl><type><name>Statement</name></type> <name>st</name> <init>= <expr><call><name><name>conn</name><operator>.</operator><name>createStatement</name></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
                <expr_stmt><expr><call><name><name>st</name><operator>.</operator><name>executeUpdate</name></name><argument_list>(<argument><expr><literal type="string">"update OOZIE_SYS set data='"</literal> <operator>+</operator> <name>version</name> <operator>+</operator> <literal type="string">"' where name='db.version'"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                <expr_stmt><expr><call><name><name>st</name><operator>.</operator><name>executeUpdate</name></name><argument_list>(<argument><expr><name>updateDBVersion</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                 <expr_stmt><expr><call><name><name>st</name><operator>.</operator><name>executeUpdate</name></name><argument_list>(<argument><expr><name>UPDATE_OOZIE_VERSION</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                 <expr_stmt><expr><call><name><name>st</name><operator>.</operator><name>close</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
             </block_content>}</block></try>
@@ <operator>-</operator><literal type="number">421</literal><operator>,</operator><literal type="number">7</literal> <operator>+</operator><literal type="number">424</literal><operator>,</operator><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieDBCLI</name> <block>{
         }</block></block></expr></expr_stmt>
     </block_content>}</block></if></if_stmt>
 
    <function><type><specifier>private</specifier> <name>void</name></type> <name>convertClobToBlobInOracle</name><parameter_list>(<parameter><decl><type><name>boolean</name></type> <name>run</name></decl></parameter>, <parameter><decl><type><name>Connection</name></type> <name>conn</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <function><type><specifier>private</specifier> <name>void</name></type> <name>convertClobToBlobInOracle</name><parameter_list>(<parameter><decl><type><name>Connection</name></type> <name>conn</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
         <if_stmt><if>if <condition>(<expr><name>conn</name> <operator>==</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
             <return>return ;</return>
         </block_content>}</block></if></if_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">484</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">487</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieDBCLI</name> <block>{
         <expr><call><name><name>System</name><operator>.</operator><name>out</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><literal type="string">"Done"</literal></expr></argument>)</argument_list></call></expr>;
     }</block>
 
    <specifier>private</specifier> <name>void</name> <call><name>convertClobToBlobInMysql</name><argument_list>(<argument><expr><name>String</name> <name>sqlFile</name></expr></argument>, <argument><expr><name>boolean</name> <name>run</name></expr></argument>, <argument><expr><name>Connection</name> <name>conn</name></expr></argument>)</argument_list></call> <throws>throws <argument><expr><name>Exception</name> <block>{
    <expr><specifier>private</specifier> <name>void</name> <call><name>convertClobToBlobInMysql</name><argument_list>(<argument><expr><name>String</name> <name>sqlFile</name></expr></argument>, <argument><expr><name>Connection</name> <name>conn</name></expr></argument>)</argument_list></call></expr></block></expr></argument></throws> <throws>throws <argument><expr><name>Exception</name> <block>{
         <expr><call><name><name>System</name><operator>.</operator><name>out</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><literal type="string">"Converting mediumtext/text columns to mediumblob for all tables"</literal></expr></argument>)</argument_list></call></expr></block></expr></argument></throws></expr>;</expr_stmt>
         <decl_stmt><decl><type><name>PrintWriter</name></type> <name>writer</name> <init>= <expr><operator>new</operator> <call><name>PrintWriter</name><argument_list>(<argument><expr><operator>new</operator> <call><name>FileWriter</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
         <expr_stmt><expr><call><name><name>writer</name><operator>.</operator><name>println</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">510</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">513</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieDBCLI</name> <block>{
         <expr><call><name><name>System</name><operator>.</operator><name>out</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><literal type="string">"Done"</literal></expr></argument>)</argument_list></call></expr>;
     }</block>
 
    <specifier>private</specifier> <name>void</name> <call><name>convertClobToBlobInPostgres</name><argument_list>(<argument><expr><name>String</name> <name>sqlFile</name></expr></argument>, <argument><expr><name>boolean</name> <name>run</name></expr></argument>, <argument><expr><name>Connection</name> <name>conn</name></expr></argument>)</argument_list></call> <throws>throws <argument><expr><name>Exception</name> <block>{
    <expr><specifier>private</specifier> <name>void</name> <call><name>convertClobToBlobInPostgres</name><argument_list>(<argument><expr><name>String</name> <name>sqlFile</name></expr></argument>, <argument><expr><name>Connection</name> <name>conn</name></expr></argument>, <argument><expr><name>String</name> <name>startingVersion</name></expr></argument>)</argument_list></call></expr></block></expr></argument></throws> <throws>throws <argument><expr><name>Exception</name> <block>{
         <expr><call><name><name>System</name><operator>.</operator><name>out</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><literal type="string">"Converting text columns to bytea for all tables"</literal></expr></argument>)</argument_list></call></expr></block></expr></argument></throws></expr>;</expr_stmt>
         <decl_stmt><decl><type><name>PrintWriter</name></type> <name>writer</name> <init>= <expr><operator>new</operator> <call><name>PrintWriter</name><argument_list>(<argument><expr><operator>new</operator> <call><name>FileWriter</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
         <expr_stmt><expr><call><name><name>writer</name><operator>.</operator><name>println</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">519</literal></expr><operator>,</operator><expr><literal type="number">10</literal> <operator>+</operator><literal type="number">522</literal></expr><operator>,</operator><expr><literal type="number">18</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieDBCLI</name> <block>{
             <expr><name>String</name> <name>tableName</name> <operator>=</operator> <call><name><name>tableClobColumnMap</name><operator>.</operator><name>getKey</name></name><argument_list>()</argument_list></call></expr>;
             <expr><name><name>List</name><argument_list type="generic">&lt;<argument><name>String</name></argument>&gt;</argument_list></name> <name>columnNames</name> <operator>=</operator> <call><name><name>tableClobColumnMap</name><operator>.</operator><name>getValue</name></name><argument_list>()</argument_list></call></expr>;
             <for>for <control>(<init><decl><type><name>String</name></type> <name>column</name> <range>: <expr><name>columnNames</name></expr></range></decl></init>)</control> <block>{<block_content>
                <if_stmt><if>if <condition>(<expr><call><name><name>startingVersion</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><name>DB_VERSION_PRE_4_0</name></expr></argument>)</argument_list></call>
                        <operator>&amp;&amp;</operator> <call><name><name>tableName</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><literal type="string">"COORD_ACTIONS"</literal></expr></argument>)</argument_list></call> <operator>&amp;&amp;</operator> <call><name><name>column</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><literal type="string">"push_missing_dependencies"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
                    <comment type="line">// The push_missing_depdencies column was added in DB_VERSION_FOR_4_0 as TEXT and we're going to convert it to</comment>
                    <comment type="line">// BYTEA in DB_VERSION_FOR_5_0.  However, if Oozie 5 did the upgrade from DB_VERSION_PRE_4_0 to</comment>
                    <comment type="line">// DB_VERSION_FOR_4_0 (and is now doing it for DB_VERSION_FOR_5_0 push_missing_depdencies will already be a</comment>
                    <comment type="line">// BYTEA because Oozie 5 created the column instead of Oozie 4; and the update query below will fail.</comment>
                    <continue>continue;</continue>
                <expr_stmt/>}</block_content>
                 String addQuery = getAddColumnQuery(tableName</block><operator>,</operator> <expr_stmt><expr><name>TEMP_COLUMN_PREFIX</name> <operator>+</operator> <name>column</name></expr><operator>,</operator> <expr><literal type="string">"bytea"</literal></expr></expr_stmt></if></if_stmt>)</block_content></block><empty_stmt>;</empty_stmt></for>
                 <call><name><name>writer</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><name>addQuery</name> <operator>+</operator> <literal type="string">";"</literal></expr></argument>)</argument_list></call></block></expr>;</expr_stmt>
                <decl_stmt><decl><type><name>String</name></type> <name>updateQuery</name> <init>= <expr><literal type="string">"update "</literal> <operator>+</operator> <name>tableName</name> <operator>+</operator> <literal type="string">" set "</literal> <operator>+</operator> <name>TEMP_COLUMN_PREFIX</name> <operator>+</operator> <name>column</name> <operator>+</operator> <literal type="string">"=decode(replace("</literal>
                        <operator>+</operator> <name>column</name> <operator>+</operator> <literal type="string">", '\\', '\\\\'), 'escape')"</literal></expr></init></decl>;</decl_stmt>
                <decl_stmt><decl><type><name>String</name></type> <name>updateQuery</name> <init>= <expr><literal type="string">"update "</literal> <operator>+</operator> <name>tableName</name> <operator>+</operator> <literal type="string">" set "</literal> <operator>+</operator> <name>TEMP_COLUMN_PREFIX</name> <operator>+</operator> <name>column</name> <operator>+</operator> <literal type="string">"=(decode(replace("</literal>
                        <operator>+</operator> <name>column</name> <operator>+</operator> <literal type="string">", E'\\\\', E'\\\\\\\\'), 'escape'))"</literal></expr></init></decl>;</decl_stmt>
                 <expr_stmt><expr><call><name><name>writer</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><name>updateQuery</name> <operator>+</operator> <literal type="string">";"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                 <decl_stmt><decl><type><name>String</name></type> <name>dropQuery</name> <init>= <expr><call><name>getDropColumnQuery</name><argument_list>(<argument><expr><name>tableName</name></expr></argument>, <argument><expr><name>column</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
                 <expr_stmt><expr><call><name><name>writer</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><name>dropQuery</name> <operator>+</operator> <literal type="string">";"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">543</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">554</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieDBCLI</name> <block>{
         <expr><call><name><name>System</name><operator>.</operator><name>out</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><literal type="string">"DONE"</literal></expr></argument>)</argument_list></call></expr>;
     }</block>
 
    <specifier>private</specifier> <name>void</name> <call><name>convertClobToBlobinDerby</name><argument_list>(<argument><expr><name>boolean</name> <name>run</name></expr></argument>, <argument><expr><name>Connection</name> <name>conn</name></expr></argument>)</argument_list></call> <throws>throws <argument><expr><name>Exception</name> <block>{
    <expr><specifier>private</specifier> <name>void</name> <call><name>convertClobToBlobinDerby</name><argument_list>(<argument><expr><name>Connection</name> <name>conn</name></expr></argument>)</argument_list></call></expr></block></expr></argument></throws> <throws>throws <argument><expr><name>Exception</name> <block>{</block></expr></argument></throws></expr></expr_stmt>
         <if_stmt><if>if <condition>(<expr><name>conn</name> <operator>==</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
             <return>return;</return>
         </block_content>}</block></if></if_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">607</literal></expr><operator>,</operator><expr><literal type="number">21</literal> <operator>+</operator><literal type="number">618</literal></expr><operator>,</operator><expr><literal type="number">21</literal> @@ <specifier>public</specifier> <name>class</name> <name>OozieDBCLI</name> <block>{
         <return>return <expr><call><name><name>selectQuery</name><operator>.</operator><name>toString</name></name><argument_list>()</argument_list></call></expr>;</return>
     }</block></expr></expr_stmt>
 
    <function><type><specifier>private</specifier> <name>void</name></type> <name>ddlTweaksFor50</name><parameter_list>(<parameter><decl><type><name>String</name></type> <name>sqlFile</name></decl></parameter>, <parameter><decl><type><name>boolean</name></type> <name>run</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <function><type><specifier>private</specifier> <name>void</name></type> <name>ddlTweaksFor50</name><parameter_list>(<parameter><decl><type><name>String</name></type> <name>sqlFile</name></decl></parameter>, <parameter><decl><type><name>boolean</name></type> <name>run</name></decl></parameter>, <parameter><decl><type><name>String</name></type> <name>startingVersion</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
         <decl_stmt><decl><type><name>String</name></type> <name>dbVendor</name> <init>= <expr><call><name>getDBVendor</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
         <decl_stmt><decl><type><name>Connection</name></type> <name>conn</name> <init>= <expr><ternary><condition><expr><operator>(</operator><name>run</name><operator>)</operator></expr> ?</condition><then> <expr><call><name>createConnection</name><argument_list>()</argument_list></call></expr> </then><else>: <expr><literal type="null">null</literal></expr></else></ternary></expr></init></decl>;</decl_stmt>
 
         <if_stmt><if>if <condition>(<expr><call><name><name>dbVendor</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><literal type="string">"oracle"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
            <expr_stmt><expr><call><name>convertClobToBlobInOracle</name><argument_list>(<argument><expr><name>run</name></expr></argument>, <argument><expr><name>conn</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
            <expr_stmt><expr><call><name>convertClobToBlobInOracle</name><argument_list>(<argument><expr><name>conn</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
         </block_content>}</block></if>
         <if type="elseif">else if <condition>(<expr><call><name><name>dbVendor</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><literal type="string">"mysql"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
            <expr_stmt><expr><call><name>convertClobToBlobInMysql</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><name>run</name></expr></argument>, <argument><expr><name>conn</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
            <expr_stmt><expr><call><name>convertClobToBlobInMysql</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><name>conn</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
         </block_content>}</block></if>
         <if type="elseif">else if <condition>(<expr><call><name><name>dbVendor</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><literal type="string">"postgresql"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
            <expr_stmt><expr><call><name>convertClobToBlobInPostgres</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><name>run</name></expr></argument>, <argument><expr><name>conn</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
            <expr_stmt><expr><call><name>convertClobToBlobInPostgres</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><name>conn</name></expr></argument>, <argument><expr><name>startingVersion</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
         </block_content>}</block></if>
         <if type="elseif">else if <condition>(<expr><call><name><name>dbVendor</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><literal type="string">"derby"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
            <expr_stmt><expr><call><name>convertClobToBlobinDerby</name><argument_list>(<argument><expr><name>run</name></expr></argument>, <argument><expr><name>conn</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
            <expr_stmt><expr><call><name>convertClobToBlobinDerby</name><argument_list>(<argument><expr><name>conn</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
         </block_content>}</block></if></if_stmt>
         <expr_stmt><expr><call><name><name>System</name><operator>.</operator><name>out</name><operator>.</operator><name>println</name></name><argument_list>(<argument><expr><literal type="string">"Dropping discriminator column"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
         <decl_stmt><decl><type><name>PrintWriter</name></type> <name>writer</name> <init>= <expr><operator>new</operator> <call><name>PrintWriter</name><argument_list>(<argument><expr><operator>new</operator> <call><name>FileWriter</name><argument_list>(<argument><expr><name>sqlFile</name></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
<expr_stmt><expr><operator>-</operator> 
<literal type="number">2.19.1.windows</literal><literal type="number">.1</literal></expr></expr_stmt></block_content></block></function></block_content></block></function></block_content></block></function></block_content></block></function></block_content></block></function></block_content></block></decl></decl_stmt>

</unit>
