<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" revision="1.0.0" language="Java" filename="E:/01Courses@USASK/CMPT898-HumanDrivenSoftwareEngineeringForScientificResearch/ProjectProgress/data_files/final_dataset/gen_patch_codes/filtered/oozie/6aa84761.java"><expr_stmt><expr><name>From</name> <literal type="number">6aa84761759b8433115b040f5e133791b23d0ca6</literal> <name>Mon</name> <name>Sep</name> <literal type="number">17</literal> <literal type="number">00</literal><operator>:</operator><literal type="number">00</literal><operator>:</operator><literal type="number">00</literal> <literal type="number">2001</literal>
<name>From</name><operator>:</operator> <name>Purshotam</name> <name>Shah</name> <operator>&lt;</operator><name>purushah</name>@<name>yahoo</name><operator>-</operator><name><name>inc</name><operator>.</operator><name>com</name></name><operator>&gt;</operator>
<name>Date</name><operator>:</operator> <name>Thu</name></expr><operator>,</operator> <expr><literal type="number">3</literal> <name>Mar</name> <literal type="number">2016</literal> <literal type="number">09</literal><operator>:</operator><literal type="number">53</literal><operator>:</operator><literal type="number">18</literal> <operator>-</operator><literal type="number">0800</literal>
<name>Subject</name><operator>:</operator> <index>[<expr><name>PATCH</name></expr>]</index> <name>OOZIE</name><operator>-</operator><literal type="number">2446</literal> <name>Job</name> <name>does</name> <name>not</name> <name>fail</name> <name>during</name> <name>submission</name></expr></expr_stmt> <if_stmt><if>if non
 existent credential is specified

--
 .../action/hadoop/JavaActionExecutor.java     <operator>|</operator>  4 ++
 .../action/hadoop/TestJavaActionExecutor.java <operator>|</operator> 39 +++++++++++++++++++
 release-log.txt                               <operator>|</operator>  1 +
 3 files changed<operator>,</operator> <expr_stmt><expr><literal type="number">44</literal> <call><name>insertions</name><argument_list>(<argument><expr><operator>+</operator></expr></argument>)</argument_list></call>

<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>JavaActionExecutor</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>JavaActionExecutor</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">4fc0c5239</literal><operator>..</operator><name>e055a3ddc</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>JavaActionExecutor</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>JavaActionExecutor</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">1324</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1324</literal></expr><operator>,</operator><expr><literal type="number">10</literal> @@ <specifier>public</specifier> <name>class</name> <name>JavaActionExecutor</name> extends <name>ActionExecutor</name> <block>{
                     }</block></expr></expr_stmt></if></if_stmt>
                 }
             }
            <if_stmt><if>if <condition>(<expr><name>credProp</name> <operator>==</operator> <literal type="null">null</literal> <operator>&amp;&amp;</operator> <name>credName</name> <operator>!=</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
                <throw>throw <expr><operator>new</operator> <call><name>ActionExecutorException</name><argument_list>(<argument><expr><name><name>ActionExecutorException</name><operator>.</operator><name>ErrorType</name><operator>.</operator><name>ERROR</name></name></expr></argument>, <argument><expr><literal type="string">"JA021"</literal></expr></argument>,
                        <argument><expr><literal type="string">"Could not load credentials with name [{0}]]."</literal></expr></argument>, <argument><expr><name>credName</name></expr></argument>)</argument_list></call></expr>;</throw>
            </block_content>}</block></if></if_stmt>
         } else <block>{<block_content>
             <expr_stmt><expr><call><name><name>LOG</name><operator>.</operator><name>debug</name></name><argument_list>(<argument><expr><literal type="string">"credentials is null for the action"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
         </block_content>}</block>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>TestJavaActionExecutor</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>TestJavaActionExecutor</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">86f0ed2ea</literal><operator>..</operator><literal type="number">35390c444</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>TestJavaActionExecutor</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>action</name><operator>/</operator><name>hadoop</name><operator>/</operator><name><name>TestJavaActionExecutor</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">972</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">972</literal></expr><operator>,</operator><expr><literal type="number">45</literal> @@ <specifier>public</specifier> <name>class</name> <name>TestJavaActionExecutor</name> extends <name>ActionExecutorTestCase</name> <block>{
         <expr><call><name>assertNotNull</name><argument_list>(<argument><expr><name>tk</name></expr></argument>)</argument_list></call></expr>;
     }</block>
 
    <specifier>public</specifier> <name>void</name> <call><name>testCredentialsInvalid</name><argument_list>()</argument_list></call> <throws>throws <argument><expr><name>Exception</name> <block>{
        <expr><name>String</name> <name>workflowXml</name> <operator>=</operator> <literal type="string">"&lt;workflow-app xmlns='uri:oozie:workflow:0.2.5' name='pig-wf'&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;credentials&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;credential name='abcname' type='abc'&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;property&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;name&gt;property1&lt;/name&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;value&gt;value1&lt;/value&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/property&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;property&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;name&gt;property2&lt;/name&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;value&gt;value2&lt;/value&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/property&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;property&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;name&gt;${property3}&lt;/name&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;value&gt;${value3}&lt;/value&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/property&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/credential&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/credentials&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;start to='pig1' /&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;action name='pig1' cred='abcname'&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;pig&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/pig&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;ok to='end' /&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;error to='fail' /&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/action&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;kill name='fail'&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;message&gt;Pig failed, error message[${wf:errorMessage(wf:lastErrorNode())}]&lt;/message&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/kill&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;end name='end' /&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/workflow-app&gt;"</literal></expr></block></expr></argument></throws></expr>;</expr_stmt>

        <decl_stmt><decl><type><name>JavaActionExecutor</name></type> <name>ae</name> <init>= <expr><operator>new</operator> <call><name>JavaActionExecutor</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
        <decl_stmt><decl><type><name>WorkflowJobBean</name></type> <name>wfBean</name> <init>= <expr><call><name>addRecordToWfJobTable</name><argument_list>(<argument><expr><literal type="string">"test1"</literal></expr></argument>, <argument><expr><name>workflowXml</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <decl_stmt><decl><type><name>WorkflowActionBean</name></type> <name>action</name> <init>= <expr><operator>(</operator><name>WorkflowActionBean</name><operator>)</operator> <call><name><name>wfBean</name><operator>.</operator><name>getActions</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="number">0</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt><expr><call><name><name>action</name><operator>.</operator><name>setType</name></name><argument_list>(<argument><expr><call><name><name>ae</name><operator>.</operator><name>getType</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>action</name><operator>.</operator><name>setCred</name></name><argument_list>(<argument><expr><literal type="string">"invalidabcname"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <decl_stmt><decl><type><name>String</name></type> <name>actionXml</name> <init>= <expr><literal type="string">"&lt;pig&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;job-tracker&gt;${jobTracker}&lt;/job-tracker&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;name-node&gt;${nameNode}&lt;/name-node&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;prepare&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;delete path='outputdir' /&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/prepare&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;configuration&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;property&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;name&gt;mapred.compress.map.output&lt;/name&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;value&gt;true&lt;/value&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/property&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;property&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;name&gt;mapred.job.queue.name&lt;/name&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;value&gt;${queueName}&lt;/value&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/property&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;/configuration&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;script&gt;org/apache/oozie/examples/pig/id.pig&lt;/script&gt;"</literal>
                <operator>+</operator> <literal type="string">"&lt;param&gt;INPUT=${inputDir}&lt;/param&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;param&gt;OUTPUT=${outputDir}/pig-output&lt;/param&gt;"</literal> <operator>+</operator> <literal type="string">"&lt;/pig&gt;"</literal></expr></init></decl>;</decl_stmt>
        <expr_stmt><expr><call><name><name>action</name><operator>.</operator><name>setConf</name></name><argument_list>(<argument><expr><name>actionXml</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <decl_stmt><decl><type><name>Context</name></type> <name>context</name> <init>= <expr><operator>new</operator> <call><name>Context</name><argument_list>(<argument><expr><name>wfBean</name></expr></argument>, <argument><expr><name>action</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

        <decl_stmt><decl><type><name>Element</name></type> <name>actionXmlconf</name> <init>= <expr><call><name><name>XmlUtils</name><operator>.</operator><name>parseXml</name></name><argument_list>(<argument><expr><call><name><name>action</name><operator>.</operator><name>getConf</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <comment type="line">// action job configuration</comment>
        <decl_stmt><decl><type><name>Configuration</name></type> <name>actionConf</name> <init>= <expr><call><name><name>ae</name><operator>.</operator><name>createBaseHadoopConf</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><name>actionXmlconf</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

        <try>try <block>{<block_content>
        <comment type="line">// Setting the credential properties in launcher conf should fail</comment>
        <decl_stmt><decl><type><name><name>HashMap</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>CredentialsProperties</name></argument>&gt;</argument_list></name></type> <name>credProperties</name> <init>= <expr><call><name><name>ae</name><operator>.</operator><name>setCredentialPropertyToActionConf</name></name><argument_list>(<argument><expr><name>context</name></expr></argument>, <argument><expr><name>action</name></expr></argument>,
                <argument><expr><name>actionConf</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        </block_content>}</block>
        <catch>catch <parameter_list>(<parameter><decl><type><name>ActionExecutorException</name></type> <name>e</name></decl></parameter>)</parameter_list> <block>{<block_content>
            <expr_stmt><expr><call><name>assertEquals</name><argument_list>(<argument><expr><call><name><name>e</name><operator>.</operator><name>getErrorCode</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"JA021"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        </block_content>}</block></catch></try>
    }

     public <function><type><name>void</name></type> <name>testCredentialsSkip</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
         <comment type="line">// Try setting oozie.credentials.skip at different levels, and verifying the correct behavior</comment>
         <comment type="line">// oozie-site: false -- job-level: null -- action-level: null</comment>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name> <name>b</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>
<name>index</name> <name>da4c97cb3</name><operator>..</operator><literal type="number">501d80767</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>
@@ <operator>-</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">5</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">6</literal> @@
 <operator>--</operator> <name>Oozie</name> <literal type="number">4.3.0</literal> <call><name>release</name> <argument_list>(<argument><expr><name>trunk</name> <operator>-</operator> <name>unreleased</name></expr></argument>)</argument_list></call>
 
<name>OOZIE</name><operator>-</operator><literal type="number">2446</literal> <name>Job</name> <name>does</name> <name>not</name> <name>fail</name> <name>during</name> <name>submission</name></expr></expr_stmt> <if_stmt><if>if non existent credential is specified <condition>(<expr><name>satishsaley</name> <name>via</name> <name>puru</name></expr>)</condition><block type="pseudo"><block_content>
 <expr_stmt><expr><name>OOZIE</name><operator>-</operator><literal type="number">2283</literal> <name>Documentation</name> <name>should</name> <name>not</name> <name>say</name> <name>that</name> <name><name>System</name><operator>.</operator><name>exit</name></name> <name>is</name> <name>not</name> <name>allowed</name> <name>in</name> <name>Java</name> <call><name>Action</name> <argument_list>(<argument><expr><name>eeeva</name> <name>via</name> <name>rkanter</name></expr></argument>)</argument_list></call>
 <name>OOZIE</name><operator>-</operator><literal type="number">2400</literal> <name>Workflow</name> <name>xml</name> <name>configuration</name> <name>parser</name> <name>cannot</name> <name>deal</name> <name>with</name> <name>namespace</name> <call><name>prefix</name> <argument_list>(<argument><expr><name>lars_francke</name> <name>via</name> <name>rkanter</name></expr></argument>)</argument_list></call>
 <name>OOZIE</name><operator>-</operator><literal type="number">2452</literal> <name>Coordinator</name> <name>Functional</name> <name>Specification</name> <operator>-</operator> <name>EL</name> <name>Constants</name> <call><name>Typo</name> <argument_list>(<argument><expr><name>markgreene</name> <name>via</name> <name>puru</name></expr></argument>)</argument_list></call>
<operator>-</operator> 
<literal type="number">2.19.1.windows</literal><literal type="number">.1</literal></expr></expr_stmt></block_content></block></if></if_stmt></block_content></block></function>

</unit>
