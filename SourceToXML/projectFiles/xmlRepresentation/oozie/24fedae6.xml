<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" revision="1.0.0" language="Java" filename="E:/01Courses@USASK/CMPT898-HumanDrivenSoftwareEngineeringForScientificResearch/ProjectProgress/data_files/final_dataset/gen_patch_codes/filtered/oozie/24fedae6.java"><expr_stmt><expr><name>From</name> <literal type="number">24fedae651b26b0f5fb980e96f26ae39fc92e89f</literal> <name>Mon</name> <name>Sep</name> <literal type="number">17</literal> <literal type="number">00</literal><operator>:</operator><literal type="number">00</literal><operator>:</operator><literal type="number">00</literal> <literal type="number">2001</literal>
<name>From</name><operator>:</operator> <name><name>mona</name> <argument_list type="generic">&lt;<argument><name>mona</name><annotation>@<name>unknown</name></annotation></argument>&gt;</argument_list></name>
<name>Date</name><operator>:</operator> <name>Tue</name></expr><operator>,</operator> <expr><literal type="number">5</literal> <name>Mar</name> <literal type="number">2013</literal> <literal type="number">22</literal><operator>:</operator><literal type="number">47</literal><operator>:</operator><literal type="number">36</literal> <operator>+</operator><literal type="number">0000</literal>
<name>Subject</name><operator>:</operator> <index>[<expr><name>PATCH</name></expr>]</index> <name>OOZIE</name><operator>-</operator><literal type="number">1207</literal> <name>Optimize</name> <name>current</name> <name>EL</name> <name>resolution</name> <name>in</name></expr></expr_stmt> <case>case <expr><name>of</name>
 <name>start</name><operator>-</operator><name>instance</name> <name>and</name> <name>end</name><operator>-</operator><call><name>instance</name> <argument_list>(<argument><expr><name>rohini</name> <name>via</name> <name>mona</name></expr></argument>)</argument_list></call>

<name>git</name><operator>-</operator><name>svn</name><operator>-</operator><name>id</name></expr>:</case> <label><name>https</name>:</label><comment type="line">//svn.apache.org/repos/asf/oozie/trunk@1453057 13f79535-47bb-0310-9956-ffa450edef68</comment>
<expr_stmt><expr><operator>--</operator>
 <operator>...</operator><operator>/</operator><name>command</name><operator>/</operator><name>coord</name><operator>/</operator><name><name>CoordCommandUtils</name><operator>.</operator><name>java</name></name>      <operator>|</operator>  <literal type="number">10</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>coord</name><operator>/</operator><name><name>CoordELFunctions</name><operator>.</operator><name>java</name></name>  <operator>|</operator> <literal type="number">101</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>+</operator><operator>--</operator><operator>--</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>util</name><operator>/</operator><name><name>ParamChecker</name><operator>.</operator><name>java</name></name>   <operator>|</operator>  <literal type="number">19</literal> <operator>++</operator><operator>+</operator><operator>-</operator>
 <name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>oozie</name><operator>-</operator>default<operator>.</operator><name>xml</name>     <operator>|</operator>   <literal type="number">3</literal> <operator>+</operator>
 <name>release</name><operator>-</operator><name><name>log</name><operator>.</operator><name>txt</name></name>                               <operator>|</operator>   <literal type="number">1</literal> <operator>+</operator>
 <literal type="number">5</literal> <name>files</name> <name>changed</name></expr><operator>,</operator> <expr><literal type="number">96</literal> <call><name>insertions</name><argument_list>(<argument><expr><operator>+</operator></expr></argument>)</argument_list></call></expr><operator>,</operator> <expr><literal type="number">38</literal> <call><name>deletions</name><argument_list>(<argument><expr><operator>-</operator></expr></argument>)</argument_list></call>

<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>coord</name><operator>/</operator><name><name>CoordCommandUtils</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>coord</name><operator>/</operator><name><name>CoordCommandUtils</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">21f817d1c</literal><operator>..</operator><literal type="number">5cd7775d7</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>coord</name><operator>/</operator><name><name>CoordCommandUtils</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>command</name><operator>/</operator><name>coord</name><operator>/</operator><name><name>CoordCommandUtils</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">227</literal></expr><operator>,</operator><expr><literal type="number">13</literal> <operator>+</operator><literal type="number">227</literal></expr><operator>,</operator><expr><literal type="number">9</literal> @@ <specifier>public</specifier> <name>class</name> <name>CoordCommandUtils</name> <block>{
                 }</block></expr></expr_stmt>
                 <if_stmt><if>if <condition>(<expr><name>funcType</name> <operator>==</operator> <name>CURRENT</name></expr>)</condition> <block>{<block_content>
                     <comment type="line">// Everything could be resolved NOW. no latest() ELs</comment>
                    <for>for <control>(<init><decl><type><name>int</name></type> <name>i</name> <init>= <expr><name>endIndex</name></expr></init></decl>;</init> <condition><expr><name>i</name> <operator>&gt;=</operator> <name>startIndex</name></expr>;</condition> <incr><expr><name>i</name><operator>--</operator></expr></incr>)</control> <block>{<block_content>
                        <decl_stmt><decl><type><name>String</name></type> <name>matInstance</name> <init>= <expr><call><name>materializeInstance</name><argument_list>(<argument><expr><name>event</name></expr></argument>, <argument><expr><literal type="string">"${coord:current("</literal> <operator>+</operator> <name>i</name> <operator>+</operator> <literal type="string">")}"</literal></expr></argument>, <argument><expr><name>appInst</name></expr></argument>, <argument><expr><name>conf</name></expr></argument>,
                                <argument><expr><name>eval</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
                        <if_stmt><if>if <condition>(<expr><name>matInstance</name> <operator>==</operator> <literal type="null">null</literal> <operator>||</operator> <call><name><name>matInstance</name><operator>.</operator><name>length</name></name><argument_list>()</argument_list></call> <operator>==</operator> <literal type="number">0</literal></expr>)</condition> <block>{<block_content>
                            <comment type="line">// Earlier than dataset's initial instance</comment>
                            <break>break;</break>
                        </block_content>}</block></if></if_stmt>
                    <decl_stmt><decl><type><name>String</name></type> <name>matInstance</name> <init>= <expr><call><name>materializeInstance</name><argument_list>(<argument><expr><name>event</name></expr></argument>, <argument><expr><literal type="string">"${coord:currentRange("</literal> <operator>+</operator> <name>startIndex</name> <operator>+</operator> <literal type="string">","</literal>
                            <operator>+</operator> <name>endIndex</name> <operator>+</operator> <literal type="string">")}"</literal></expr></argument>, <argument><expr><name>appInst</name></expr></argument>, <argument><expr><name>conf</name></expr></argument>, <argument><expr><name>eval</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
                    <if_stmt><if>if <condition>(<expr><name>matInstance</name> <operator>!=</operator> <literal type="null">null</literal> <operator>&amp;&amp;</operator> <operator>!</operator><call><name><name>matInstance</name><operator>.</operator><name>isEmpty</name></name><argument_list>()</argument_list></call></expr>)</condition> <block>{<block_content>
                         <if_stmt><if>if <condition>(<expr><call><name><name>instances</name><operator>.</operator><name>length</name></name><argument_list>()</argument_list></call> <operator>&gt;</operator> <literal type="number">0</literal></expr>)</condition> <block>{<block_content>
                             <expr_stmt><expr><call><name><name>instances</name><operator>.</operator><name>append</name></name><argument_list>(<argument><expr><name><name>CoordELFunctions</name><operator>.</operator><name>INSTANCE_SEPARATOR</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
                         </block_content>}</block></if></if_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>coord</name><operator>/</operator><name><name>CoordELFunctions</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>coord</name><operator>/</operator><name><name>CoordELFunctions</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">571b04edf</literal><operator>..</operator><name>fa9b4fbb0</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>coord</name><operator>/</operator><name><name>CoordELFunctions</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>oozie</name><operator>/</operator><name>coord</name><operator>/</operator><name><name>CoordELFunctions</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">330</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">330</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>CoordELFunctions</name> <block>{
                         }</block>
                         <name>available</name><operator>++</operator></expr>;</expr_stmt>
                     </block_content>}</block></if></if_stmt>
                    <comment type="line">// nominalInstanceCal.add(dsTimeUnit.getCalendarUnit(),</comment>
                    <comment type="line">// -datasetFrequency);</comment>
                    <comment type="line">// nominalInstanceCal.add(dsTimeUnit.getCalendarUnit(), datasetFrequency);</comment>
                     <expr_stmt><expr><name>nominalInstanceCal</name> <operator>=</operator> <operator>(</operator><name>Calendar</name><operator>)</operator> <call><name><name>initInstance</name><operator>.</operator><name>clone</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
                     <expr_stmt><expr><name><name>instCount</name><index>[<expr><literal type="number">0</literal></expr>]</index></name><operator>++</operator></expr>;</expr_stmt>
                     <expr_stmt><expr><call><name><name>nominalInstanceCal</name><operator>.</operator><name>add</name></name><argument_list>(<argument><expr><call><name><name>dsTimeUnit</name><operator>.</operator><name>getCalendarUnit</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><name><name>instCount</name><index>[<expr><literal type="number">0</literal></expr>]</index></name> <operator>*</operator> <name>datasetFrequency</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">509</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">508</literal></expr><operator>,</operator><expr><literal type="number">31</literal> @@ <specifier>public</specifier> <name>class</name> <name>CoordELFunctions</name> <block>{
         }</block></expr></expr_stmt>
     </block_content>}</block></for>
 
    <comment type="block" format="javadoc">/**
     * Determine the date-time in Oozie processing timezone of current dataset instances
     * from start to end offsets from the nominal time. &lt;p/&gt; It depends
     * on: &lt;p/&gt; 1. Data set frequency &lt;p/&gt; 2. Data set Time unit (day, month, minute) &lt;p/&gt; 3. Data set Time zone/DST
     * &lt;p/&gt; 4. End Day/Month flag &lt;p/&gt; 5. Data set initial instance &lt;p/&gt; 6. Action Creation Time
     *
     * @param start :start instance offset &lt;p/&gt; domain: start &lt;= 0, start is integer
     * @param end :end instance offset &lt;p/&gt; domain: end &lt;= 0, end is integer
     * @return date-time in Oozie processing timezone of the instances from start to end offsets
     *        delimited by comma. &lt;p/&gt; If the current instance time of the dataset based on the Action Creation Time
     *        is earlier than the Initial-Instance of DS an empty string is returned.
     *        If an instance within the range is earlier than Initial-Instance of DS that instance is ignored
     * @throws Exception
     */</comment>
    <function><type><specifier>public</specifier> <specifier>static</specifier> <name>String</name></type> <name>ph2_coord_currentRange</name><parameter_list>(<parameter><decl><type><name>int</name></type> <name>start</name></decl></parameter>, <parameter><decl><type><name>int</name></type> <name>end</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
        <expr_stmt><expr><call><name><name>ParamChecker</name><operator>.</operator><name>checkLEZero</name></name><argument_list>(<argument><expr><name>start</name></expr></argument>, <argument><expr><literal type="string">"current:n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>ParamChecker</name><operator>.</operator><name>checkLEZero</name></name><argument_list>(<argument><expr><name>end</name></expr></argument>, <argument><expr><literal type="string">"current:n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <if_stmt><if>if <condition>(<expr><call><name>isSyncDataSet</name><argument_list>()</argument_list></call></expr>)</condition> <block>{<block_content> <comment type="line">// For Sync Dataset</comment>
            <return>return <expr><call><name>coord_currentRange_sync</name><argument_list>(<argument><expr><name>start</name></expr></argument>, <argument><expr><name>end</name></expr></argument>)</argument_list></call></expr>;</return>
        </block_content>}</block></if>
        <else>else <block>{<block_content>
            <throw>throw <expr><operator>new</operator> <call><name>UnsupportedOperationException</name><argument_list>(<argument><expr><literal type="string">"Asynchronous Dataset is not supported yet"</literal></expr></argument>)</argument_list></call></expr>;</throw>
        </block_content>}</block></else></if_stmt>
    </block_content>}</block></function>

     <comment type="block" format="javadoc">/**
      * Determine the date-time in Oozie processing timezone of the given offset from the dataset effective nominal time. &lt;p/&gt; It
      * depends on: &lt;p&gt; 1. Data set frequency &lt;p/&gt; 2. Data set Time Unit &lt;p/&gt; 3. Data set Time zone/DST
@@ -596,15 +620,13 @@ public class CoordELFunctions {
      * &lt;p/&gt; 4. End Day/Month flag &lt;p/&gt; 5. Data set initial instance &lt;p/&gt; 6. Action Creation Time &lt;p/&gt; 7. Existence of
      * dataset's directory
      *
     * @param n :instance count &lt;p/&gt; domain: n &gt; 0, n is integer
     * @param n :instance count &lt;p/&gt; domain: n &lt;= 0, n is integer
      * @return date-time in Oozie processing timezone of the n-th instance &lt;p/&gt; returns 'null' means n-th instance is
      * earlier than Initial-Instance of DS
      * @throws Exception
      */</comment>
     <function><type><specifier>public</specifier> <specifier>static</specifier> <name>String</name></type> <name>ph3_coord_latest</name><parameter_list>(<parameter><decl><type><name>int</name></type> <name>n</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
        <if_stmt><if>if <condition>(<expr><name>n</name> <operator>&gt;</operator> <literal type="number">0</literal></expr>)</condition> <block>{<block_content>
            <throw>throw <expr><operator>new</operator> <call><name>IllegalArgumentException</name><argument_list>(<argument><expr><literal type="string">"paramter should be &lt;= 0 but it is "</literal> <operator>+</operator> <name>n</name></expr></argument>)</argument_list></call></expr>;</throw>
        </block_content>}</block></if></if_stmt>
        <expr_stmt><expr><call><name><name>ParamChecker</name><operator>.</operator><name>checkLEZero</name></name><argument_list>(<argument><expr><name>n</name></expr></argument>, <argument><expr><literal type="string">"latest:n"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
         <if_stmt><if>if <condition>(<expr><call><name>isSyncDataSet</name><argument_list>()</argument_list></call></expr>)</condition> <block>{<block_content><comment type="line">// For Sync Dataset</comment>
             <return>return <expr><call><name>coord_latest_sync</name><argument_list>(<argument><expr><name>n</name></expr></argument>)</argument_list></call></expr>;</return>
         </block_content>}</block></if></if_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">620</literal></expr><operator>,</operator><expr><literal type="number">14</literal> <operator>+</operator><literal type="number">642</literal></expr><operator>,</operator><expr><literal type="number">16</literal> @@ <specifier>public</specifier> <name>class</name> <name>CoordELFunctions</name> <block>{
      <expr><operator>*</operator> <operator>&lt;</operator><name>p</name><operator>/</operator><operator>&gt;</operator> <literal type="number">4.</literal> <name>End</name> <name>Day</name><operator>/</operator><name>Month</name> <name><name>flag</name> <argument_list type="generic">&lt;<argument><name>p</name><operator>/</operator></argument>&gt;</argument_list></name> <literal type="number">5.</literal> <name>Data</name> <name>set</name> <name>initial</name> <name><name>instance</name> <argument_list type="generic">&lt;<argument><name>p</name><operator>/</operator></argument>&gt;</argument_list></name> <literal type="number">6.</literal> <name>Action</name> <name>Creation</name> <name><name>Time</name> <argument_list type="generic">&lt;<argument><name>p</name><operator>/</operator></argument>&gt;</argument_list></name> <literal type="number">7.</literal> <name>Existence</name> <name>of</name>
      <operator>*</operator> <name>dataset</name><literal type="char">'s directory
      *
     * @param start :start instance offset &lt;p/&gt; domain: start &gt; 0, start is integer
     * @param end :end instance offset &lt;p/&gt; domain: end &gt; 0, end is integer
     * @param start :start instance offset &lt;p/&gt; domain: start &lt;= 0, start is integer
     * @param end :end instance offset &lt;p/&gt; domain: end &lt;= 0, end is integer
      * @return date-time in Oozie processing timezone of the instances from start to end offsets
      *        delimited by comma. &lt;p/&gt; returns '</literal><literal type="null">null</literal><literal type="char">' means start offset instance is
      *        earlier than Initial-Instance of DS
      * @throws Exception
      */
     public static String ph3_coord_latestRange(int start, int end) throws Exception {
        ParamChecker.checkLEZero(start, "latest:n");
        ParamChecker.checkLEZero(end, "latest:n");
         if (isSyncDataSet()) {// For Sync Dataset
             return coord_latestRange_sync(start, end);
         }
@@ -680,6 +704,10 @@ public class CoordELFunctions {
         return echoUnResolved("current", n);
     }
 
    public static String ph1_coord_currentRange_echo(String start, String end) {
        return echoUnResolved("currentRange", start + ", " + end);
    }

     public static String ph1_coord_offset_echo(String n, String timeUnit) {
         return echoUnResolved("offset", n + " , " + timeUnit);
     }
@@ -688,6 +716,10 @@ public class CoordELFunctions {
         return echoUnResolved("current", n);
     }
 
    public static String ph2_coord_currentRange_echo(String start, String end) {
        return echoUnResolved("currentRange", start + ", " + end);
    }

     public static String ph2_coord_offset_echo(String n, String timeUnit) {
         return echoUnResolved("offset", n + " , " + timeUnit);
     }
@@ -849,29 +881,49 @@ public class CoordELFunctions {
      * @throws Exception
      */
     private static String coord_current_sync(int n) throws Exception {
        return coord_currentRange_sync(n, n);
    }

    private static String coord_currentRange_sync(int start, int end) throws Exception {
         int datasetFrequency = getDSFrequency();// in minutes
         TimeUnit dsTimeUnit = getDSTimeUnit();
         int[] instCount = new int[1];// used as pass by ref
         Calendar nominalInstanceCal = getCurrentInstance(getActionCreationtime(), instCount);
        StringBuilder instanceList = new StringBuilder();
         if (nominalInstanceCal == null) {
             LOG.warn("If the initial instance of the dataset is later than the nominal time, an empty string is"
                     + " returned. This means that no data is available at the current-instance specified by the user"
                     + " and the user could try modifying his initial-instance to an earlier time.");
             return "";
        } else {
            Calendar initInstance = getInitialInstanceCal();
            instCount[0] = instCount[0] + end;
            // Add in the reverse order - newest instance first.
            for (int i = end; i &gt;= start; i--) {
                // Tried to avoid the clone. But subtracting datasetFrequency gives different results than multiplying
                // and Spring DST transition test in TestCoordELfunctions.testCurrent() fails
                //nominalInstanceCal.add(dsTimeUnit.getCalendarUnit(), -datasetFrequency);
                nominalInstanceCal = (Calendar) initInstance.clone();
                nominalInstanceCal.add(dsTimeUnit.getCalendarUnit(), instCount[0] * datasetFrequency);
                instCount[0]--;
                if (nominalInstanceCal.compareTo(initInstance) &lt; 0) {
                    LOG.warn("If the initial instance of the dataset is later than the current-instance specified,"
                            + " such as coord:current({0}) in this case, an empty string is returned. This means that"
                            + " no data is available at the current-instance specified by the user and the user could"
                            + " try modifying his initial-instance to an earlier time.", start);
                    break;
                }
                else {
                    instanceList.append(DateUtils.formatDateOozieTZ(nominalInstanceCal));
                    instanceList.append(CoordELFunctions.INSTANCE_SEPARATOR);
                }
            }
         }
        nominalInstanceCal = getInitialInstanceCal();
        int absInstanceCount = instCount[0] + n;
        nominalInstanceCal.add(dsTimeUnit.getCalendarUnit(), datasetFrequency * absInstanceCount);
 
        if (nominalInstanceCal.getTime().compareTo(getInitialInstance()) &lt; 0) {
            LOG.warn("If the initial instance of the dataset is later than the current-instance specified, such as"
                    + " coord:current({0}) in this case, an empty string is returned. This means that no data is"
                    + " available at the current-instance specified by the user and the user could try modifying his"
                    + " initial-instance to an earlier time.", n);
            return "";
        if (instanceList.length() &gt; 0) {
            instanceList.setLength(instanceList.length() - CoordELFunctions.INSTANCE_SEPARATOR.length());
         }
        String str = DateUtils.formatDateOozieTZ(nominalInstanceCal);
        return str;
        return instanceList.toString();
     }
 
     /**
@@ -946,14 +998,6 @@ public class CoordELFunctions {
     }
 
     private static String coord_latestRange_sync(int startOffset, int endOffset) throws Exception {
        if (startOffset &gt; 0) {
            throw new RuntimeException("For latest there is no meaning " + "of positive instance. n should be &lt;=0"
                    + startOffset);
        }
        if (endOffset &gt; 0) {
            throw new RuntimeException("For latest there is no meaning " + "of positive instance. n should be &lt;=0"
                    + endOffset);
        }
         ELEvaluator eval = ELEvaluator.getCurrent();
         String retVal = "";
         int datasetFrequency = (int) getDSFrequency();// in minutes
@@ -1019,8 +1063,7 @@ public class CoordELFunctions {
 
                         available--;
                     }
                    // nominalInstanceCal.add(dsTimeUnit.getCalendarUnit(),
                    // -datasetFrequency);
                    // nominalInstanceCal.add(dsTimeUnit.getCalendarUnit(), -datasetFrequency);
                     nominalInstanceCal = (Calendar) initInstance.clone();
                     instCount[0]--;
                     nominalInstanceCal.add(dsTimeUnit.getCalendarUnit(), instCount[0] * datasetFrequency);
diff --git a/core/src/main/java/org/apache/oozie/util/ParamChecker.java b/core/src/main/java/org/apache/oozie/util/ParamChecker.java
index b38e4f251..7778c9037 100644
-- a/core/src/main/java/org/apache/oozie/util/ParamChecker.java
++ b/core/src/main/java/org/apache/oozie/util/ParamChecker.java
@@ -6,9 +6,9 @@
  * to you under the Apache License, Version 2.0 (the
  * "License"); you may not use this file except in compliance
  * with the License.  You may obtain a copy of the License at
 * 
 *
  *      http://www.apache.org/licenses/LICENSE-2.0
 * 
 *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
@@ -180,6 +180,21 @@ public class ParamChecker {
         return value;
     }
 
    /**
     * Check whether the value is less than or equal to 0.
     *
     * @param value : value to test
     * @param name : Name of the parameter
     * @return If the value is &lt;= 0, return the value. Otherwise throw IllegalArgumentException
     */
    public static int checkLEZero(int value, String name) {
        if (value &gt; 0) {
            throw new IllegalArgumentException(XLog.format(
                    "parameter [{0}] = [{1}] must be less than or equal to zero", name, value));
        }
        return value;
    }

     /**
      * Check whether the value is Integer.
      *
diff --git a/core/src/main/resources/oozie-default.xml b/core/src/main/resources/oozie-default.xml
index f04b81461..304afc238 100644
-- a/core/src/main/resources/oozie-default.xml
++ b/core/src/main/resources/oozie-default.xml
@@ -730,6 +730,7 @@
             coord:daysInMonth=org.apache.oozie.coord.CoordELFunctions#ph1_coord_daysInMonth_echo,
             coord:tzOffset=org.apache.oozie.coord.CoordELFunctions#ph1_coord_tzOffset_echo,
             coord:current=org.apache.oozie.coord.CoordELFunctions#ph1_coord_current_echo,
            coord:currentRange=org.apache.oozie.coord.CoordELFunctions#ph1_coord_currentRange_echo,
             coord:offset=org.apache.oozie.coord.CoordELFunctions#ph1_coord_offset_echo,
             coord:latest=org.apache.oozie.coord.CoordELFunctions#ph1_coord_latest_echo,
             coord:latestRange=org.apache.oozie.coord.CoordELFunctions#ph1_coord_latestRange_echo,
@@ -887,6 +888,7 @@
             coord:daysInMonth=org.apache.oozie.coord.CoordELFunctions#ph2_coord_daysInMonth,
             coord:tzOffset=org.apache.oozie.coord.CoordELFunctions#ph2_coord_tzOffset,
             coord:current=org.apache.oozie.coord.CoordELFunctions#ph2_coord_current,
            coord:currentRange=org.apache.oozie.coord.CoordELFunctions#ph2_coord_currentRange,
             coord:offset=org.apache.oozie.coord.CoordELFunctions#ph2_coord_offset,
             coord:latest=org.apache.oozie.coord.CoordELFunctions#ph2_coord_latest_echo,
             coord:latestRange=org.apache.oozie.coord.CoordELFunctions#ph2_coord_latestRange_echo,
@@ -942,6 +944,7 @@
             coord:daysInMonth=org.apache.oozie.coord.CoordELFunctions#ph2_coord_daysInMonth,
             coord:tzOffset=org.apache.oozie.coord.CoordELFunctions#ph2_coord_tzOffset,
             coord:current=org.apache.oozie.coord.CoordELFunctions#ph2_coord_current_echo,
            coord:currentRange=org.apache.oozie.coord.CoordELFunctions#ph2_coord_currentRange_echo,
             coord:offset=org.apache.oozie.coord.CoordELFunctions#ph2_coord_offset_echo,
             coord:latest=org.apache.oozie.coord.CoordELFunctions#ph2_coord_latest_echo,
             coord:latestRange=org.apache.oozie.coord.CoordELFunctions#ph2_coord_latestRange_echo,
diff --git a/release-log.txt b/release-log.txt
index d24ca1bd0..73833a69a 100644
-- a/release-log.txt
++ b/release-log.txt
@@ -4,6 +4,7 @@ OOZIE-1239 Bump up trunk to 4.1.0-SNAPSHOT (virag)
 
 -- Oozie 4.0.0 (unreleased)
 
OOZIE-1207 Optimize current EL resolution in case of start-instance and end-instance (rohini via mona)
 OOZIE-1247 CoordActionInputCheck shouldn'</literal><name>t</name> <name>queue</name> <call><name>CoordPushInputCheck</name> <argument_list>(<argument><expr><name>rohini</name> <name>via</name> <name>virag</name></expr></argument>)</argument_list></call>
 <name>OOZIE</name><operator>-</operator><literal type="number">1238</literal> <name>CoordPushCheck</name> <name>doesn</name><literal type="char">'</literal></expr></block></expr></expr_stmt></block_content></block></function></block_content></block></if></if_stmt>t evaluate the configuration section which is propogated to workflow (virag)
 OOZIE-1203 Oozie web-console to display Bundle job definition, configuration and log tabs (mona)
- 
2.19.1.windows.1

</unit>
