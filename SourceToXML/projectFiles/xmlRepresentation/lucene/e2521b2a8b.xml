<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" revision="1.0.0" language="Java" filename="E:/01Courses@USASK/CMPT898-HumanDrivenSoftwareEngineeringForScientificResearch/ProjectProgress/data_files/final_dataset/gen_patch_codes/filtered/lucene/e2521b2a8b.java"><expr_stmt><expr><name>From</name> <name>e2521b2a8baabdaf43b92192588f51e042d21e97</name> <name>Mon</name> <name>Sep</name> <literal type="number">17</literal> <literal type="number">00</literal><operator>:</operator><literal type="number">00</literal><operator>:</operator><literal type="number">00</literal> <literal type="number">2001</literal>
<name>From</name><operator>:</operator> <name>Steve</name> <name><name>Rowe</name> <argument_list type="generic">&lt;<argument><name>sarowe</name><annotation>@<name><name>apache</name><operator>.</operator><name>org</name></name></annotation></argument>&gt;</argument_list></name>
<name>Date</name><operator>:</operator> <name>Fri</name></expr><operator>,</operator> <expr><literal type="number">28</literal> <name>Apr</name> <literal type="number">2017</literal> <literal type="number">15</literal><operator>:</operator><literal type="number">36</literal><operator>:</operator><literal type="number">50</literal> <operator>-</operator><literal type="number">0400</literal>
<name>Subject</name><operator>:</operator> <index>[<expr><name>PATCH</name></expr>]</index> <name>SOLR</name><operator>-</operator><literal type="number">9596</literal><operator>:</operator> <name>Add</name> <name>Solr</name> <name>support</name></expr></expr_stmt> <for>for SimpleTextCodec<operator>,</operator> <decl_stmt><decl><type><name><name>via</name>
 <argument_list type="generic">&lt;<argument><name>codecFactory</name> class<operator>=</operator><name><name>solr</name><operator>.</operator><name>SimpleTextCodecFactory</name></name><operator>/</operator></argument>&gt;</argument_list></name> <name>in</name></type> <name><name>solrconfig</name><operator>.</operator><name>xml</name></name>
 <argument_list>(<argument><expr><name>per</name><operator>-</operator><name>field</name> <name>specification</name> <name>in</name> <name>the</name> <name>schema</name> <name>is</name> <name>not</name> <name>possible</name></expr></argument>)</argument_list>.

--
 <modifier>...</modifier>/<name>idea</name>/<name>solr</name>/<name>core</name>/<name>src</name>/<name>java</name>/<name>solr</name>-<name><name>core</name><operator>.</operator><name>iml</name></name>     <operator>|</operator>  1 +
 <name>solr</name>/<name><name>CHANGES</name><operator>.</operator><name>txt</name></name>                              <operator>|</operator>  3 +
 <modifier>...</modifier>/<name>solr</name>/<name>core</name>/<name><name>SimpleTextCodecFactory</name><operator>.</operator><name>java</name></name>     <operator>|</operator> 38 +++++++++++
 <modifier>...</modifier>/<name>conf</name>/<name>schema</name>-<name><name>SimpleTextCodec</name><operator>.</operator><name>xml</name></name>           <operator>|</operator> 32 +++++++++
 <modifier>...</modifier>/<name>conf</name>/<name><name>solrconfig_SimpleTextCodec</name><operator>.</operator><name>xml</name></name>       <operator>|</operator> 26 +++++++
 <modifier>...</modifier>/<name>apache</name>/<name>solr</name>/<name>core</name>/<name><name>TestSimpleTextCodec</name><operator>.</operator><name>java</name></name> <operator>|</operator> 67 +++++++++++++++++++
 6 <name>files</name> <name>changed</name></decl>, 167 <decl><type ref="prev"/><name>insertions</name><argument_list>(<argument><expr><operator>+</operator></expr></argument>)</argument_list>
 <name>create</name> <name>mode</name> 100644 <name>solr</name>/<name>core</name>/<name>src</name>/<name>java</name>/<name>org</name>/<name>apache</name>/<name>solr</name>/<name>core</name>/<name><name>SimpleTextCodecFactory</name><operator>.</operator><name>java</name></name>
 <name>create</name> <name>mode</name> 100644 <name>solr</name>/<name>core</name>/<name>src</name>/<name>test</name>-<name>files</name>/<name>solr</name>/<name>collection1</name>/<name>conf</name>/<name>schema</name>-<name><name>SimpleTextCodec</name><operator>.</operator><name>xml</name></name>
 <name>create</name> <name>mode</name> 100644 <name>solr</name>/<name>core</name>/<name>src</name>/<name>test</name>-<name>files</name>/<name>solr</name>/<name>collection1</name>/<name>conf</name>/<name><name>solrconfig_SimpleTextCodec</name><operator>.</operator><name>xml</name></name>
 <name>create</name> <name>mode</name> 100644 <name>solr</name>/<name>core</name>/<name>src</name>/<name>test</name>/<name>org</name>/<name>apache</name>/<name>solr</name>/<name>core</name>/<name><name>TestSimpleTextCodec</name><operator>.</operator><name>java</name></name>

<name>diff</name> --<name>git</name> <name>a</name>/<name>dev</name>-<name>tools</name>/<name>idea</name>/<name>solr</name>/<name>core</name>/<name>src</name>/<name>java</name>/<name>solr</name>-<name><name>core</name><operator>.</operator><name>iml</name></name> <name>b</name>/<name>dev</name>-<name>tools</name>/<name>idea</name>/<name>solr</name>/<name>core</name>/<name>src</name>/<name>java</name>/<name>solr</name>-<name><name>core</name><operator>.</operator><name>iml</name></name>
<name>index</name> 6cf1ab175f4..61387b980d7 100644
-- <name>a</name>/<name>dev</name>-<name>tools</name>/<name>idea</name>/<name>solr</name>/<name>core</name>/<name>src</name>/<name>java</name>/<name>solr</name>-<name><name>core</name><operator>.</operator><name>iml</name></name>
++ <name>b</name>/<name>dev</name>-<name>tools</name>/<name>idea</name>/<name>solr</name>/<name>core</name>/<name>src</name>/<name>java</name>/<name>solr</name>-<name><name>core</name><operator>.</operator><name>iml</name></name>
@@ -32</decl>,5 +32,6 @@
     <decl><type ref="prev"/><name><argument_list type="generic">&lt;<argument><name>orderEntry</name> <name>type</name><operator>=</operator></argument></argument_list></name>"module" <name>module</name>-<name>name</name><init>=<expr><literal type="string">"join"</literal> <operator>/</operator><operator>&gt;</operator>
     <operator>&lt;</operator><name>orderEntry</name> <name>type</name><operator>=</operator><literal type="string">"module"</literal> <name>module</name><operator>-</operator><name>name</name><operator>=</operator><literal type="string">"sandbox"</literal> <operator>/</operator><operator>&gt;</operator>
     <operator>&lt;</operator><name>orderEntry</name> <name>type</name><operator>=</operator><literal type="string">"module"</literal> <name>module</name><operator>-</operator><name>name</name><operator>=</operator><literal type="string">"backward-codecs"</literal> <operator>/</operator><operator>&gt;</operator>
    <operator>&lt;</operator><name>orderEntry</name> <name>type</name><operator>=</operator><literal type="string">"module"</literal> <name>module</name><operator>-</operator><name>name</name><operator>=</operator><literal type="string">"codecs"</literal> <operator>/</operator><operator>&gt;</operator>
   <operator>&lt;</operator><operator>/</operator><name>component</name><operator>&gt;</operator>
 <operator>&lt;</operator><operator>/</operator><name>module</name><operator>&gt;</operator>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>solr</name><operator>/</operator><name><name>CHANGES</name><operator>.</operator><name>txt</name></name> <name>b</name><operator>/</operator><name>solr</name><operator>/</operator><name><name>CHANGES</name><operator>.</operator><name>txt</name></name>
<name>index</name> <literal type="number">8f1fe870254</literal><operator>..</operator><literal type="number">81288d8eee2</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>solr</name><operator>/</operator><name><name>CHANGES</name><operator>.</operator><name>txt</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>solr</name><operator>/</operator><name><name>CHANGES</name><operator>.</operator><name>txt</name></name>
@@ <operator>-</operator><literal type="number">196</literal></expr></init></decl>,6 +196,9 @@ <decl><type ref="prev"/><name>New</name> <name>Features</name>
 
 <modifier>*</modifier> <name>SOLR</name>-10521<range>: <expr><name>introducing</name> <name>sort</name><operator>=</operator><call><name>childfield</name><argument_list>(<argument><expr><name>field</name></expr></argument>)</argument_list></call> <name>asc</name></expr></range></decl></decl_stmt></for> <for>for searching by <block>{<block_content><expr><operator>!</operator><name>parent</name></expr></block_content>}</block></for> <expr_stmt><expr><operator>(</operator><name>Mikhail</name> <name>Khludnev</name><operator>)</operator> 
 
<operator>*</operator> <name>SOLR</name><operator>-</operator><literal type="number">9596</literal><operator>:</operator> <name>Add</name> <name>Solr</name> <name>support</name></expr></expr_stmt> <for>for SimpleTextCodec<operator>,</operator> <expr_stmt><expr><name>via</name> <operator>&lt;</operator><name>codecFactory</name> <name>class</name><operator>=</operator><literal type="string">"solr.SimpleTextCodecFactory"</literal><operator>/</operator><operator>&gt;</operator>
  <name>in</name> <call><name><name>solrconfig</name><operator>.</operator><name>xml</name></name> <argument_list>(<argument><expr><name>per</name><operator>-</operator><name>field</name> <name>specification</name> <name>in</name> <name>the</name> <name>schema</name> <name>is</name> <name>not</name> <name>possible</name></expr></argument>)</argument_list></call><operator>.</operator> <operator>(</operator><name>Steve</name> <name>Rowe</name><operator>)</operator>

 <name>Optimizations</name>
 <operator>--</operator><operator>--</operator><operator>--</operator><operator>--</operator><operator>--</operator><operator>--</operator><operator>--</operator><operator>--</operator><operator>--</operator><operator>--</operator><operator>--</operator>
 
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name><name>SimpleTextCodecFactory</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name><name>SimpleTextCodecFactory</name><operator>.</operator><name>java</name></name>
<operator>new</operator> <name>file</name> <name>mode</name> <literal type="number">100644</literal>
<name>index</name> <literal type="number">00000000000..de0124fce82</literal>
<operator>--</operator> <operator>/</operator><name>dev</name><operator>/</operator><literal type="null">null</literal>
<operator>++</operator> <name>b</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name><name>SimpleTextCodecFactory</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">0</literal></expr><operator>,</operator><expr><literal type="number">0</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">38</literal> @@</expr></expr_stmt></for>
<comment type="block">/*
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</comment>

<package>package <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>solr</name><operator>.</operator><name>core</name></name>;</package>

<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>lucene</name><operator>.</operator><name>codecs</name><operator>.</operator><name>Codec</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>lucene</name><operator>.</operator><name>codecs</name><operator>.</operator><name>simpletext</name><operator>.</operator><name>SimpleTextCodec</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>solr</name><operator>.</operator><name>common</name><operator>.</operator><name>util</name><operator>.</operator><name>NamedList</name></name>;</import>

<class><specifier>public</specifier> class <name>SimpleTextCodecFactory</name> <super_list><extends>extends <super><name>CodecFactory</name></super></extends></super_list> <block>{
  <decl_stmt><decl><type><specifier>private</specifier> <name>Codec</name></type> <name>codec</name></decl>;</decl_stmt>

  <function><annotation>@<name>Override</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>init</name><parameter_list>(<parameter><decl><type><name>NamedList</name></type> <name>args</name></decl></parameter>)</parameter_list> <block>{<block_content>
    <expr_stmt><expr><call><name><name>super</name><operator>.</operator><name>init</name></name><argument_list>(<argument><expr><name>args</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <assert>assert <expr><name>codec</name> <operator>==</operator> <literal type="null">null</literal></expr>;</assert>
    <expr_stmt><expr><name>codec</name> <operator>=</operator> <operator>new</operator> <call><name>SimpleTextCodec</name><argument_list>()</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Override</name></annotation>
  <type><specifier>public</specifier> <name>Codec</name></type> <name>getCodec</name><parameter_list>()</parameter_list> <block>{<block_content>
    <return>return <expr><name>codec</name></expr>;</return>
  </block_content>}</block></function>
}</block></class>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>-</operator><name>files</name><operator>/</operator><name>solr</name><operator>/</operator><name>collection1</name><operator>/</operator><name>conf</name><operator>/</operator><name>schema</name><operator>-</operator><name><name>SimpleTextCodec</name><operator>.</operator><name>xml</name></name> <name>b</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>-</operator><name>files</name><operator>/</operator><name>solr</name><operator>/</operator><name>collection1</name><operator>/</operator><name>conf</name><operator>/</operator><name>schema</name><operator>-</operator><name><name>SimpleTextCodec</name><operator>.</operator><name>xml</name></name>
<operator>new</operator> <name>file</name> <name>mode</name> <literal type="number">100644</literal>
<name>index</name> <literal type="number">00000000000..528de731e3f</literal>
<operator>--</operator> <operator>/</operator><name>dev</name><operator>/</operator><literal type="null">null</literal>
<operator>++</operator> <name>b</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>-</operator><name>files</name><operator>/</operator><name>solr</name><operator>/</operator><name>collection1</name><operator>/</operator><name>conf</name><operator>/</operator><name>schema</name><operator>-</operator><name><name>SimpleTextCodec</name><operator>.</operator><name>xml</name></name>
@@ <operator>-</operator><literal type="number">0</literal></expr><operator>,</operator><expr><literal type="number">0</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><ternary><condition><expr><literal type="number">32</literal> @@
<operator>&lt;</operator></expr>?</condition><then><expr><name>xml</name> <name>version</name><operator>=</operator><literal type="string">"1.0"</literal> <name>encoding</name><operator>=</operator><ternary><condition><expr><literal type="string">"UTF-8"</literal></expr> ?</condition><then><expr><operator>&gt;</operator>
<operator>&lt;</operator><operator>!</operator><operator>--</operator>
 <name>Licensed</name> <name>to</name> <name>the</name> <name>Apache</name> <name>Software</name> <call><name>Foundation</name> <argument_list>(<argument><expr><name>ASF</name></expr></argument>)</argument_list></call> <name>under</name> <name>one</name> <name>or</name> <name>more</name>
 <name>contributor</name> <name>license</name> <name><name>agreements</name><operator>.</operator>  <name>See</name></name> <name>the</name> <name>NOTICE</name> <name>file</name> <name>distributed</name> <name>with</name>
 <name>this</name> <name>work</name></expr></then></ternary></expr></then></ternary></expr></expr_stmt> <for>for additional information regarding copyright ownership.
 The ASF licenses this file to You under the Apache License<operator>,</operator> <expr_stmt><expr><name>Version</name> <literal type="number">2.0</literal>
 <operator>(</operator><name>the</name> <literal type="string">"License"</literal><operator>)</operator></expr>;</expr_stmt></for> <expr_stmt><expr><name>you</name> <name>may</name> <name>not</name> <name>use</name> <name>this</name> <name>file</name> <name>except</name> <name>in</name> <name>compliance</name> <name>with</name>
 <name>the</name> <name><name>License</name><operator>.</operator>  <name>You</name></name> <name>may</name> <name>obtain</name> <name>a</name> <name>copy</name> <name>of</name> <name>the</name> <name>License</name> <name>at</name>

     <name>http</name><operator>:</operator><comment type="line">//www.apache.org/licenses/LICENSE-2.0</comment>

 <name>Unless</name> <name>required</name> <name>by</name> <name>applicable</name> <name>law</name> <name>or</name> <name>agreed</name> <name>to</name> <name>in</name> <name>writing</name></expr><operator>,</operator> <expr><name>software</name>
 <name>distributed</name> <name>under</name> <name>the</name> <name>License</name> <name>is</name> <name>distributed</name> <name>on</name> <name>an</name> <literal type="string">"AS IS"</literal> <name>BASIS</name></expr><operator>,</operator>
 <expr><name>WITHOUT</name> <name>WARRANTIES</name> <name>OR</name> <name>CONDITIONS</name> <name>OF</name> <name>ANY</name> <name>KIND</name></expr><operator>,</operator> <expr><name>either</name> <name>express</name> <name>or</name> <name><name>implied</name><operator>.</operator>
 <name>See</name></name> <name>the</name> <name>License</name></expr></expr_stmt> <for>for the specific language governing permissions and
 limitations under the License.
--&gt;
&lt;schema name="SimpleTextCodec" version="1.6"&gt;
  &lt;fieldType name="string" class="solr.StrField"/&gt;

  &lt;fieldType name="text_general" class="solr.TextField" positionIncrementGap="100"&gt;
    &lt;analyzer&gt;
      &lt;tokenizer class="solr.StandardTokenizerFactory"/&gt;
      &lt;filter class="solr.LowerCaseFilterFactory"/&gt;
    &lt;/analyzer&gt;
  &lt;/fieldType&gt;

  &lt;field name="id" type="string" indexed="true" stored="true" docValues="true" required="true"/&gt;
  &lt;field name="text" type="text_general" indexed="true" stored="true"/&gt;

  &lt;uniqueKey&gt;id&lt;/uniqueKey&gt;
&lt;/schema&gt;
diff --git a/solr/core/src/test-files/solr/collection1/conf/solrconfig_SimpleTextCodec.xml b/solr/core/src/test-files/solr/collection1/conf/solrconfig_SimpleTextCodec.xml
new file mode 100644
index 00000000000..f3abf9bc1d3
-- /dev/null
++ b/solr/core/src/test-files/solr/collection1/conf/solrconfig_SimpleTextCodec.xml
@@ -0<operator>,</operator><expr_stmt><expr><literal type="number">0</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><ternary><condition><expr><literal type="number">26</literal> @@
<operator>&lt;</operator></expr>?</condition><then><expr><name>xml</name> <name>version</name><operator>=</operator><literal type="string">"1.0"</literal> <name>encoding</name><operator>=</operator><ternary><condition><expr><literal type="string">"UTF-8"</literal></expr> ?</condition><then><expr><operator>&gt;</operator>
<operator>&lt;</operator><operator>!</operator><operator>--</operator>
 <name>Licensed</name> <name>to</name> <name>the</name> <name>Apache</name> <name>Software</name> <call><name>Foundation</name> <argument_list>(<argument><expr><name>ASF</name></expr></argument>)</argument_list></call> <name>under</name> <name>one</name> <name>or</name> <name>more</name>
 <name>contributor</name> <name>license</name> <name><name>agreements</name><operator>.</operator>  <name>See</name></name> <name>the</name> <name>NOTICE</name> <name>file</name> <name>distributed</name> <name>with</name>
 <name>this</name> <name>work</name></expr></then></ternary></expr></then></ternary></expr></expr_stmt></for> <for>for additional information regarding copyright ownership.
 The ASF licenses this file to You under the Apache License<operator>,</operator> <expr_stmt><expr><name>Version</name> <literal type="number">2.0</literal>
 <operator>(</operator><name>the</name> <literal type="string">"License"</literal><operator>)</operator></expr>;</expr_stmt></for> <expr_stmt><expr><name>you</name> <name>may</name> <name>not</name> <name>use</name> <name>this</name> <name>file</name> <name>except</name> <name>in</name> <name>compliance</name> <name>with</name>
 <name>the</name> <name><name>License</name><operator>.</operator>  <name>You</name></name> <name>may</name> <name>obtain</name> <name>a</name> <name>copy</name> <name>of</name> <name>the</name> <name>License</name> <name>at</name>

     <name>http</name><operator>:</operator><comment type="line">//www.apache.org/licenses/LICENSE-2.0</comment>

 <name>Unless</name> <name>required</name> <name>by</name> <name>applicable</name> <name>law</name> <name>or</name> <name>agreed</name> <name>to</name> <name>in</name> <name>writing</name></expr><operator>,</operator> <expr><name>software</name>
 <name>distributed</name> <name>under</name> <name>the</name> <name>License</name> <name>is</name> <name>distributed</name> <name>on</name> <name>an</name> <literal type="string">"AS IS"</literal> <name>BASIS</name></expr><operator>,</operator>
 <expr><name>WITHOUT</name> <name>WARRANTIES</name> <name>OR</name> <name>CONDITIONS</name> <name>OF</name> <name>ANY</name> <name>KIND</name></expr><operator>,</operator> <expr><name>either</name> <name>express</name> <name>or</name> <name><name>implied</name><operator>.</operator>
 <name>See</name></name> <name>the</name> <name>License</name></expr></expr_stmt> <for>for the specific language governing permissions and
 limitations under the License.
--&gt;

&lt;config&gt;
  &lt;luceneMatchVersion&gt;$<block>{<block_content><label><name>tests</name></label>.<label><name>luceneMatchVersion</name>:</label><expr><name>LATEST</name></expr></block_content>}</block></for><expr_stmt><expr><operator>&lt;</operator><operator>/</operator><name>luceneMatchVersion</name><operator>&gt;</operator>
  <operator>&lt;</operator><name>xi</name><operator>:</operator><name>include</name> <name>href</name><operator>=</operator><literal type="string">"solrconfig.snippet.randomindexconfig.xml"</literal> <name>xmlns</name><operator>:</operator><name>xi</name><operator>=</operator><literal type="string">"http://www.w3.org/2001/XInclude"</literal><operator>/</operator><operator>&gt;</operator>
  <operator>&lt;</operator><name>directoryFactory</name> <name>name</name><operator>=</operator><literal type="string">"DirectoryFactory"</literal> <name>class</name><operator>=</operator><literal type="string">"${solr.directoryFactory:solr.RAMDirectoryFactory}"</literal><operator>/</operator><operator>&gt;</operator>
  <operator>&lt;</operator><name>schemaFactory</name> <name>class</name><operator>=</operator><literal type="string">"ClassicIndexSchemaFactory"</literal><operator>/</operator><operator>&gt;</operator>
  <operator>&lt;</operator><name>requestHandler</name> <name>name</name><operator>=</operator><literal type="string">"standard"</literal> <name>class</name><operator>=</operator><literal type="string">"solr.StandardRequestHandler"</literal><operator>/</operator><operator>&gt;</operator>
  <operator>&lt;</operator><name>codecFactory</name> <name>class</name><operator>=</operator><literal type="string">"solr.SimpleTextCodecFactory"</literal><operator>/</operator><operator>&gt;</operator>
<operator>&lt;</operator><operator>/</operator><name>config</name><operator>&gt;</operator>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name><name>TestSimpleTextCodec</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name><name>TestSimpleTextCodec</name><operator>.</operator><name>java</name></name>
<operator>new</operator> <name>file</name> <name>mode</name> <literal type="number">100644</literal>
<name>index</name> <literal type="number">00000000000..f019f3bfb1d</literal>
<operator>--</operator> <operator>/</operator><name>dev</name><operator>/</operator><literal type="null">null</literal>
<operator>++</operator> <name>b</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>solr</name><operator>/</operator><name>core</name><operator>/</operator><name><name>TestSimpleTextCodec</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">0</literal></expr><operator>,</operator><expr><literal type="number">0</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">67</literal> @@</expr></expr_stmt>
<comment type="block">/*
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</comment>

<package>package <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>solr</name><operator>.</operator><name>core</name></name>;</package>

<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>lucene</name><operator>.</operator><name>index</name><operator>.</operator><name>IndexWriter</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>lucene</name><operator>.</operator><name>index</name><operator>.</operator><name>SegmentInfo</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>lucene</name><operator>.</operator><name>index</name><operator>.</operator><name>SegmentInfos</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>solr</name><operator>.</operator><name>SolrTestCaseJ4</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>solr</name><operator>.</operator><name>search</name><operator>.</operator><name>SolrIndexSearcher</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>solr</name><operator>.</operator><name>util</name><operator>.</operator><name>RefCounted</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>junit</name><operator>.</operator><name>BeforeClass</name></name>;</import>

<class><specifier>public</specifier> class <name>TestSimpleTextCodec</name> <super_list><extends>extends <super><name>SolrTestCaseJ4</name></super></extends></super_list> <block>{

  <function><annotation>@<name>BeforeClass</name></annotation>
  <type><specifier>public</specifier> <specifier>static</specifier> <name>void</name></type> <name>beforeClass</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>initCore</name><argument_list>(<argument><expr><literal type="string">"solrconfig_SimpleTextCodec.xml"</literal></expr></argument>, <argument><expr><literal type="string">"schema-SimpleTextCodec.xml"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><type><specifier>public</specifier> <name>void</name></type> <name>test</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <decl_stmt><decl><type><name>SolrConfig</name></type> <name>config</name> <init>= <expr><call><name><name>h</name><operator>.</operator><name>getCore</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getSolrConfig</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
    <decl_stmt><decl><type><name>String</name></type> <name>codecFactory</name> <init>=  <expr><call><name><name>config</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"codecFactory/@class"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
    <expr_stmt><expr><call><name>assertEquals</name><argument_list>(<argument><expr><literal type="string">"Unexpected solrconfig codec factory"</literal></expr></argument>, <argument><expr><literal type="string">"solr.SimpleTextCodecFactory"</literal></expr></argument>, <argument><expr><name>codecFactory</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt><expr><call><name>assertEquals</name><argument_list>(<argument><expr><literal type="string">"Unexpected core codec"</literal></expr></argument>, <argument><expr><literal type="string">"SimpleText"</literal></expr></argument>, <argument><expr><call><name><name>h</name><operator>.</operator><name>getCore</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getCodec</name><argument_list>()</argument_list></call><operator>.</operator><call><name>getName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <decl_stmt><decl><type><name><name>RefCounted</name><argument_list type="generic">&lt;<argument><name>IndexWriter</name></argument>&gt;</argument_list></name></type> <name>writerRef</name> <init>= <expr><call><name><name>h</name><operator>.</operator><name>getCore</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getSolrCoreState</name><argument_list>()</argument_list></call><operator>.</operator><call><name>getIndexWriter</name><argument_list>(<argument><expr><call><name><name>h</name><operator>.</operator><name>getCore</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
    <try>try <block>{<block_content>
      <decl_stmt><decl><type><name>IndexWriter</name></type> <name>writer</name> <init>= <expr><call><name><name>writerRef</name><operator>.</operator><name>get</name></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
      <expr_stmt><expr><call><name>assertEquals</name><argument_list>(<argument><expr><literal type="string">"Unexpected codec in IndexWriter config"</literal></expr></argument>, 
          <argument><expr><literal type="string">"SimpleText"</literal></expr></argument>, <argument><expr><call><name><name>writer</name><operator>.</operator><name>getConfig</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getCodec</name><argument_list>()</argument_list></call><operator>.</operator><call><name>getName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt> 
    </block_content>}</block> <finally>finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>writerRef</name><operator>.</operator><name>decref</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></finally></try>

    <expr_stmt><expr><call><name>assertU</name><argument_list>(<argument><expr><call><name>add</name><argument_list>(<argument><expr><call><name>doc</name><argument_list>(<argument><expr><literal type="string">"id"</literal></expr></argument>,<argument><expr><literal type="string">"1"</literal></expr></argument>, <argument><expr><literal type="string">"text"</literal></expr></argument>,<argument><expr><literal type="string">"textual content goes here"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt><expr><call><name>assertU</name><argument_list>(<argument><expr><call><name>commit</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <decl_stmt><decl><type><name><name>RefCounted</name><argument_list type="generic">&lt;<argument><name>SolrIndexSearcher</name></argument>&gt;</argument_list></name></type> <name>searcherRef</name> <init>= <expr><call><name><name>h</name><operator>.</operator><name>getCore</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getSearcher</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
    <try>try <block>{<block_content>
      <decl_stmt><decl><type><name>SolrIndexSearcher</name></type> <name>searcher</name> <init>= <expr><call><name><name>searcherRef</name><operator>.</operator><name>get</name></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
      <decl_stmt><decl><type><name>SegmentInfos</name></type> <name>infos</name> <init>= <expr><call><name><name>SegmentInfos</name><operator>.</operator><name>readLatestCommit</name></name><argument_list>(<argument><expr><call><name><name>searcher</name><operator>.</operator><name>getIndexReader</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>directory</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
      <decl_stmt><decl><type><name>SegmentInfo</name></type> <name>info</name> <init>= <expr><call><name><name>infos</name><operator>.</operator><name>info</name></name><argument_list>(<argument><expr><call><name><name>infos</name><operator>.</operator><name>size</name></name><argument_list>()</argument_list></call> <operator>-</operator> <literal type="number">1</literal></expr></argument>)</argument_list></call><operator>.</operator><name>info</name></expr></init></decl>;</decl_stmt>
      <expr_stmt><expr><call><name>assertEquals</name><argument_list>(<argument><expr><literal type="string">"Unexpected segment codec"</literal></expr></argument>, <argument><expr><literal type="string">"SimpleText"</literal></expr></argument>, <argument><expr><call><name><name>info</name><operator>.</operator><name>getCodec</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>getName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block> <finally>finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>searcherRef</name><operator>.</operator><name>decref</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></finally></try>

    <expr_stmt><expr><call><name>assertQ</name><argument_list>(<argument><expr><call><name>req</name><argument_list>(<argument><expr><literal type="string">"q"</literal></expr></argument>, <argument><expr><literal type="string">"id:1"</literal></expr></argument>)</argument_list></call></expr></argument>,
        <argument><expr><literal type="string">"*[count(//doc)=1]"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>
}</block></class>
<expr><operator>-</operator> 
<literal type="number">2.19.1.windows</literal><literal type="number">.1</literal></expr>

</unit>
