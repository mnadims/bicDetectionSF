<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" revision="1.0.0" language="Java" filename="E:/01Courses@USASK/CMPT898-HumanDrivenSoftwareEngineeringForScientificResearch/ProjectProgress/data_files/final_dataset/gen_patch_codes/filtered/ambari/786d4b6334.java"><expr_stmt><expr><name>From</name> <literal type="number">786d4b63349d2c0f18d8a06a29fe1cc5598cf8fc</literal> <name>Mon</name> <name>Sep</name> <literal type="number">17</literal> <literal type="number">00</literal><operator>:</operator><literal type="number">00</literal><operator>:</operator><literal type="number">00</literal> <literal type="number">2001</literal>
<name>From</name><operator>:</operator> <name>Dmytro</name> <name><name>Grinenko</name> <argument_list type="generic">&lt;<argument><name>hapylestat</name><annotation>@<name><name>apache</name><operator>.</operator><name>org</name></name></annotation></argument>&gt;</argument_list></name>
<name>Date</name><operator>:</operator> <name>Mon</name></expr><operator>,</operator> <expr><literal type="number">20</literal> <name>Nov</name> <literal type="number">2017</literal> <literal type="number">07</literal><operator>:</operator><literal type="number">37</literal><operator>:</operator><literal type="number">02</literal> <operator>+</operator><literal type="number">0200</literal>
<name>Subject</name><operator>:</operator> <index>[<expr><name>PATCH</name></expr>]</index> <name>AMBARI</name><operator>-</operator><literal type="number">22462</literal> <name>Remove</name> <name>hard</name><operator>-</operator><name>code</name> <name>from</name> <name>StackAdvisorCommand</name>
 <name>requests</name> <name>to</name> <name>another</name> <call><name>resources</name> <argument_list>(<argument><expr><name>dgrinenko</name></expr></argument>)</argument_list></call>

<operator>--</operator>
 <operator>...</operator><operator>/</operator><name>commands</name><operator>/</operator><name><name>StackAdvisorCommand</name><operator>.</operator><name>java</name></name>             <operator>|</operator> <literal type="number">15</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>+</operator><operator>--</operator><operator>--</operator>
 <operator>...</operator><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name><name>KerberosHelperImpl</name><operator>.</operator><name>java</name></name>     <operator>|</operator>  <literal type="number">6</literal> <operator>++</operator><operator>+</operator><operator>--</operator><operator>-</operator>
 <operator>...</operator><name><name>iceComponentConfigurationResourceProvider</name><operator>.</operator><name>java</name></name> <operator>|</operator>  <literal type="number">8</literal> <operator>++</operator><operator>++</operator><operator>--</operator><operator>--</operator>
 <operator>...</operator><operator>/</operator><name><name>AbstractPrepareKerberosServerAction</name><operator>.</operator><name>java</name></name>      <operator>|</operator>  <literal type="number">6</literal> <operator>++</operator><operator>++</operator><operator>--</operator>
 <operator>...</operator><operator>/</operator><name><name>PrepareKerberosIdentitiesServerAction</name><operator>.</operator><name>java</name></name>    <operator>|</operator>  <literal type="number">5</literal> <operator>++</operator><operator>++</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name><name>AmbariContext</name><operator>.</operator><name>java</name></name>     <operator>|</operator>  <literal type="number">3</literal> <operator>++</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name><name>BlueprintFactory</name><operator>.</operator><name>java</name></name>  <operator>|</operator>  <literal type="number">3</literal> <operator>++</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>validators</name><operator>/</operator><name><name>RequiredPasswordValidator</name><operator>.</operator><name>java</name></name>     <operator>|</operator>  <literal type="number">3</literal> <operator>++</operator><operator>-</operator>
 <literal type="number">8</literal> <name>files</name> <name>changed</name></expr><operator>,</operator> <expr><literal type="number">32</literal> <call><name>insertions</name><argument_list>(<argument><expr><operator>+</operator></expr></argument>)</argument_list></call></expr><operator>,</operator> <expr><literal type="number">17</literal> <call><name>deletions</name><argument_list>(<argument><expr><operator>-</operator></expr></argument>)</argument_list></call>

<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>api</name><operator>/</operator><name>services</name><operator>/</operator><name>stackadvisor</name><operator>/</operator><name>commands</name><operator>/</operator><name><name>StackAdvisorCommand</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>api</name><operator>/</operator><name>services</name><operator>/</operator><name>stackadvisor</name><operator>/</operator><name>commands</name><operator>/</operator><name><name>StackAdvisorCommand</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">17591ec7d0</literal><operator>..</operator><literal type="number">1b89c4f9a7</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>api</name><operator>/</operator><name>services</name><operator>/</operator><name>stackadvisor</name><operator>/</operator><name>commands</name><operator>/</operator><name><name>StackAdvisorCommand</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>api</name><operator>/</operator><name>services</name><operator>/</operator><name>stackadvisor</name><operator>/</operator><name>commands</name><operator>/</operator><name><name>StackAdvisorCommand</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">47</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">47</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@</expr></expr_stmt> <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>api</name><operator>.</operator><name>services</name><operator>.</operator><name>stackadvisor</name><operator>.</operator><name>StackAdvisorResponse</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>api</name><operator>.</operator><name>services</name><operator>.</operator><name>stackadvisor</name><operator>.</operator><name>StackAdvisorRunner</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>RootComponent</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>RootService</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>internal</name><operator>.</operator><name>RootServiceComponentConfigurationResourceProvider</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>spi</name><operator>.</operator><name>Resource</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>state</name><operator>.</operator><name>ServiceInfo</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>utils</name><operator>.</operator><name>DateUtils</name></name>;</import>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">77</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">78</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <specifier>abstract</specifier> <name>class</name> <name><name>StackAdvisorCommand</name><argument_list type="generic">&lt;<argument><name>T</name> <extends>extends <name>StackAdvisorResponse</name></extends></argument>&gt;</argument_list></name> <name>extend</name>
 
   <specifier>private</specifier> <specifier>static</specifier> <name>final</name> <name>String</name> <name>GET_HOSTS_INFO_URI</name> <operator>=</operator> <literal type="string">"/api/v1/hosts"</literal>
       <operator>+</operator> <literal type="string">"?fields=Hosts/*&amp;Hosts/host_name.in(%s)"</literal></expr>;</expr_stmt>
  <decl_stmt><decl><type><specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>LDAP_CONFIGURATION_PROPERTY</name> <init>= <expr><literal type="string">"ldap-configuration"</literal></expr></init></decl>;</decl_stmt>

   <decl_stmt><decl><type><specifier>private</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>GET_SERVICES_INFO_URI</name> <init>= <expr><literal type="string">"/api/v1/stacks/%s/versions/%s/"</literal>
       <operator>+</operator> <literal type="string">"?fields=Versions/stack_name,Versions/stack_version,Versions/parent_stack_version"</literal>
       <operator>+</operator> <literal type="string">",services/StackServices/service_name,services/StackServices/service_version"</literal>
@@ <operator>-</operator><literal type="number">86</literal></expr></init></decl>,9 +89,14 @@ public abstract <decl><type ref="prev"/><name>class</name> <name><name>StackAdvisorCommand</name><argument_list type="generic">&lt;<argument><name>T</name> <extends>extends <name>StackAdvisorResponse</name></extends></argument>&gt;</argument_list></name> <name>extend</name>
       + ",services/configurations/dependencies/StackConfigurationDependency/dependency_name"
       + ",services/configurations/dependencies/StackConfigurationDependency/dependency_type,services/configurations/StackConfigurations/type"
       + "&amp;services/StackServices/service_name.in(%s)"</decl>;</decl_stmt>
  <decl_stmt><decl><type><specifier>private</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>GET_AMBARI_LDAP_CONFIG_URI</name> <init>= <expr><literal type="string">"/api/v1/services/AMBARI/components/AMBARI_SERVER/configurations"</literal> <operator>+</operator>
      <literal type="string">"?Configuration/category=ldap-configuration"</literal> <operator>+</operator>
      <literal type="string">"&amp;fields=Configuration/properties"</literal></expr></init></decl>;</decl_stmt>

  <decl_stmt><decl><type><specifier>private</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>GET_AMBARI_LDAP_CONFIG_URI</name> <init>= <expr><call><name><name>String</name><operator>.</operator><name>format</name></name><argument_list>(<argument><expr><literal type="string">"/api/v1/services/%s/components/%s/configurations?%s=%s&amp;fields=%s"</literal></expr></argument>,
    <argument><expr><call><name><name>RootService</name><operator>.</operator><name>AMBARI</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>,
    <argument><expr><call><name><name>RootComponent</name><operator>.</operator><name>AMBARI_SERVER</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>,
    <argument><expr><name><name>RootServiceComponentConfigurationResourceProvider</name><operator>.</operator><name>CONFIGURATION_CATEGORY_PROPERTY_ID</name></name></expr></argument>,
    <argument><expr><name>LDAP_CONFIGURATION_PROPERTY</name></expr></argument>,
    <argument><expr><name><name>RootServiceComponentConfigurationResourceProvider</name><operator>.</operator><name>CONFIGURATION_PROPERTIES_PROPERTY_ID</name></name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

   <decl_stmt><decl><type><specifier>private</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>SERVICES_PROPERTY</name> <init>= <expr><literal type="string">"services"</literal></expr></init></decl>;</decl_stmt>
   <decl_stmt><decl><type><specifier>private</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>SERVICES_COMPONENTS_PROPERTY</name> <init>= <expr><literal type="string">"components"</literal></expr></init></decl>;</decl_stmt>
   <decl_stmt><decl><type><specifier>private</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>CONFIG_GROUPS_PROPERTY</name> <init>= <expr><literal type="string">"config-groups"</literal></expr></init></decl>;</decl_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">100</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">108</literal></expr><operator>,</operator><expr><literal type="number">6</literal> @@ <specifier>public</specifier> <specifier>abstract</specifier> <name>class</name> <name><name>StackAdvisorCommand</name><argument_list type="generic">&lt;<argument><name>T</name> <extends>extends <name>StackAdvisorResponse</name></extends></argument>&gt;</argument_list></name> <name>extend</name>
   <specifier>private</specifier> <specifier>static</specifier> <name>final</name> <name>String</name> <name>CHANGED_CONFIGURATIONS_PROPERTY</name> <operator>=</operator> <literal type="string">"changed-configurations"</literal></expr>;</expr_stmt>
   <decl_stmt><decl><type><specifier>private</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>USER_CONTEXT_PROPERTY</name> <init>= <expr><literal type="string">"user-context"</literal></expr></init></decl>;</decl_stmt>
   <decl_stmt><decl><type><specifier>private</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>AMBARI_SERVER_CONFIGURATIONS_PROPERTY</name> <init>= <expr><literal type="string">"ambari-server-properties"</literal></expr></init></decl>;</decl_stmt>
  <decl_stmt><decl><type><specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>LDAP_CONFIGURATION_PROPERTY</name> <init>= <expr><literal type="string">"ldap-configuration"</literal></expr></init></decl>;</decl_stmt>
 
   <decl_stmt><decl><type><specifier>private</specifier> <name>File</name></type> <name>recommendationsDir</name></decl>;</decl_stmt>
   <decl_stmt><decl><type><specifier>private</specifier> <name>String</name></type> <name>recommendationsArtifactsLifetime</name></decl>;</decl_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name><name>KerberosHelperImpl</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name><name>KerberosHelperImpl</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">474c3357b0</literal><operator>..</operator><name>ab85aa1d7c</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name><name>KerberosHelperImpl</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name><name>KerberosHelperImpl</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">467</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">467</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>KerberosHelperImpl</name> implements <name>KerberosHelper</name> <block>{
     <comment type="line">// If Ambari is managing it own identities then add AMBARI to the set of installed service so</comment>
     <comment type="line">// that its Kerberos descriptor entries will be included.</comment>
     <if_stmt><if>if <condition>(<expr><call><name>createAmbariIdentities</name><argument_list>(<argument><expr><call><name><name>existingConfigurations</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><name>KERBEROS_ENV</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
      <expr_stmt><expr><name>installedServices</name> <operator>=</operator> <operator>new</operator> <call><name><name>HashMap</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name><name>Set</name><argument_list type="generic">&lt;<argument><name>String</name></argument>&gt;</argument_list></name></argument>&gt;</argument_list></name><argument_list>(<argument><expr><name>installedServices</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>installedServices</name><operator>.</operator><name>put</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI"</literal></expr></argument>, <argument><expr><call><name><name>Collections</name><operator>.</operator><name>singleton</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI_SERVER"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><name>installedServices</name> <operator>=</operator> <operator>new</operator> <call><name><name>HashMap</name><argument_list type="generic">&lt;&gt;</argument_list></name><argument_list>(<argument><expr><name>installedServices</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>installedServices</name><operator>.</operator><name>put</name></name><argument_list>(<argument><expr><call><name><name>RootService</name><operator>.</operator><name>AMBARI</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><call><name><name>Collections</name><operator>.</operator><name>singleton</name></name><argument_list>(<argument><expr><call><name><name>RootComponent</name><operator>.</operator><name>AMBARI_SERVER</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
     <expr_stmt/></block_content></block></if></if_stmt>}</block>
 
     <comment type="line">// Create the context to use for filtering Kerberos Identities based on the state of the cluster</comment>
@@ <operator>-</operator><literal type="number">1547</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1547</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>KerberosHelperImpl</name> implements <name>KerberosHelper</name> <block>{
                 <expr><name>keytabFileGroupName</name></expr>,
                 <expr><name>keytabFileGroupAccess</name></expr>,
                 <expr><call><name><name>Sets</name><operator>.</operator><name>newHashSet</name></name><argument_list>(<argument><expr><call><name><name>Pair</name><operator>.</operator><name>of</name></name><argument_list>(<argument><expr><name>hostId</name></expr></argument>, <argument><expr><call><name><name>Pair</name><operator>.</operator><name>of</name></name><argument_list>(<argument><expr><name>evaluatedPrincipal</name></expr></argument>, <argument><expr><name>principalType</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>,
                <expr><call><name><name>serviceName</name><operator>.</operator><name>equalsIgnoreCase</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI"</literal></expr></argument>)</argument_list></call></expr>,
                <expr><call><name><name>serviceName</name><operator>.</operator><name>equalsIgnoreCase</name></name><argument_list>(<argument><expr><call><name><name>RootService</name><operator>.</operator><name>AMBARI</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>,
                 <expr><call><name><name>componentName</name><operator>.</operator><name>equalsIgnoreCase</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI_SERVER_SELF"</literal></expr></argument>)</argument_list></call></expr>
             )</block></expr>;</expr_stmt>
             <if_stmt><if>if <condition>(<expr><call><name><name>resolvedKeytabs</name><operator>.</operator><name>containsKey</name></name><argument_list>(<argument><expr><name>keytabFilePath</name></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RootServiceComponentConfigurationResourceProvider</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RootServiceComponentConfigurationResourceProvider</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>ea9cf4ff48</name><operator>..</operator><literal type="number">78078652f0</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RootServiceComponentConfigurationResourceProvider</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RootServiceComponentConfigurationResourceProvider</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">59</literal></expr><operator>,</operator><expr><literal type="number">10</literal> <operator>+</operator><literal type="number">59</literal></expr><operator>,</operator><expr><literal type="number">10</literal> @@ <specifier>public</specifier> <name>class</name> <name>RootServiceComponentConfigurationResourceProvider</name> extends <name>AbstractA</name>
 
   <specifier>static</specifier> <name>final</name> <name>String</name> <name>RESOURCE_KEY</name> <operator>=</operator> <literal type="string">"Configuration"</literal></expr>;</expr_stmt>
 
  <decl_stmt><decl><type><specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>CONFIGURATION_CATEGORY_PROPERTY_ID</name> <init>= <expr><call><name><name>PropertyHelper</name><operator>.</operator><name>getPropertyId</name></name><argument_list>(<argument><expr><name>RESOURCE_KEY</name></expr></argument>, <argument><expr><literal type="string">"category"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
  <decl_stmt><decl><type><specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>CONFIGURATION_PROPERTIES_PROPERTY_ID</name> <init>= <expr><call><name><name>PropertyHelper</name><operator>.</operator><name>getPropertyId</name></name><argument_list>(<argument><expr><name>RESOURCE_KEY</name></expr></argument>, <argument><expr><literal type="string">"properties"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
  <decl_stmt><decl><type><specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>CONFIGURATION_COMPONENT_NAME_PROPERTY_ID</name> <init>= <expr><call><name><name>PropertyHelper</name><operator>.</operator><name>getPropertyId</name></name><argument_list>(<argument><expr><name>RESOURCE_KEY</name></expr></argument>, <argument><expr><literal type="string">"component_name"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
  <decl_stmt><decl><type><specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>CONFIGURATION_SERVICE_NAME_PROPERTY_ID</name> <init>= <expr><call><name><name>PropertyHelper</name><operator>.</operator><name>getPropertyId</name></name><argument_list>(<argument><expr><name>RESOURCE_KEY</name></expr></argument>, <argument><expr><literal type="string">"service_name"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
  <decl_stmt><decl><type><specifier>public</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>CONFIGURATION_CATEGORY_PROPERTY_ID</name> <init>= <expr><call><name><name>PropertyHelper</name><operator>.</operator><name>getPropertyId</name></name><argument_list>(<argument><expr><name>RESOURCE_KEY</name></expr></argument>, <argument><expr><literal type="string">"category"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
  <decl_stmt><decl><type><specifier>public</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>CONFIGURATION_PROPERTIES_PROPERTY_ID</name> <init>= <expr><call><name><name>PropertyHelper</name><operator>.</operator><name>getPropertyId</name></name><argument_list>(<argument><expr><name>RESOURCE_KEY</name></expr></argument>, <argument><expr><literal type="string">"properties"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
  <decl_stmt><decl><type><specifier>public</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>CONFIGURATION_COMPONENT_NAME_PROPERTY_ID</name> <init>= <expr><call><name><name>PropertyHelper</name><operator>.</operator><name>getPropertyId</name></name><argument_list>(<argument><expr><name>RESOURCE_KEY</name></expr></argument>, <argument><expr><literal type="string">"component_name"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
  <decl_stmt><decl><type><specifier>public</specifier> <specifier>static</specifier> <specifier>final</specifier> <name>String</name></type> <name>CONFIGURATION_SERVICE_NAME_PROPERTY_ID</name> <init>= <expr><call><name><name>PropertyHelper</name><operator>.</operator><name>getPropertyId</name></name><argument_list>(<argument><expr><name>RESOURCE_KEY</name></expr></argument>, <argument><expr><literal type="string">"service_name"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
 
   <decl_stmt><decl><type><specifier>private</specifier> <specifier>static</specifier> <specifier>final</specifier> <name><name>Set</name><argument_list type="generic">&lt;<argument><name>String</name></argument>&gt;</argument_list></name></type> <name>PROPERTIES</name></decl>;</decl_stmt>
 
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>serveraction</name><operator>/</operator><name>kerberos</name><operator>/</operator><name><name>AbstractPrepareKerberosServerAction</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>serveraction</name><operator>/</operator><name>kerberos</name><operator>/</operator><name><name>AbstractPrepareKerberosServerAction</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">4008620f04</literal><operator>..</operator><name>b8affb4e19</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>serveraction</name><operator>/</operator><name>kerberos</name><operator>/</operator><name><name>AbstractPrepareKerberosServerAction</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>serveraction</name><operator>/</operator><name>kerberos</name><operator>/</operator><name><name>AbstractPrepareKerberosServerAction</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">33</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">33</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@</expr></expr_stmt> <import>import <name><name>java</name><operator>.</operator><name>util</name><operator>.</operator><name>Set</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>AmbariException</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>agent</name><operator>.</operator><name>CommandReport</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>KerberosHelper</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>RootComponent</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>RootService</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>serveraction</name><operator>.</operator><name>kerberos</name><operator>.</operator><name>stageutils</name><operator>.</operator><name>ResolvedKerberosKeytab</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>state</name><operator>.</operator><name>Cluster</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>state</name><operator>.</operator><name>ServiceComponentHost</name></name>;</import>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">192</literal></expr><operator>,</operator><expr><literal type="number">11</literal> <operator>+</operator><literal type="number">194</literal></expr><operator>,</operator><expr><literal type="number">11</literal> @@ <specifier>public</specifier> <specifier>abstract</specifier> <name>class</name> <name>AbstractPrepareKerberosServerAction</name> extends <name>KerberosServer</name>
               <comment type="line">// component.</comment>
               <name>String</name> <name>componentName</name> <operator>=</operator> <ternary><condition><expr><call><name><name>KerberosHelper</name><operator>.</operator><name>AMBARI_SERVER_KERBEROS_IDENTITY_NAME</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>identity</name><operator>.</operator><name>getName</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>
                   ?</condition><then> <expr><literal type="string">"AMBARI_SERVER_SELF"</literal></expr>
                  </then><else>: <expr><literal type="string">"AMBARI_SERVER"</literal></expr></else></ternary></expr>;</expr_stmt>
                  : <expr_stmt><expr><call><name><name>RootComponent</name><operator>.</operator><name>AMBARI_SERVER</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
 
               <decl_stmt><decl><type><name><name>List</name><argument_list type="generic">&lt;<argument><name>KerberosIdentityDescriptor</name></argument>&gt;</argument_list></name></type> <name>componentIdentities</name> <init>= <expr><call><name><name>Collections</name><operator>.</operator><name>singletonList</name></name><argument_list>(<argument><expr><name>identity</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
               <expr_stmt><expr><call><name><name>kerberosHelper</name><operator>.</operator><name>addIdentities</name></name><argument_list>(<argument><expr><name>kerberosIdentityDataFileWriter</name></expr></argument>, <argument><expr><name>componentIdentities</name></expr></argument>,
                  <argument><expr><name>identityFilter</name></expr></argument>, <argument><expr><call><name><name>StageUtils</name><operator>.</operator><name>getHostName</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><call><name>ambariServerHostID</name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"AMBARI"</literal></expr></argument>, <argument><expr><name>componentName</name></expr></argument>, <argument><expr><name>kerberosConfigurations</name></expr></argument>, <argument><expr><name>currentConfigurations</name></expr></argument>,
                  <argument><expr><name>identityFilter</name></expr></argument>, <argument><expr><call><name><name>StageUtils</name><operator>.</operator><name>getHostName</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><call><name>ambariServerHostID</name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><call><name><name>RootService</name><operator>.</operator><name>AMBARI</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><name>componentName</name></expr></argument>, <argument><expr><name>kerberosConfigurations</name></expr></argument>, <argument><expr><name>currentConfigurations</name></expr></argument>,
                   <argument><expr><name>resolvedKeytabs</name></expr></argument>, <argument><expr><name>realm</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
               <expr_stmt><expr><name>propertiesToIgnore</name> <operator>=</operator> <call><name>gatherPropertiesToIgnore</name><argument_list>(<argument><expr><name>componentIdentities</name></expr></argument>, <argument><expr><name>propertiesToIgnore</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
             </block_content>}</block></if></if_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>serveraction</name><operator>/</operator><name>kerberos</name><operator>/</operator><name><name>PrepareKerberosIdentitiesServerAction</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>serveraction</name><operator>/</operator><name>kerberos</name><operator>/</operator><name><name>PrepareKerberosIdentitiesServerAction</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>b0fca8d07f</name><operator>..</operator><literal type="number">83a2106afd</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>serveraction</name><operator>/</operator><name>kerberos</name><operator>/</operator><name><name>PrepareKerberosIdentitiesServerAction</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>serveraction</name><operator>/</operator><name>kerberos</name><operator>/</operator><name><name>PrepareKerberosIdentitiesServerAction</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">30</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">30</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@</expr></expr_stmt> <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>AmbariException</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>actionmanager</name><operator>.</operator><name>HostRoleStatus</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>agent</name><operator>.</operator><name>CommandReport</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>KerberosHelper</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>RootComponent</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>RootService</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>state</name><operator>.</operator><name>Cluster</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>state</name><operator>.</operator><name>ServiceComponentHost</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>state</name><operator>.</operator><name>kerberos</name><operator>.</operator><name>KerberosComponentDescriptor</name></name>;</import>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">110</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">112</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>PrepareKerberosIdentitiesServerAction</name> extends <name>AbstractPrepareKerber</name></expr></expr_stmt>
     <if_stmt><if>if <condition>(<expr><name>serviceComponentFilter</name> <operator>!=</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
       <comment type="line">// If we are including the Ambari identity; then ensure that if a service/component filter is set,</comment>
       <comment type="line">// it contains the AMBARI/AMBARI_SERVER component; else do not include the Ambari service identity.</comment>
      <expr_stmt><expr><name>includeAmbariIdentity</name> <operator>&amp;=</operator> <operator>(</operator><call><name><name>serviceComponentFilter</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI"</literal></expr></argument>)</argument_list></call> <operator>!=</operator> <literal type="null">null</literal><operator>)</operator> <operator>&amp;&amp;</operator> <call><name><name>serviceComponentFilter</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI"</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>contains</name><argument_list>(<argument><expr><literal type="string">"AMBARI_SERVER"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><name>includeAmbariIdentity</name> <operator>&amp;=</operator> <operator>(</operator><call><name><name>serviceComponentFilter</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><call><name><name>RootService</name><operator>.</operator><name>AMBARI</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call> <operator>!=</operator> <literal type="null">null</literal><operator>)</operator>
        <operator>&amp;&amp;</operator> <call><name><name>serviceComponentFilter</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><call><name><name>RootService</name><operator>.</operator><name>AMBARI</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>contains</name><argument_list>(<argument><expr><call><name><name>RootComponent</name><operator>.</operator><name>AMBARI_SERVER</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
 
       <if_stmt><if>if<condition>(<expr><operator>(</operator><name>operationType</name> <operator>!=</operator> <name><name>OperationType</name><operator>.</operator><name>DEFAULT</name></name><operator>)</operator></expr>)</condition> <block>{<block_content>
         <comment type="line">// Update the identity filter, if necessary</comment>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name><name>AmbariContext</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name><name>AmbariContext</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>eb3956253c</name><operator>..</operator><literal type="number">933afa250d</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name><name>AmbariContext</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name><name>AmbariContext</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">49</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">49</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@</expr></expr_stmt> <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>ClusterRequest</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>ConfigGroupRequest</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>ConfigurationRequest</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>RequestStatusResponse</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>RootComponent</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>ServiceComponentHostRequest</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>ServiceComponentRequest</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>ServiceRequest</name></name>;</import>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">402</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">403</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>AmbariContext</name> <block>{
       <for>for <control>(<init><decl><type><name>String</name></type> <name>component</name> <range>: <expr><call><name><name>entry</name><operator>.</operator><name>getValue</name></name><argument_list>()</argument_list></call></expr></range></decl></init>)</control> <block>{<block_content>
         <comment type="line">//todo: handle this in a generic manner.  These checks are all over the code</comment>
         <try>try <block>{<block_content>
          <if_stmt><if>if <condition>(<expr><call><name><name>cluster</name><operator>.</operator><name>getService</name></name><argument_list>(<argument><expr><name>service</name></expr></argument>)</argument_list></call> <operator>!=</operator> <literal type="null">null</literal> <operator>&amp;&amp;</operator> <operator>!</operator><call><name><name>component</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI_SERVER"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
          <if_stmt><if>if <condition>(<expr><call><name><name>cluster</name><operator>.</operator><name>getService</name></name><argument_list>(<argument><expr><name>service</name></expr></argument>)</argument_list></call> <operator>!=</operator> <literal type="null">null</literal> <operator>&amp;&amp;</operator> <operator>!</operator><call><name><name>component</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>RootComponent</name><operator>.</operator><name>AMBARI_SERVER</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
             <expr_stmt><expr><call><name><name>requests</name><operator>.</operator><name>add</name></name><argument_list>(<argument><expr><operator>new</operator> <call><name>ServiceComponentHostRequest</name><argument_list>(<argument><expr><name>clusterName</name></expr></argument>, <argument><expr><name>service</name></expr></argument>, <argument><expr><name>component</name></expr></argument>, <argument><expr><name>hostName</name></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
           </block_content>}</block></if></if_stmt>
         </block_content>}</block></if></if_stmt> <catch>catch<parameter_list>(<parameter><decl><type><name>AmbariException</name></type> <name>se</name></decl></parameter>)</parameter_list> <block>{<block_content>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name><name>BlueprintFactory</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name><name>BlueprintFactory</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">404068d09f</literal><operator>..</operator><literal type="number">24b4785562</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name><name>BlueprintFactory</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name><name>BlueprintFactory</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">30</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">30</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@</expr></expr_stmt> <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>AmbariException</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>ObjectNotFoundException</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>AmbariManagementController</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>AmbariServer</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>RootComponent</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>internal</name><operator>.</operator><name>ProvisionAction</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>internal</name><operator>.</operator><name>Stack</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>utilities</name><operator>.</operator><name>PropertyHelper</name></name>;</import>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">205</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">206</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>BlueprintFactory</name> <block>{
       <expr><call><name><name>allComponents</name><operator>.</operator><name>addAll</name></name><argument_list>(<argument><expr><name>components</name></expr></argument>)</argument_list></call></expr>;
     }</block></expr></expr_stmt>
     <comment type="line">// currently ambari server is no a recognized component</comment>
    <expr_stmt><expr><call><name><name>allComponents</name><operator>.</operator><name>add</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI_SERVER"</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt><expr><call><name><name>allComponents</name><operator>.</operator><name>add</name></name><argument_list>(<argument><expr><call><name><name>RootComponent</name><operator>.</operator><name>AMBARI_SERVER</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
 
     <return>return <expr><name>allComponents</name></expr>;</return>
   </block_content>}</block></catch>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name>validators</name><operator>/</operator><name><name>RequiredPasswordValidator</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name>validators</name><operator>/</operator><name><name>RequiredPasswordValidator</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">5b4ecc1907</literal><operator>..</operator><literal type="number">3ad1a19c7f</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name>validators</name><operator>/</operator><name><name>RequiredPasswordValidator</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>topology</name><operator>/</operator><name>validators</name><operator>/</operator><name><name>RequiredPasswordValidator</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">19</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">19</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@</expr></expr_stmt> <import>import <name><name>java</name><operator>.</operator><name>util</name><operator>.</operator><name>HashMap</name></name>;</import>
 <import>import <name><name>java</name><operator>.</operator><name>util</name><operator>.</operator><name>HashSet</name></name>;</import>
 <import>import <name><name>java</name><operator>.</operator><name>util</name><operator>.</operator><name>Map</name></name>;</import>
 
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>RootComponent</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>internal</name><operator>.</operator><name>Stack</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>state</name><operator>.</operator><name>PropertyInfo</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>topology</name><operator>.</operator><name>Blueprint</name></name>;</import>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">86</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">87</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>RequiredPasswordValidator</name> implements <name>TopologyValidator</name> <block>{
       <expr><name>HostGroup</name> <name>hostGroup</name> <operator>=</operator> <call><name><name>blueprint</name><operator>.</operator><name>getHostGroup</name></name><argument_list>(<argument><expr><name>hostGroupName</name></expr></argument>)</argument_list></call></expr>;</block></expr></expr_stmt>
       <for>for <control>(<init><decl><type><name>String</name></type> <name>component</name> <range>: <expr><call><name><name>hostGroup</name><operator>.</operator><name>getComponentNames</name></name><argument_list>()</argument_list></call></expr></range></decl></init>)</control> <block>{<block_content>
         <comment type="line">//for now, AMBARI is not recognized as a service in Stacks</comment>
        <if_stmt><if>if <condition>(<expr><call><name><name>component</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI_SERVER"</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
        <if_stmt><if>if <condition>(<expr><call><name><name>component</name><operator>.</operator><name>equals</name></name><argument_list>(<argument><expr><call><name><name>RootComponent</name><operator>.</operator><name>AMBARI_SERVER</name><operator>.</operator><name>name</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
           <continue>continue;</continue>
         </block_content>}</block></if></if_stmt>
 
<expr_stmt><expr><operator>-</operator> 
<literal type="number">2.19.1.windows</literal><literal type="number">.1</literal></expr></expr_stmt></block_content></block></if></if_stmt></block_content></block></for></block_content></block></try></block_content></block></for></block></expr></expr_stmt></block_content></block></if></if_stmt></block_content></block></if></if_stmt>

</unit>
