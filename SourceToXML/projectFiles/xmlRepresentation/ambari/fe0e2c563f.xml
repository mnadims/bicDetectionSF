<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" revision="1.0.0" language="Java" filename="E:/01Courses@USASK/CMPT898-HumanDrivenSoftwareEngineeringForScientificResearch/ProjectProgress/data_files/final_dataset/gen_patch_codes/filtered/ambari/fe0e2c563f.java"><expr_stmt><expr><name>From</name> <name>fe0e2c563fae61b5f5e12bd2d45b4fd504b6f275</name> <name>Mon</name> <name>Sep</name> <literal type="number">17</literal> <literal type="number">00</literal><operator>:</operator><literal type="number">00</literal><operator>:</operator><literal type="number">00</literal> <literal type="number">2001</literal>
<name>From</name><operator>:</operator> <name>Yusaku</name> <name><name>Sako</name> <argument_list type="generic">&lt;<argument><name>yusaku</name><annotation>@<name><name>apache</name><operator>.</operator><name>org</name></name></annotation></argument>&gt;</argument_list></name>
<name>Date</name><operator>:</operator> <name>Thu</name></expr><operator>,</operator> <expr><literal type="number">30</literal> <name>May</name> <literal type="number">2013</literal> <literal type="number">22</literal><operator>:</operator><literal type="number">03</literal><operator>:</operator><literal type="number">58</literal> <operator>+</operator><literal type="number">0000</literal>
<name>Subject</name><operator>:</operator> <index>[<expr><name>PATCH</name></expr>]</index> <name>AMBARI</name><operator>-</operator><literal type="number">2234.</literal> <name>Host</name> <name>Details</name> <name>Page</name><operator>:</operator> <name>Update</name> <name>host</name> <name>component</name> <name>actions</name>
 <name>and</name> <name>icons</name> <name>depending</name> <name>on</name> <name><name>state</name><operator>.</operator></name> (<name>yusaku</name></expr></expr_stmt>) <expr_stmt><expr><name>AMBARI</name><operator>-</operator><literal type="number">2230.</literal> <name>Nagios</name> <name>user</name> <name>is</name> <name>presented</name>
 <name>in</name> <name>Admin</name> <operator>&gt;</operator> <name>Misc</name> <name>page</name> <name>when</name> <name>Nagios</name> <name>service</name> <name>was</name> <name>not</name> <name><name>installed</name><operator>.</operator></name> (<name>yusaku</name></expr></expr_stmt>)
 <expr_stmt><expr><name>AMBARI</name><operator>-</operator><literal type="number">2231.</literal> <name>Service</name> <name>web</name> <name>UI</name> <name>links</name> <name>map</name> <name>to</name> <name>hostnames</name> <name>not</name> <name>resolvable</name> <name>by</name> <name>the</name>
 <name><name>client</name><operator>.</operator></name> (<name>yusaku</name></expr></expr_stmt>)

<expr_stmt><expr><name>git</name><operator>-</operator><name>svn</name><operator>-</operator><name>id</name><operator>:</operator> <name>https</name><operator>:</operator><comment type="line">//svn.apache.org/repos/asf/incubator/ambari/trunk@1488035 13f79535-47bb-0310-9956-ffa450edef68</comment>
<operator>--</operator>
 <name><name>CHANGES</name><operator>.</operator><name>txt</name></name>                                   <operator>|</operator>   <literal type="number">9</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>oozie</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>init</name><operator>.</operator><name>pp</name></name>       <operator>|</operator>   <literal type="number">4</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>files</name><operator>/</operator><name><name>validateYarnComponentStatus</name><operator>.</operator><name>py</name></name>      <operator>|</operator>  <literal type="number">10</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>nodemanager</name><operator>.</operator><name>pp</name></name> <operator>|</operator>  <literal type="number">12</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>params</name><operator>.</operator><name>pp</name></name>      <operator>|</operator>   <literal type="number">9</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>smoketest</name><operator>.</operator><name>pp</name></name>   <operator>|</operator>  <literal type="number">12</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>python</name><operator>/</operator><name>ambari_agent</name><operator>/</operator><name><name>Heartbeat</name><operator>.</operator><name>py</name></name> <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>clusters</name><operator>.</operator><name>md</name></name>         <operator>|</operator>   <literal type="number">1</literal> <operator>+</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>cluster</name><operator>.</operator><name>md</name></name>   <operator>|</operator>   <literal type="number">1</literal> <operator>+</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>component</name><operator>.</operator><name>md</name></name> <operator>|</operator>   <literal type="number">1</literal> <operator>+</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>host</name><operator>.</operator><name>md</name></name>      <operator>|</operator>   <literal type="number">1</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>hostcomponent</name><operator>.</operator><name>md</name></name>       <operator>|</operator>   <literal type="number">1</literal> <operator>+</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>service</name><operator>.</operator><name>md</name></name>   <operator>|</operator>   <literal type="number">1</literal> <operator>+</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>delete</name><operator>-</operator><name><name>cluster</name><operator>.</operator><name>md</name></name>   <operator>|</operator>   <literal type="number">1</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>host</name><operator>-</operator><name>component</name><operator>-</operator><name><name>resources</name><operator>.</operator><name>md</name></name>   <operator>|</operator>   <literal type="number">1</literal> <operator>+</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>host</name><operator>-</operator><name><name>components</name><operator>.</operator><name>md</name></name>  <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>index</name><operator>.</operator><name>md</name></name>            <operator>|</operator> <literal type="number">702</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>job</name><operator>-</operator><name><name>resources</name><operator>.</operator><name>md</name></name>    <operator>|</operator>  <literal type="number">22</literal> <operator>+</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>jobs</name><operator>-</operator><name><name>job</name><operator>.</operator><name>md</name></name>         <operator>|</operator>  <literal type="number">60</literal> <operator>++</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>jobs</name><operator>.</operator><name>md</name></name>             <operator>|</operator>  <literal type="number">42</literal> <operator>++</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>services</name><operator>.</operator><name>md</name></name>         <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>taskattempt</name><operator>-</operator><name><name>resources</name><operator>.</operator><name>md</name></name>      <operator>|</operator>  <literal type="number">22</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>taskattempts</name><operator>-</operator><name><name>taskattempt</name><operator>.</operator><name>md</name></name>   <operator>|</operator>  <literal type="number">48</literal> <operator>++</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>taskattempts</name><operator>.</operator><name>md</name></name>     <operator>|</operator>  <literal type="number">70</literal> <operator>++</operator>
 <operator>...</operator><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>update</name><operator>-</operator><name><name>hostcomponent</name><operator>.</operator><name>md</name></name>       <operator>|</operator>   <literal type="number">3</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>update</name><operator>-</operator><name><name>service</name><operator>.</operator><name>md</name></name>   <operator>|</operator>  <literal type="number">57</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>update</name><operator>-</operator><name><name>services</name><operator>.</operator><name>md</name></name>  <operator>|</operator>   <literal type="number">1</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>workflow</name><operator>-</operator><name><name>resources</name><operator>.</operator><name>md</name></name>         <operator>|</operator>  <literal type="number">22</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>workflows</name><operator>-</operator><name><name>workflow</name><operator>.</operator><name>md</name></name>         <operator>|</operator>  <literal type="number">57</literal> <operator>++</operator>
 <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>workflows</name><operator>.</operator><name>md</name></name>        <operator>|</operator>  <literal type="number">48</literal> <operator>++</operator>
 <operator>...</operator><operator>/</operator><name>server</name><operator>/</operator><name>state</name><operator>/</operator><name><name>ServiceComponentImpl</name><operator>.</operator><name>java</name></name>    <operator>|</operator> <literal type="number">632</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>--</operator><operator>--</operator><operator>--</operator>
 <operator>...</operator><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>state</name><operator>/</operator><name><name>ServiceImpl</name><operator>.</operator><name>java</name></name>      <operator>|</operator> <literal type="number">519</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>--</operator><operator>--</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>state</name><operator>/</operator><name>host</name><operator>/</operator><name><name>HostImpl</name><operator>.</operator><name>java</name></name>    <operator>|</operator>  <literal type="number">22</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>svccomphost</name><operator>/</operator><name><name>ServiceComponentHostImpl</name><operator>.</operator><name>java</name></name> <operator>|</operator> <literal type="number">203</literal> <operator>++</operator><operator>+</operator><operator>--</operator>
 <operator>...</operator><operator>/</operator><name>stacks</name><operator>/</operator><name>HDP</name><operator>/</operator><literal type="number">1.3.0</literal><operator>/</operator><name>repos</name><operator>/</operator><name><name>repoinfo</name><operator>.</operator><name>xml</name></name>       <operator>|</operator>  <literal type="number">16</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>stacks</name><operator>/</operator><name>HDPLocal</name><operator>/</operator><literal type="number">1.3.0</literal><operator>/</operator><name>repos</name><operator>/</operator><name><name>repoinfo</name><operator>.</operator><name>xml</name></name>  <operator>|</operator>  <literal type="number">16</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>resources</name><operator>/</operator><name><name>deploy_HDP2</name><operator>.</operator><name>sh</name></name>         <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name><name>config</name><operator>.</operator><name>js</name></name>                      <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>controllers</name><operator>/</operator><name>global</name><operator>/</operator><name><name>cluster_controller</name><operator>.</operator><name>js</name></name>  <operator>|</operator>   <literal type="number">4</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>controllers</name><operator>/</operator><name>main</name><operator>/</operator><name>admin</name><operator>/</operator><name><name>misc_controller</name><operator>.</operator><name>js</name></name> <operator>|</operator>   <literal type="number">3</literal> <operator>+</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>controllers</name><operator>/</operator><name>main</name><operator>/</operator><name><name>host</name><operator>.</operator><name>js</name></name>       <operator>|</operator>  <literal type="number">38</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>app</name><operator>/</operator><name>controllers</name><operator>/</operator><name>main</name><operator>/</operator><name>host</name><operator>/</operator><name><name>details</name><operator>.</operator><name>js</name></name>      <operator>|</operator>   <literal type="number">4</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>controllers</name><operator>/</operator><name>wizard</name><operator>/</operator><name><name>step7_controller</name><operator>.</operator><name>js</name></name>    <operator>|</operator>  <literal type="number">15</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>data</name><operator>/</operator><name>HDP2</name><operator>/</operator><name><name>config_mapping</name><operator>.</operator><name>js</name></name>    <operator>|</operator> <literal type="number">137</literal> <operator>+</operator><operator>--</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>data</name><operator>/</operator><name>HDP2</name><operator>/</operator><name><name>config_properties</name><operator>.</operator><name>js</name></name> <operator>|</operator> <literal type="number">277</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>data</name><operator>/</operator><name><name>config_properties</name><operator>.</operator><name>js</name></name>      <operator>|</operator>  <literal type="number">72</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name><name>messages</name><operator>.</operator><name>js</name></name>                    <operator>|</operator>   <literal type="number">3</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>models</name><operator>/</operator><name><name>host_component</name><operator>.</operator><name>js</name></name>       <operator>|</operator>  <literal type="number">34</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>models</name><operator>/</operator><name><name>service</name><operator>.</operator><name>js</name></name>              <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>models</name><operator>/</operator><name><name>service_config</name><operator>.</operator><name>js</name></name>       <operator>|</operator>   <literal type="number">4</literal> <operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>styles</name><operator>/</operator><name><name>application</name><operator>.</operator><name>less</name></name>        <operator>|</operator>  <literal type="number">20</literal> <operator>+</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>templates</name><operator>/</operator><name>main</name><operator>/</operator><name>admin</name><operator>/</operator><name><name>misc</name><operator>.</operator><name>hbs</name></name>  <operator>|</operator>  <literal type="number">10</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>app</name><operator>/</operator><name>templates</name><operator>/</operator><name>main</name><operator>/</operator><name>host</name><operator>/</operator><name><name>summary</name><operator>.</operator><name>hbs</name></name>       <operator>|</operator>  <literal type="number">81</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>wizard</name><operator>/</operator><name><name>step9HostTasksLogPopup</name><operator>.</operator><name>hbs</name></name>         <operator>|</operator>   <literal type="number">4</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>utils</name><operator>/</operator><name><name>config</name><operator>.</operator><name>js</name></name>                <operator>|</operator>  <literal type="number">20</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>utils</name><operator>/</operator><name><name>db</name><operator>.</operator><name>js</name></name>                    <operator>|</operator>  <literal type="number">84</literal> <operator>++</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>views</name><operator>/</operator><name>common</name><operator>/</operator><name>configs</name><operator>/</operator><name><name>services_config</name><operator>.</operator><name>js</name></name>   <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>common</name><operator>/</operator><name><name>filter_view</name><operator>.</operator><name>js</name></name>    <operator>|</operator>   <literal type="number">5</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>common</name><operator>/</operator><name><name>quick_view_link_view</name><operator>.</operator><name>js</name></name>  <operator>|</operator>  <literal type="number">11</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>common</name><operator>/</operator><name><name>sort_view</name><operator>.</operator><name>js</name></name>      <operator>|</operator>  <literal type="number">49</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>common</name><operator>/</operator><name><name>table_view</name><operator>.</operator><name>js</name></name>     <operator>|</operator> <literal type="number">117</literal> <operator>++</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>hbase</name><operator>.</operator><name>js</name></name> <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>hdfs</name><operator>.</operator><name>js</name></name>  <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>mapreduce</name><operator>.</operator><name>js</name></name> <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>oozie</name><operator>.</operator><name>js</name></name> <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name><name>host</name><operator>.</operator><name>js</name></name>             <operator>|</operator>  <literal type="number">60</literal> <operator>+</operator><operator>-</operator>
 <name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>host</name><operator>/</operator><name><name>summary</name><operator>.</operator><name>js</name></name>     <operator>|</operator> <literal type="number">138</literal> <operator>++</operator><operator>--</operator>
 <operator>...</operator><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>mirroring</name><operator>/</operator><name><name>datasets_view</name><operator>.</operator><name>js</name></name> <operator>|</operator>  <literal type="number">18</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>mirroring</name><operator>/</operator><name><name>jobs_view</name><operator>.</operator><name>js</name></name>     <operator>|</operator>  <literal type="number">15</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>service</name><operator>/</operator><name>info</name><operator>/</operator><name><name>summary</name><operator>.</operator><name>js</name></name>    <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator><operator>-</operator>
 <name><name>pom</name><operator>.</operator><name>xml</name></name>                                       <operator>|</operator>   <literal type="number">1</literal> <operator>-</operator>
 <literal type="number">71</literal> <name>files</name> <name>changed</name></expr><operator>,</operator> <expr><literal type="number">2946</literal> <call><name>insertions</name><argument_list>(<argument><expr><operator>+</operator></expr></argument>)</argument_list></call></expr><operator>,</operator> <expr><literal type="number">928</literal> <call><name>deletions</name><argument_list>(<argument><expr><operator>-</operator></expr></argument>)</argument_list></call>
 <name>create</name> <name>mode</name> <literal type="number">100644</literal> <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>job</name><operator>-</operator><name><name>resources</name><operator>.</operator><name>md</name></name>
 <name>create</name> <name>mode</name> <literal type="number">100644</literal> <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>jobs</name><operator>-</operator><name><name>job</name><operator>.</operator><name>md</name></name>
 <name>create</name> <name>mode</name> <literal type="number">100644</literal> <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>jobs</name><operator>.</operator><name>md</name></name>
 <name>create</name> <name>mode</name> <literal type="number">100644</literal> <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>taskattempt</name><operator>-</operator><name><name>resources</name><operator>.</operator><name>md</name></name>
 <name>create</name> <name>mode</name> <literal type="number">100644</literal> <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>taskattempts</name><operator>-</operator><name><name>taskattempt</name><operator>.</operator><name>md</name></name>
 <name>create</name> <name>mode</name> <literal type="number">100644</literal> <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>taskattempts</name><operator>.</operator><name>md</name></name>
 <name>create</name> <name>mode</name> <literal type="number">100644</literal> <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>workflow</name><operator>-</operator><name><name>resources</name><operator>.</operator><name>md</name></name>
 <name>create</name> <name>mode</name> <literal type="number">100644</literal> <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>workflows</name><operator>-</operator><name><name>workflow</name><operator>.</operator><name>md</name></name>
 <name>create</name> <name>mode</name> <literal type="number">100644</literal> <name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>workflows</name><operator>.</operator><name>md</name></name>

<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name><name>CHANGES</name><operator>.</operator><name>txt</name></name> <name>b</name><operator>/</operator><name><name>CHANGES</name><operator>.</operator><name>txt</name></name>
<name>index</name> <name>bf48c76767</name><operator>..</operator><literal type="number">1160bd29cc</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name><name>CHANGES</name><operator>.</operator><name>txt</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name><name>CHANGES</name><operator>.</operator><name>txt</name></name>
@@ <operator>-</operator><literal type="number">312</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">312</literal></expr><operator>,</operator><expr><literal type="number">9</literal> @@ <call><name>Trunk</name> <argument_list>(<argument><expr><name>unreleased</name> <name>changes</name></expr></argument>)</argument_list></call><operator>:</operator>
 
  <name>IMPROVEMENTS</name>
 
 <name>AMBARI</name><operator>-</operator><literal type="number">2234.</literal> <name>Host</name> <name>Details</name> <name>Page</name><operator>:</operator> <name>Update</name> <name>host</name> <name>component</name> <name>actions</name> <name>and</name> <name>icons</name>
 <name>depending</name> <name>on</name> <name><name>state</name><operator>.</operator></name> (<name>yusaku</name></expr></expr_stmt>)

  <expr_stmt><expr><name>AMBARI</name><operator>-</operator><literal type="number">2199.</literal> <name>Add</name> <name>a</name> <name>legend</name> <name>to</name> <name>Job</name> <name><name>Timeline</name><operator>.</operator></name> (<name>billie</name> <name>via</name> <name>yusaku</name></expr></expr_stmt>)
 
  <expr_stmt><expr><name>AMBARI</name><operator>-</operator><literal type="number">2212.</literal> <name>Change</name> <name>config</name> <name>loading</name> <name>mechanism</name> <name>to</name> <name>allow</name></expr></expr_stmt> <for>for different
@@ -906<operator>,</operator><expr_stmt><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">909</literal></expr><operator>,</operator><expr><literal type="number">12</literal> @@ <call><name>Trunk</name> <argument_list>(<argument><expr><name>unreleased</name> <name>changes</name></expr></argument>)</argument_list></call><operator>:</operator>
  <name>Farrellee</name> <name>via</name> <name>mahadev</name></expr></expr_stmt></for>)
 
  <expr_stmt><expr><name>BUG</name> <name>FIXES</name>
 
 <name>AMBARI</name><operator>-</operator><literal type="number">2230.</literal> <name>Nagios</name> <name>user</name> <name>is</name> <name>presented</name> <name>in</name> <name>Admin</name> <operator>&gt;</operator> <name>Misc</name> <name>page</name> <name>when</name> <name>Nagios</name>
 <name>service</name> <name>was</name> <name>not</name> <name><name>installed</name><operator>.</operator></name> (<name>yusaku</name></expr></expr_stmt>)

 <expr_stmt><expr><name>AMBARI</name><operator>-</operator><literal type="number">2231.</literal> <name>Service</name> <name>web</name> <name>UI</name> <name>links</name> <name>map</name> <name>to</name> <name>hostnames</name> <name>not</name> <name>resolvable</name> <name>by</name> <name>the</name>
 <name><name>client</name><operator>.</operator></name> (<name>yusaku</name></expr></expr_stmt>)
 
  <expr_stmt><expr><name>AMBARI</name><operator>-</operator><literal type="number">2239.</literal> <name>secure</name> <name>cluster</name><operator>:</operator> <name>Namenode</name> <name>and</name> <name>SNamenode</name> <name>should</name> <name>use</name> <name>same</name>
  <name><name>keytab</name><operator>.</operator></name> (<name>jaimin</name></expr></expr_stmt>)
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>oozie</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>init</name><operator>.</operator><name>pp</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>oozie</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>init</name><operator>.</operator><name>pp</name></name>
<name>index</name> <name>f413f535cf</name><operator>..</operator><name>a88dcedc61</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>oozie</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>init</name><operator>.</operator><name>pp</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>oozie</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>init</name><operator>.</operator><name>pp</name></name>
@@ <operator>-</operator><literal type="number">39</literal></expr><operator>,</operator><expr><literal type="number">13</literal> <operator>+</operator><literal type="number">39</literal></expr><operator>,</operator><expr><literal type="number">13</literal> @@ <name>class</name> <name>hdp</name><operator>-</operator><call><name>oozie</name><argument_list>(
       <argument><expr><name>configuration</name> <operator>=</operator><operator>&gt;</operator> <name><name>$configuration</name><index>[<expr><literal type="char">'oozie-site'</literal></expr>]</index></name></expr></argument>,
       <argument><expr><name>owner</name> <operator>=</operator><operator>&gt;</operator> <name>$oozie_user</name></expr></argument>,
       <argument><expr><name>group</name> <operator>=</operator><operator>&gt;</operator> <name>$hdp</name><operator>::</operator><name>params</name><operator>::</operator><name>user_group</name></expr></argument>,
      <argument><expr><name>mode</name> <operator>=</operator><operator>&gt;</operator> <literal type="char">'0660'</literal>
      <name>mode</name> <operator>=</operator><operator>&gt;</operator> <literal type="char">'0664'</literal></expr></argument></argument_list></call></expr></expr_stmt>
     }
   } <if_stmt><else>else <block>{<block_content>
     <expr_stmt><expr><name>file</name> <block>{ <expr><literal type="string">"${oozie_config_dir}/oozie-site.xml"</literal><operator>:</operator>
       <name>owner</name> <operator>=</operator><operator>&gt;</operator> <name>$oozie_user</name></expr>,
       <expr><name>group</name> <operator>=</operator><operator>&gt;</operator> <name>$hdp</name><operator>::</operator><name>params</name><operator>::</operator><name>user_group</name></expr>,
      <expr><name>mode</name> <operator>=</operator><operator>&gt;</operator> <literal type="char">'0660'</literal>
      <name>mode</name> <operator>=</operator><operator>&gt;</operator> <literal type="char">'0664'</literal></expr>
     }</block></expr></expr_stmt>
   </block_content>}</block></else></if_stmt>
 
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>files</name><operator>/</operator><name><name>validateYarnComponentStatus</name><operator>.</operator><name>py</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>files</name><operator>/</operator><name><name>validateYarnComponentStatus</name><operator>.</operator><name>py</name></name>
<name>index</name> <literal type="number">33bdba0bb2</literal><operator>..</operator><literal type="number">7cc32301bb</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>files</name><operator>/</operator><name><name>validateYarnComponentStatus</name><operator>.</operator><name>py</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>files</name><operator>/</operator><name><name>validateYarnComponentStatus</name><operator>.</operator><name>py</name></name>
@@ <operator>-</operator><literal type="number">27</literal></expr><operator>,</operator><expr><literal type="number">10</literal> <operator>+</operator><literal type="number">27</literal></expr><operator>,</operator><expr><literal type="number">10</literal> @@ <name>HISTORYSERVER</name> <operator>=</operator><literal type="char">'hs'</literal>
 
 <name>STARTED_STATE</name> <operator>=</operator> <literal type="char">'STARTED'</literal>
 
<name>def</name> <call><name>validate</name><argument_list>(<argument><expr><name>component</name></expr></argument>, <argument><expr><name>path</name></expr></argument>, <argument><expr><name>port</name></expr></argument>)</argument_list></call><operator>:</operator>
<name>def</name> <call><name>validate</name><argument_list>(<argument><expr><name>component</name></expr></argument>, <argument><expr><name>path</name></expr></argument>, <argument><expr><name>address</name></expr></argument>)</argument_list></call><operator>:</operator></expr></expr_stmt>
 
   <try>try:
    <expr_stmt><expr><name>url</name> <operator>=</operator> <literal type="char">'http://localhost:'</literal> <operator>+</operator> <call><name>str</name><argument_list>(<argument><expr><name>port</name></expr></argument>)</argument_list></call> <operator>+</operator> <name>path</name>
    <name>url</name> <operator>=</operator> <literal type="char">'http://'</literal> <operator>+</operator> <name>address</name> <operator>+</operator> <name>path</name>
     <name>opener</name> <operator>=</operator> <call><name><name>urllib2</name><operator>.</operator><name>build_opener</name></name><argument_list>()</argument_list></call>
     <call><name><name>urllib2</name><operator>.</operator><name>install_opener</name></name><argument_list>(<argument><expr><name>opener</name></expr></argument>)</argument_list></call>
     <name>request</name> <operator>=</operator> <call><name><name>urllib2</name><operator>.</operator><name>Request</name></name><argument_list>(<argument><expr><name>url</name></expr></argument>)</argument_list></call>
@@ <operator>-</operator><literal type="number">71</literal></expr><operator>,</operator><expr><literal type="number">14</literal> <operator>+</operator><literal type="number">71</literal></expr><operator>,</operator><expr><literal type="number">14</literal> @@ <name>def</name> <call><name>validateResponse</name><argument_list>(<argument><expr><name>component</name></expr></argument>, <argument><expr><name>response</name></expr></argument>)</argument_list></call><operator>:</operator>
 #
 <name>def</name> <call><name>main</name><argument_list>()</argument_list></call><operator>:</operator>
   <name>parser</name> <operator>=</operator> <call><name><name>optparse</name><operator>.</operator><name>OptionParser</name></name><argument_list>(<argument><expr><name>usage</name><operator>=</operator><literal type="string">"usage: %prog [options] component "</literal></expr></argument>)</argument_list></call>
  <call><name><name>parser</name><operator>.</operator><name>add_option</name></name><argument_list>(<argument><expr><literal type="string">"-p"</literal></expr></argument>, <argument><expr><literal type="string">"--port"</literal></expr></argument>, <argument><expr><name>dest</name><operator>=</operator><literal type="string">"port"</literal></expr></argument>, <argument><expr><name>help</name><operator>=</operator><literal type="string">"Port for rest api of desired component"</literal></expr></argument>)</argument_list></call>
  <call><name><name>parser</name><operator>.</operator><name>add_option</name></name><argument_list>(<argument><expr><literal type="string">"-p"</literal></expr></argument>, <argument><expr><literal type="string">"--port"</literal></expr></argument>, <argument><expr><name>dest</name><operator>=</operator><literal type="string">"address"</literal></expr></argument>, <argument><expr><name>help</name><operator>=</operator><literal type="string">"Host:Port for REST API of a desired component"</literal></expr></argument>)</argument_list></call>
 
 
   <operator>(</operator><name>options</name><operator>,</operator> <name>args</name><operator>)</operator> <operator>=</operator> <call><name><name>parser</name><operator>.</operator><name>parse_args</name></name><argument_list>()</argument_list></call>
 
   <name>component</name> <operator>=</operator> <name><name>args</name><index>[<expr><literal type="number">0</literal></expr>]</index></name>
   
  <name>port</name> <operator>=</operator> <name><name>options</name><operator>.</operator><name>port</name></name>
  <name>address</name> <operator>=</operator> <name><name>options</name><operator>.</operator><name>address</name></name></expr></expr_stmt></try>
   
   <if_stmt><if>if component == RESOURCEMANAGER:
     path = '/ws/v1/cluster/info'
@@ -87<operator>,</operator><expr_stmt><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">87</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>def</name> <call><name>main</name><argument_list>()</argument_list></call><operator>:</operator></expr></expr_stmt></if>
   <else>else<block type="pseudo"><block_content>:
     <expr_stmt><expr><call><name><name>parser</name><operator>.</operator><name>error</name></name><argument_list>(<argument><expr><literal type="string">"Invalid component"</literal></expr></argument>)</argument_list></call>
 
  <call><name>validate</name><argument_list>(<argument><expr><name>component</name></expr></argument>, <argument><expr><name>path</name></expr></argument>, <argument><expr><name>port</name></expr></argument>)</argument_list></call>
  <call><name>validate</name><argument_list>(<argument><expr><name>component</name></expr></argument>, <argument><expr><name>path</name></expr></argument>, <argument><expr><name>address</name></expr></argument>)</argument_list></call></expr></expr_stmt></block_content></block></else></if_stmt>
 
 <if_stmt><if>if __name__ == "__main__":
   main<condition>()</condition><block type="pseudo"><block_content>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>nodemanager</name><operator>.</operator><name>pp</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>nodemanager</name><operator>.</operator><name>pp</name></name>
<name>index</name> <literal type="number">6e945c7b73</literal><operator>..</operator><name>df852ad13f</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>nodemanager</name><operator>.</operator><name>pp</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>nodemanager</name><operator>.</operator><name>pp</name></name>
@@ <operator>-</operator><literal type="number">24</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">24</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>class</name> <name>hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><call><name>nodemanager</name><argument_list>(
 )</argument_list></call> <name>inherits</name> <name>hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name>params</name>
 <block>{
   <expr><name>$yarn_user</name> <operator>=</operator> <name>$hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name>params</name><operator>::</operator><name>yarn_user</name>
  <name>$nm_local_dirs</name> <operator>=</operator> <name>$hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name>params</name><operator>::</operator><name>nm_local_dirs</name></expr>
   
   <if_stmt><if>if <condition>(<expr><name>$service_state</name> <operator>==</operator> <literal type="char">'no_op'</literal></expr>)</condition> <block>{<block_content>
   </block_content>}</block></if></if_stmt> <call><name>elsif</name> <argument_list>(<argument><expr><name>$service_state</name> <name>in</name> <literal type="char">'installed_and_configured'</literal></expr></argument>)</argument_list></call> <block>{
@@ <expr><operator>-</operator><literal type="number">36</literal></expr>,<expr><literal type="number">12</literal> <operator>+</operator><literal type="number">37</literal></expr>,<expr><literal type="number">21</literal> @@ <name>class</name> <name>hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><call><name>nodemanager</name><argument_list>(
   }</argument_list></call> <call><name>elsif</name> <argument_list>(<argument><expr><name>$service_state</name> <name><name>in</name> <index>[<expr><literal type="char">'running'</literal></expr><operator>,</operator><literal type="char">'stopped'</literal>]</index></name></expr></argument>)</argument_list></call> <block>{
 
     <expr><name>include</name> <name>hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name>initialize</name>
 

    <name>hdp</name><operator>::</operator><name>directory_recursive_create</name> <block>{ <expr><name>$nm_local_dirs</name><operator>:</operator> 
      <name>owner</name>       <operator>=</operator><operator>&gt;</operator> <name>$yarn_user</name></expr>,
      <expr><name>context_tag</name> <operator>=</operator><operator>&gt;</operator> <literal type="char">'yarn_service'</literal></expr>,
      <expr><name>service_state</name> <operator>=</operator><operator>&gt;</operator> <name>$service_state</name></expr>,
      <expr><name>force</name> <operator>=</operator><operator>&gt;</operator> <literal type="boolean">true</literal></expr>
    }</block>

     <name>hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name>service</name><block>{ <expr><literal type="char">'nodemanager'</literal><operator>:</operator>
       <name>ensure</name>       <operator>=</operator><operator>&gt;</operator> <name>$service_state</name></expr>,
       <expr><name>user</name>         <operator>=</operator><operator>&gt;</operator> <name>$yarn_user</name></expr>
     }</block>
 
    <name>Hdp</name><operator>::</operator><lambda><parameter_list type="pseudo"><parameter><decl><name><name>Directory_recursive_create</name><index>[<expr><name>$nm_local_dirs</name></expr>]</index></name></decl></parameter></parameter_list> -&gt;<block type="pseudo"><block_content> <expr><name>Hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name><name>Service</name><index>[<expr><literal type="char">'nodemanager'</literal></expr>]</index></name></expr></block_content></block></lambda></expr>

   }</block></expr> <if_stmt><else>else <block>{<block_content>
     <expr_stmt><expr><call><name>hdp_fail</name><argument_list>(<argument><expr><literal type="string">"TODO not implemented yet: service_state = ${service_state}"</literal></expr></argument>)</argument_list></call></expr></expr_stmt></block_content></block></else></if_stmt>
   }</block></block>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>params</name><operator>.</operator><name>pp</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>params</name><operator>.</operator><name>pp</name></name>
<name>index</name> <literal type="number">3bdaced1d9</literal><operator>..</operator><name>c1faf1c9f2</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>params</name><operator>.</operator><name>pp</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>params</name><operator>.</operator><name>pp</name></name>
@@ <operator>-</operator><literal type="number">36</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">36</literal></expr><operator>,</operator><expr><literal type="number">9</literal> @@ <name>class</name> <name>hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><call><name>params</name><argument_list>(
   <argument><expr><name>$yarn_pid_dir_prefix</name> <operator>=</operator> <call><name>hdp_default</name><argument_list>(<argument><expr><literal type="string">"hadoop/yarn-env/yarn_pid_dir_prefix"</literal></expr></argument>,<argument><expr><literal type="string">"/var/run/hadoop-yarn"</literal></expr></argument>)</argument_list></call>
   
   #<operator>#</operator> <name>yarn</name><operator>-</operator><name>site</name>
  <name>$rm_webui_port</name> <operator>=</operator> <call><name>hdp_default</name><argument_list>(<argument><expr><literal type="string">"yarn-site/yarn.resourcemanager.webapp.address"</literal></expr></argument>, <argument><expr><literal type="string">"8088"</literal></expr></argument>)</argument_list></call>
  <name>$nm_webui_port</name> <operator>=</operator> <call><name>hdp_default</name><argument_list>(<argument><expr><literal type="string">"yarn-site/yarn.nodemanager.webapp.address"</literal></expr></argument>, <argument><expr><literal type="string">"8042"</literal></expr></argument>)</argument_list></call>
  <name>$hs_webui_port</name> <operator>=</operator> <call><name>hdp_default</name><argument_list>(<argument><expr><literal type="string">"yarn-site/mapreduce.jobhistory.address"</literal></expr></argument>, <argument><expr><literal type="string">"19888"</literal></expr></argument>)</argument_list></call>

  <name>$rm_webui_address</name> <operator>=</operator> <call><name>hdp_default</name><argument_list>(<argument><expr><literal type="string">"yarn-site/yarn.resourcemanager.webapp.address"</literal></expr></argument>, <argument><expr><literal type="string">"localhost:8088"</literal></expr></argument>)</argument_list></call>
  <name>$nm_webui_address</name> <operator>=</operator> <call><name>hdp_default</name><argument_list>(<argument><expr><literal type="string">"yarn-site/yarn.nodemanager.webapp.address"</literal></expr></argument>, <argument><expr><literal type="string">"localhost:8042"</literal></expr></argument>)</argument_list></call>
  <name>$hs_webui_address</name> <operator>=</operator> <call><name>hdp_default</name><argument_list>(<argument><expr><literal type="string">"mapred-site/mapreduce.jobhistory.webapp.address"</literal></expr></argument>, <argument><expr><literal type="string">"localhost:19888"</literal></expr></argument>)</argument_list></call>
  
  <name>$nm_local_dirs</name> <operator>=</operator> <call><name>hdp_default</name><argument_list>(<argument><expr><literal type="string">"yarn-site/yarn.nodemanager.local-dirs"</literal></expr></argument>, <argument><expr><literal type="string">"/yarn/loc/dir"</literal></expr></argument>)</argument_list></call></expr></argument></argument_list></call></expr></expr_stmt></block_content></block></if></if_stmt> 
 }
diff <expr_stmt><expr><operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>smoketest</name><operator>.</operator><name>pp</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>smoketest</name><operator>.</operator><name>pp</name></name>
<name>index</name> <literal type="number">960688012f</literal><operator>..</operator><literal type="number">383138f243</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>smoketest</name><operator>.</operator><name>pp</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>puppet</name><operator>/</operator><name>modules</name><operator>/</operator><name>hdp</name><operator>-</operator><name>yarn</name><operator>/</operator><name>manifests</name><operator>/</operator><name><name>smoketest</name><operator>.</operator><name>pp</name></name>
@@ <operator>-</operator><literal type="number">22</literal></expr><operator>,</operator><expr><literal type="number">16</literal> <operator>+</operator><literal type="number">22</literal></expr><operator>,</operator><expr><literal type="number">16</literal> @@ <name>class</name> <name>hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><call><name>smoketest</name><argument_list>(
   <argument><expr><name>$component_name</name> <operator>=</operator> <name>undef</name></expr></argument>
 )</argument_list></call>
 <block>{
  <expr><name>$rm_webui_port</name> <operator>=</operator> <name>$hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name>params</name><operator>::</operator><name>rm_webui_port</name>
  <name>$nm_webui_port</name> <operator>=</operator> <name>$hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name>params</name><operator>::</operator><name>nm_webui_port</name>
  <name>$hs_webui_port</name> <operator>=</operator> <name>$hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name>params</name><operator>::</operator><name>hs_webui_port</name>
  <name>$rm_webui_address</name> <operator>=</operator> <name>$hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name>params</name><operator>::</operator><name>rm_webui_address</name>
  <name>$nm_webui_address</name> <operator>=</operator> <name>$hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name>params</name><operator>::</operator><name>nm_webui_address</name>
  <name>$hs_webui_address</name> <operator>=</operator> <name>$hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><name>params</name><operator>::</operator><name>hs_webui_address</name></expr>
 
   <if_stmt><if>if <condition>(<expr><name>$component_name</name> <operator>==</operator> <literal type="char">'resourcemanager'</literal></expr>)</condition> <block>{<block_content>
     <expr_stmt><expr><name>$component_type</name> <operator>=</operator> <literal type="char">'rm'</literal>
    <name>$component_port</name> <operator>=</operator> <name>$rm_webui_port</name>
    <name>$component_address</name> <operator>=</operator> <name>$rm_webui_address</name></expr></expr_stmt></block_content></block></if></if_stmt>
   }</block> <call><name>elsif</name> <argument_list>(<argument><expr><name>$component_name</name> <operator>==</operator> <literal type="char">'historyserver'</literal></expr></argument>)</argument_list></call> <block>{
     <expr><name>$component_type</name> <operator>=</operator> <literal type="char">'hs'</literal> 
    <name>$component_port</name> <operator>=</operator> <name>$hs_webui_port</name>
    <name>$component_address</name> <operator>=</operator> <name>$hs_webui_address</name></expr>
   }</block></expr></expr_stmt> <if_stmt><else>else <block>{<block_content>
     <expr_stmt><expr><call><name>hdp_fail</name><argument_list>(<argument><expr><literal type="string">"Unsupported component name: $component_name"</literal></expr></argument>)</argument_list></call></expr></expr_stmt>
   </block_content>}</block></else></if_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">41</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">41</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>class</name> <name>hdp</name><operator>-</operator><name>yarn</name><operator>::</operator><call><name>smoketest</name><argument_list>(
   <argument><expr><name>$validateStatusFileName</name> <operator>=</operator> <literal type="string">"validateYarnComponentStatus.py"</literal>
   <name>$validateStatusFilePath</name> <operator>=</operator> <literal type="string">"/tmp/$validateStatusFileName"</literal>
 
  <name>$validateStatusCmd</name> <operator>=</operator> <literal type="string">"su - ${smoke_test_user} -c 'python $validateStatusFilePath $component_type -p $component_port'"</literal>
  <name>$validateStatusCmd</name> <operator>=</operator> <literal type="string">"su - ${smoke_test_user} -c 'python $validateStatusFilePath $component_type -p $component_address'"</literal>
 
   <name>file</name> <block>{ <expr><name>$validateStatusFilePath</name><operator>:</operator>
     <name>ensure</name> <operator>=</operator><operator>&gt;</operator> <name>present</name></expr>,
<expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>python</name><operator>/</operator><name>ambari_agent</name><operator>/</operator><name><name>Heartbeat</name><operator>.</operator><name>py</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>python</name><operator>/</operator><name>ambari_agent</name><operator>/</operator><name><name>Heartbeat</name><operator>.</operator><name>py</name></name>
<name>index</name> <literal type="number">79390ca217</literal><operator>..</operator><literal type="number">7c0d9b5f32</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>python</name><operator>/</operator><name>ambari_agent</name><operator>/</operator><name><name>Heartbeat</name><operator>.</operator><name>py</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>agent</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>python</name><operator>/</operator><name>ambari_agent</name><operator>/</operator><name><name>Heartbeat</name><operator>.</operator><name>py</name></name>
@@ <operator>-</operator><literal type="number">57</literal></expr>,<expr><literal type="number">6</literal> <operator>+</operator><literal type="number">57</literal></expr>,<expr><literal type="number">8</literal> @@ class <name>Heartbeat</name><operator>:</operator>
       <name><name>heartbeat</name><index>[<expr><literal type="char">'reports'</literal></expr>]</index></name> <operator>=</operator> <name><name>queueResult</name><index>[<expr><literal type="char">'reports'</literal></expr>]</index></name>
       <name><name>heartbeat</name><index>[<expr><literal type="char">'componentStatus'</literal></expr>]</index></name> <operator>=</operator> <name><name>queueResult</name><index>[<expr><literal type="char">'componentStatus'</literal></expr>]</index></name>
       <name>pass</name>
    <call><name><name>logger</name><operator>.</operator><name>info</name></name><argument_list>(<argument><expr><literal type="string">"Sending heartbeat with response id: "</literal> <operator>+</operator> <call><name>str</name><argument_list>(<argument><expr><name>id</name></expr></argument>)</argument_list></call> <operator>+</operator> <literal type="string">" and "</literal>
                <literal type="string">"timestamp: "</literal> <operator>+</operator> <call><name>str</name><argument_list>(<argument><expr><name>timestamp</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call>
     <call><name><name>logger</name><operator>.</operator><name>debug</name></name><argument_list>(<argument><expr><literal type="string">"Heartbeat : "</literal> <operator>+</operator> <call><name>pformat</name><argument_list>(<argument><expr><name>heartbeat</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>
 
     <if_stmt><if>if <condition>(<expr><call><name>int</name><argument_list>(<argument><expr><name>id</name></expr></argument>)</argument_list></call> <operator>&gt;=</operator> <literal type="number">0</literal></expr>)</condition><block type="pseudo"><block_content> <expr_stmt><expr><name>and</name> <name>state_interval</name> <operator>&gt;</operator> <literal type="number">0</literal> <call><name>and</name> <argument_list>(<argument><expr><call><name>int</name><argument_list>(<argument><expr><name>id</name></expr></argument>)</argument_list></call> <operator>%</operator> <name>state_interval</name></expr></argument>)</argument_list></call> <operator>==</operator> <literal type="number">0</literal><operator>:</operator>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>clusters</name><operator>.</operator><name>md</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>clusters</name><operator>.</operator><name>md</name></name>
<name>index</name> <literal type="number">6b3a5c1fd9</literal><operator>..</operator><name>df895f5761</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>clusters</name><operator>.</operator><name>md</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>clusters</name><operator>.</operator><name>md</name></name>
@@ <operator>-</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">3</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">4</literal> @@

 <operator>&lt;</operator><operator>!</operator><operator>--</operator><operator>-</operator>
 <name>Licensed</name> <name>to</name> <name>the</name> <name>Apache</name> <name>Software</name> <call><name>Foundation</name> <argument_list>(<argument><expr><name>ASF</name></expr></argument>)</argument_list></call> <name>under</name> <name>one</name> <name>or</name> <name>more</name>
 <name>contributor</name> <name>license</name> <name><name>agreements</name><operator>.</operator> <name>See</name></name> <name>the</name> <name>NOTICE</name> <name>file</name> <name>distributed</name> <name>with</name>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>cluster</name><operator>.</operator><name>md</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>cluster</name><operator>.</operator><name>md</name></name>
<name>index</name> <name>b228b85781</name><operator>..</operator><literal type="number">07197b8ea9</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>cluster</name><operator>.</operator><name>md</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>cluster</name><operator>.</operator><name>md</name></name>
@@ <operator>-</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">3</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">4</literal> @@

 <operator>&lt;</operator><operator>!</operator><operator>--</operator><operator>-</operator>
 <name>Licensed</name> <name>to</name> <name>the</name> <name>Apache</name> <name>Software</name> <call><name>Foundation</name> <argument_list>(<argument><expr><name>ASF</name></expr></argument>)</argument_list></call> <name>under</name> <name>one</name> <name>or</name> <name>more</name>
 <name>contributor</name> <name>license</name> <name><name>agreements</name><operator>.</operator> <name>See</name></name> <name>the</name> <name>NOTICE</name> <name>file</name> <name>distributed</name> <name>with</name>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>component</name><operator>.</operator><name>md</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>component</name><operator>.</operator><name>md</name></name>
<name>index</name> <literal type="number">26a1ab36db</literal><operator>..</operator><name>f67705b409</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>component</name><operator>.</operator><name>md</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>component</name><operator>.</operator><name>md</name></name>
@@ <operator>-</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">3</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">4</literal> @@

 <operator>&lt;</operator><operator>!</operator><operator>--</operator><operator>-</operator>
 <name>Licensed</name> <name>to</name> <name>the</name> <name>Apache</name> <name>Software</name> <call><name>Foundation</name> <argument_list>(<argument><expr><name>ASF</name></expr></argument>)</argument_list></call> <name>under</name> <name>one</name> <name>or</name> <name>more</name>
 <name>contributor</name> <name>license</name> <name><name>agreements</name><operator>.</operator> <name>See</name></name> <name>the</name> <name>NOTICE</name> <name>file</name> <name>distributed</name> <name>with</name>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>host</name><operator>.</operator><name>md</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>host</name><operator>.</operator><name>md</name></name>
<name>index</name> <name>c6629a08c5</name><operator>..</operator><name>a686f786a8</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>host</name><operator>.</operator><name>md</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>host</name><operator>.</operator><name>md</name></name>
@@ <operator>-</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">3</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">4</literal> @@

 <operator>&lt;</operator><operator>!</operator><operator>--</operator><operator>-</operator>
 <name>Licensed</name> <name>to</name> <name>the</name> <name>Apache</name> <name>Software</name> <call><name>Foundation</name> <argument_list>(<argument><expr><name>ASF</name></expr></argument>)</argument_list></call> <name>under</name> <name>one</name> <name>or</name> <name>more</name>
 <name>contributor</name> <name>license</name> <name><name>agreements</name><operator>.</operator> <name>See</name></name> <name>the</name> <name>NOTICE</name> <name>file</name> <name>distributed</name> <name>with</name>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>hostcomponent</name><operator>.</operator><name>md</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>hostcomponent</name><operator>.</operator><name>md</name></name>
<name>index</name> <literal type="number">2dee137261</literal><operator>..</operator><name>f7f6ec43a0</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>hostcomponent</name><operator>.</operator><name>md</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>hostcomponent</name><operator>.</operator><name>md</name></name>
@@ <operator>-</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">3</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">4</literal> @@

 <operator>&lt;</operator><operator>!</operator><operator>--</operator><operator>-</operator>
 <name>Licensed</name> <name>to</name> <name>the</name> <name>Apache</name> <name>Software</name> <call><name>Foundation</name> <argument_list>(<argument><expr><name>ASF</name></expr></argument>)</argument_list></call> <name>under</name> <name>one</name> <name>or</name> <name>more</name>
 <name>contributor</name> <name>license</name> <name><name>agreements</name><operator>.</operator> <name>See</name></name> <name>the</name> <name>NOTICE</name> <name>file</name> <name>distributed</name> <name>with</name>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>service</name><operator>.</operator><name>md</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>service</name><operator>.</operator><name>md</name></name>
<name>index</name> <name>dc681d2118</name><operator>..</operator><literal type="number">9037c904f1</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>service</name><operator>.</operator><name>md</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>create</name><operator>-</operator><name><name>service</name><operator>.</operator><name>md</name></name>
@@ <operator>-</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">3</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">4</literal> @@

 <operator>&lt;</operator><operator>!</operator><operator>--</operator><operator>-</operator>
 <name>Licensed</name> <name>to</name> <name>the</name> <name>Apache</name> <name>Software</name> <call><name>Foundation</name> <argument_list>(<argument><expr><name>ASF</name></expr></argument>)</argument_list></call> <name>under</name> <name>one</name> <name>or</name> <name>more</name>
 <name>contributor</name> <name>license</name> <name><name>agreements</name><operator>.</operator> <name>See</name></name> <name>the</name> <name>NOTICE</name> <name>file</name> <name>distributed</name> <name>with</name>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>delete</name><operator>-</operator><name><name>cluster</name><operator>.</operator><name>md</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>delete</name><operator>-</operator><name><name>cluster</name><operator>.</operator><name>md</name></name>
<name>index</name> <literal type="number">66b1b32473</literal><operator>..</operator><literal type="number">138cf0d375</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>delete</name><operator>-</operator><name><name>cluster</name><operator>.</operator><name>md</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>delete</name><operator>-</operator><name><name>cluster</name><operator>.</operator><name>md</name></name>
@@ <operator>-</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">3</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">4</literal> @@

 <operator>&lt;</operator><operator>!</operator><operator>--</operator><operator>-</operator>
 <name>Licensed</name> <name>to</name> <name>the</name> <name>Apache</name> <name>Software</name> <call><name>Foundation</name> <argument_list>(<argument><expr><name>ASF</name></expr></argument>)</argument_list></call> <name>under</name> <name>one</name> <name>or</name> <name>more</name>
 <name>contributor</name> <name>license</name> <name><name>agreements</name><operator>.</operator> <name>See</name></name> <name>the</name> <name>NOTICE</name> <name>file</name> <name>distributed</name> <name>with</name>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>host</name><operator>-</operator><name>component</name><operator>-</operator><name><name>resources</name><operator>.</operator><name>md</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>host</name><operator>-</operator><name>component</name><operator>-</operator><name><name>resources</name><operator>.</operator><name>md</name></name>
<name>index</name> <name>eaeb84a214</name><operator>..</operator><name>c7cf7a2e34</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>host</name><operator>-</operator><name>component</name><operator>-</operator><name><name>resources</name><operator>.</operator><name>md</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name>host</name><operator>-</operator><name>component</name><operator>-</operator><name><name>resources</name><operator>.</operator><name>md</name></name>
@@ <operator>-</operator><literal type="number">158</literal></expr><operator>,</operator><expr><literal type="number">3</literal> <operator>+</operator><literal type="number">158</literal></expr><operator>,</operator><expr><literal type="number">4</literal> @@ <name>A</name> <name>component</name> <name>can</name> <name>be</name> <name>stopped</name> <name>through</name> <name>the</name> <name>API</name> <name>by</name> <name>setting</name> <name>its</name> <name>state</name> <name>to</name> <name>be</name> <name>INSTALLED</name>
 <name>The</name> <name>user</name> <name>can</name> <name>update</name> <name>the</name> <name>desired</name> <name>state</name> <name>of</name> <name>a</name> <name>host</name> <name>component</name> <name>through</name> <name>the</name> <name>API</name> <name>to</name> <name>be</name> <call><name>MAINTENANCE</name> <argument_list>(<argument><expr><name><name>see</name> <index>[<expr><name>update</name> <name>host</name> <name>component</name></expr>]</index></name><operator>(</operator><name>update</name><operator>-</operator><name><name>hostcomponent</name><operator>.</operator><name>md</name></name><operator>)</operator></expr></argument>)</argument_list></call><operator>.</operator>  <name>When</name> <name>a</name> <name>host</name> <name>component</name> <name>is</name> <name>into</name> <name>maintenance</name> <name>state</name> <name>it</name> <name>is</name> <name>basically</name> <name>taken</name> <name>off</name> <name><name>line</name><operator>.</operator> <name>This</name></name> <name>state</name> <name>can</name> <name>be</name> <name>used</name></expr><operator>,</operator></expr_stmt></block_content></block></if></if_stmt> <for>for example<operator>,</operator> <expr_stmt><expr><name>to</name> <name>move</name> <name>a</name> <name>component</name> <name>like</name> <name><name>NameNode</name><operator>.</operator>  <name>The</name></name> <name>NameNode</name> <name>component</name> <name>can</name> <name>be</name> <name>put</name> <name>in</name> <name>MAINTENANCE</name> <name>mode</name> <name>and</name> <name>then</name> <name>a</name> <operator>new</operator> <name>NameNode</name> <name>can</name> <name>be</name> <name>created</name></expr></expr_stmt></for> <for>for the service. 
 
 

diff --git a/ambari-server/docs/api/v1/host-components.md b/ambari-server/docs/api/v1/host-components.md
index a00adaeceb..a2f4f700c4 100644
-- a/ambari-server/docs/api/v1/host-components.md
++ b/ambari-server/docs/api/v1/host-components.md
@@ -94<operator>,</operator><expr_stmt><expr><literal type="number">4</literal> <operator>+</operator><literal type="number">94</literal></expr><operator>,</operator><expr><literal type="number">4</literal> @@ <name>Returns</name> <name>a</name> <name>collection</name> <name>of</name> <name>components</name> <name>running</name> <name>on</name> <name>a</name> <name>the</name> <name>host</name> <name>named</name> <literal type="string">"h1"</literal> <name>on</name> <name>the</name> <name>clust</name></expr></expr_stmt></for>
     		}</block></expr></argument></argument_list></call></expr></expr_stmt><operator>,</operator>
     		<expr_stmt><expr><operator>...</operator>
 		]</expr></expr_stmt>
	}
	}
<expr_stmt><expr><operator>\</operator> <name>No</name> <name>newline</name> <name>at</name> <name>end</name> <name>of</name> <name>file</name>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>index</name><operator>.</operator><name>md</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>index</name><operator>.</operator><name>md</name></name>
<name>index</name> <literal type="number">2f190fda5c</literal><operator>..</operator><name>edaa322f90</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>index</name><operator>.</operator><name>md</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>docs</name><operator>/</operator><name>api</name><operator>/</operator><name>v1</name><operator>/</operator><name><name>index</name><operator>.</operator><name>md</name></name>
@@ <operator>-</operator><literal type="number">1</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">701</literal> @@
<operator>&lt;</operator><operator>!</operator><operator>--</operator><operator>-</operator>
<name>Licensed</name> <name>to</name> <name>the</name> <name>Apache</name> <name>Software</name> <call><name>Foundation</name> <argument_list>(<argument><expr><name>ASF</name></expr></argument>)</argument_list></call> <name>under</name> <name>one</name> <name>or</name> <name>more</name>
<name>contributor</name> <name>license</name> <name><name>agreements</name><operator>.</operator> <name>See</name></name> <name>the</name> <name>NOTICE</name> <name>file</name> <name>distributed</name> <name>with</name>
<name>this</name> <name>work</name></expr></expr_stmt> <for>for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License<operator>,</operator> <expr_stmt><expr><name>Version</name> <literal type="number">2.0</literal>
<operator>(</operator><name>the</name> <literal type="string">"License"</literal><operator>)</operator></expr>;</expr_stmt></for> <expr_stmt><expr><name>you</name> <name>may</name> <name>not</name> <name>use</name> <name>this</name> <name>file</name> <name>except</name> <name>in</name> <name>compliance</name> <name>with</name>
<name>the</name> <name><name>License</name><operator>.</operator> <name>You</name></name> <name>may</name> <name>obtain</name> <name>a</name> <name>copy</name> <name>of</name> <name>the</name> <name>License</name> <name>at</name>

<name>http</name><operator>:</operator><comment type="line">//www.apache.org/licenses/LICENSE-2.0</comment>

<name>Unless</name> <name>required</name> <name>by</name> <name>applicable</name> <name>law</name> <name>or</name> <name>agreed</name> <name>to</name> <name>in</name> <name>writing</name></expr><operator>,</operator> <expr><name>software</name>
<name>distributed</name> <name>under</name> <name>the</name> <name>License</name> <name>is</name> <name>distributed</name> <name>on</name> <name>an</name> <literal type="string">"AS IS"</literal> <name>BASIS</name></expr><operator>,</operator>
<expr><name>WITHOUT</name> <name>WARRANTIES</name> <name>OR</name> <name>CONDITIONS</name> <name>OF</name> <name>ANY</name> <name>KIND</name></expr><operator>,</operator> <expr><name>either</name> <name>express</name> <name>or</name> <name><name>implied</name><operator>.</operator>
<name>See</name></name> <name>the</name> <name>License</name></expr></expr_stmt> <for>for the specific language governing permissions and
limitations under the License.
-&gt;

Ambari API Reference v1
=========

The Ambari API facilitates the management and monitoring of the resources of an Apache Hadoop cluster. This document describes the resources and syntax used in the Ambari API and is intended for developers who want to integrate with Ambari.

 [Release Version]<control>(<init><expr><operator>#</operator><name>release</name><operator>-</operator><name>version</name></expr></init>)</control><block type="pseudo"><block_content>
 <expr_stmt><expr><index>[<expr><name>Authentication</name></expr>]</index><operator>(</operator><operator>#</operator><name>authentication</name><operator>)</operator>
 <index>[<expr><name>Monitoring</name></expr>]</index><operator>(</operator><operator>#</operator><name>monitoring</name><operator>)</operator>
 <index>[<expr><name>Management</name></expr>]</index><operator>(</operator><operator>#</operator><name>management</name><operator>)</operator>
 <index>[<expr><name>Resources</name></expr>]</index><operator>(</operator><operator>#</operator><name>resources</name><operator>)</operator>
 <index>[<expr><name>Partial</name> <name>Response</name></expr>]</index><operator>(</operator><operator>#</operator><name>partial</name><operator>-</operator><name>response</name><operator>)</operator>
 <index>[<expr><name>Query</name> <name>Parameters</name></expr>]</index><operator>(</operator><operator>#</operator><name>query</name><operator>-</operator><name>parameters</name><operator>)</operator>
 <index>[<expr><name>Batch</name> <name>Requests</name></expr>]</index><operator>(</operator><operator>#</operator><name>batch</name><operator>-</operator><name>requests</name><operator>)</operator>
 <index>[<expr><name>RequestInfo</name></expr>]</index><operator>(</operator><operator>#</operator><name>request</name><operator>-</operator><name>info</name><operator>)</operator>
 <index>[<expr><name>Errors</name></expr>]</index><operator>(</operator><operator>#</operator><name>errors</name><operator>)</operator>


<name>Release</name> <name>Version</name>
<operator>--</operator><operator>-</operator>
<name>_Last</name> <name>Updated</name> <name>April</name> <literal type="number">25</literal></expr><operator>,</operator> <expr><literal type="number">2013_</literal>

<name>Authentication</name>
<operator>--</operator><operator>-</operator>

<name>The</name> <name>operations</name> <name>you</name> <name>perform</name> <name>against</name> <name>the</name> <name>Ambari</name> <name>API</name> <name>require</name> <name><name>authentication</name><operator>.</operator> <name>Access</name></name> <name>to</name> <name>the</name> <name>API</name> <name>requires</name> <name>the</name> <name>use</name> <name>of</name> <operator>*</operator><operator>*</operator><name>Basic</name> <name>Authentication</name><operator>*</operator><operator>*</operator><operator>.</operator> <name>To</name> <name>use</name> <name>Basic</name> <name>Authentication</name></expr><operator>,</operator> <expr><name>you</name> <name>need</name> <name>to</name> <name>send</name> <name>the</name> <operator>*</operator><operator>*</operator><name>Authorization</name><operator>:</operator> <name>Basic</name><operator>*</operator><operator>*</operator> <name>header</name> <name>with</name> <name>your</name> <name><name>requests</name><operator>.</operator> <name>For</name></name> <name>example</name></expr><operator>,</operator> <expr><name>this</name> <name>can</name> <name>be</name> <name>handled</name> <name>when</name> <name>using</name> <name>curl</name> <name>and</name> <name>the</name> <operator>--</operator><name>user</name> <name><name>option</name><operator>.</operator>

    <name>curl</name></name> <operator>--</operator><name>user</name> <name>name</name><operator>:</operator><name>password</name> <name>http</name><operator>:</operator><comment type="line">//{your.ambari.server}/api/v1/clusters</comment>

<name>_Note</name><operator>:</operator> <name>The</name> <name>authentication</name> <name>method</name> <name>and</name> <name>source</name> <name>is</name> <name>configured</name> <name>at</name> <name>the</name> <name>Ambari</name> <name><name>Server</name><operator>.</operator> <name>Changing</name></name> <name>and</name> <name>configuring</name> <name>the</name> <name>authentication</name> <name>method</name> <name>and</name> <name>source</name> <name>is</name> <name>not</name> <name>covered</name> <name>in</name> <name>this</name> <name><name>document</name><operator>.</operator><name>_</name></name>

<name>Monitoring</name>
<operator>--</operator><operator>-</operator>
<name>The</name> <name>Ambari</name> <name>API</name> <name>provides</name> <name>access</name> <name>to</name> <name>monitoring</name> <name>and</name> <name>metrics</name> <name>information</name> <name>of</name> <name>an</name> <name>Apache</name> <name>Hadoop</name> <name><name>cluster</name><operator>.</operator></name>

#<operator>#</operator><operator>#</operator><name>GET</name>
<name>Use</name> <name>the</name> <name>GET</name> <name>method</name> <name>to</name> <name>read</name> <name>the</name> <name>properties</name></expr><operator>,</operator> <expr><name>metrics</name> <name>and</name> <name>sub</name><operator>-</operator><name>resources</name> <name>of</name> <name>an</name> <name>Ambari</name> <name><name>resource</name><operator>.</operator>  <name>Calling</name></name> <name>the</name> <name>GET</name> <name>method</name> <name>returns</name> <name>the</name> <name>requested</name> <name>resources</name> <name>and</name> <name>produces</name> <name>no</name> <name>side</name><operator>-</operator><name><name>effects</name><operator>.</operator>  <name>A</name></name> <name>response</name> <name>code</name> <name>of</name> <literal type="number">200</literal> <name>indicates</name> <name>that</name> <name>the</name> <name>request</name> <name>was</name> <name>successfully</name> <name>processed</name> <name>with</name> <name>the</name> <name>requested</name> <name>resource</name> <name>included</name> <name>in</name> <name>the</name> <name>response</name> <name><name>body</name><operator>.</operator></name>
 
*<operator>*</operator><name>Example</name><operator>*</operator><operator>*</operator>

<name>Get</name> <name>the</name> <name>DATANODE</name> <name>component</name> <name>resource</name></expr></expr_stmt></block_content></block></for> <for>for the HDFS service of the cluster named 'c1'.

    GET /clusters/c1/services/HDFS/components/DATANODE

**Response**

    200 OK
    <block>{<block_content>
    	<expr_stmt><expr><literal type="string">"href"</literal> <operator>:</operator> <literal type="string">"http://your.ambari.server/api/v1/clusters/c1/services/HDFS/components/DATANODE"</literal></expr><operator>,</operator>
    	<expr><literal type="string">"metrics"</literal> <operator>:</operator> <block>{
    		<expr><literal type="string">"process"</literal> <operator>:</operator> <block>{
              <expr><literal type="string">"proc_total"</literal> <operator>:</operator> <literal type="number">697.75</literal></expr>,
              <expr><literal type="string">"proc_run"</literal> <operator>:</operator> <literal type="number">0.875</literal></expr>
    		}</block></expr>,
      		<expr><literal type="string">"rpc"</literal> <operator>:</operator> <block>{
        		<expr><operator>...</operator></expr>
      		}</block></expr>,
      		<expr><literal type="string">"ugi"</literal> <operator>:</operator> <block>{
      			<expr><operator>...</operator></expr>
      		}</block></expr>,
      		<expr><literal type="string">"dfs"</literal> <operator>:</operator> <block>{
        		<expr><literal type="string">"datanode"</literal> <operator>:</operator> <block>{
          		<expr><operator>...</operator></expr>
        		}</block></expr>
      		}</block></expr>,
      		<expr><literal type="string">"disk"</literal> <operator>:</operator> <block>{
        		<expr><operator>...</operator></expr>
      		}</block></expr>,
      		<expr><literal type="string">"cpu"</literal> <operator>:</operator> <block>{
        		<expr><operator>...</operator></expr>
      		}</block>
      		<operator>...</operator></expr>
        }</block></expr><operator>,</operator>
    	<expr><literal type="string">"ServiceComponentInfo"</literal> <operator>:</operator> <block>{
      		<expr><literal type="string">"cluster_name"</literal> <operator>:</operator> <literal type="string">"c1"</literal></expr>,
      		<expr><literal type="string">"component_name"</literal> <operator>:</operator> <literal type="string">"DATANODE"</literal></expr>,
      		<expr><literal type="string">"service_name"</literal> <operator>:</operator> <literal type="string">"HDFS"</literal>
      		<literal type="string">"state"</literal> <operator>:</operator> <literal type="string">"STARTED"</literal></expr>
    	}</block></expr><operator>,</operator>
    	<expr><literal type="string">"host_components"</literal> <operator>:</operator> <index>[
      		<expr><block>{
      			<expr><literal type="string">"href"</literal> <operator>:</operator> <literal type="string">"http://your.ambari.server/api/v1/clusters/c1/hosts/host1/host_components/DATANODE"</literal></expr>,
      			<expr><literal type="string">"HostRoles"</literal> <operator>:</operator> <block>{
        			<expr><literal type="string">"cluster_name"</literal> <operator>:</operator> <literal type="string">"c1"</literal></expr>,
        			<expr><literal type="string">"component_name"</literal> <operator>:</operator> <literal type="string">"DATANODE"</literal></expr>,
        			<expr><literal type="string">"host_name"</literal> <operator>:</operator> <literal type="string">"host1"</literal></expr>
        		}</block></expr>
      		}</block></expr>
       	]</index></expr></expr_stmt>
    </block_content>}</block></for>


<expr_stmt><expr><name>Management</name>
<operator>--</operator><operator>-</operator>
<name>The</name> <name>Ambari</name> <name>API</name> <name>provides</name></expr></expr_stmt> <for>for the management of the resources of an Apache Hadoop cluster.  This includes the creation<operator>,</operator> <expr_stmt><expr><name>deletion</name> <name>and</name> <name>updating</name> <name>of</name> <name><name>resources</name><operator>.</operator></name>

#<operator>#</operator><operator>#</operator><name>POST</name>
<name>The</name> <name>POST</name> <name>method</name> <name>creates</name> <name>a</name> <operator>new</operator> <name><name>resource</name><operator>.</operator> <name>If</name></name> <name>a</name> <operator>new</operator> <name>resource</name> <name>is</name> <name>created</name> <name>then</name> <name>a</name> <literal type="number">201</literal> <name>response</name> <name>code</name> <name>is</name> <name><name>returned</name><operator>.</operator>  <name>The</name></name> <name>code</name> <literal type="number">202</literal> <name>can</name> <name>also</name> <name>be</name> <name>returned</name> <name>to</name> <name>indicate</name> <name>that</name> <name>the</name> <name>instruction</name> <name>was</name> <name>accepted</name> <name>by</name> <name>the</name> <call><name>server</name> <argument_list>(<argument><expr><name><name>see</name> <index>[<expr><name>asynchronous</name> <name>response</name></expr>]</index></name><operator>(</operator><operator>#</operator><name>asynchronous</name><operator>-</operator><name>response</name><operator>)</operator></expr></argument>)</argument_list></call><operator>.</operator> 

<operator>*</operator><operator>*</operator><name>Example</name><operator>*</operator><operator>*</operator>

<name>Create</name> <name>the</name> <name>HDFS</name> <name><name>service</name><operator>.</operator>


    <name>POST</name></name> <operator>/</operator><name>clusters</name><operator>/</operator><name>c1</name><operator>/</operator><name>services</name><operator>/</operator><name>HDFS</name>


<operator>*</operator><operator>*</operator><name>Response</name><operator>*</operator><operator>*</operator>

    <literal type="number">201</literal> <name>Created</name>

#<operator>#</operator><operator>#</operator><name>PUT</name>
<name>Use</name> <name>the</name> <name>PUT</name> <name>method</name> <name>to</name> <name>update</name> <name><name>resources</name><operator>.</operator>  <name>If</name></name> <name>an</name> <name>existing</name> <name>resource</name> <name>is</name> <name>modified</name> <name>then</name> <name>a</name> <literal type="number">200</literal> <name>response</name> <name>code</name> <name>is</name> <name>retrurned</name> <name>to</name> <name>indicate</name> <name>successful</name> <name>completion</name> <name>of</name> <name>the</name> <name><name>request</name><operator>.</operator>  <name>The</name></name> <name>response</name> <name>code</name> <literal type="number">202</literal> <name>can</name> <name>also</name> <name>be</name> <name>returned</name> <name>to</name> <name>indicate</name> <name>that</name> <name>the</name> <name>instruction</name> <name>was</name> <name>accepted</name> <name>by</name> <name>the</name> <call><name>server</name> <argument_list>(<argument><expr><name><name>see</name> <index>[<expr><name>asynchronous</name> <name>response</name></expr>]</index></name><operator>(</operator><operator>#</operator><name>asynchronous</name><operator>-</operator><name>response</name><operator>)</operator></expr></argument>)</argument_list></call><operator>.</operator>

<operator>*</operator><operator>*</operator><name>Example</name><operator>*</operator><operator>*</operator>

<name>Start</name> <name>the</name> <name>HDFS</name> <call><name>service</name> <argument_list>(<argument><expr><name>update</name> <name>the</name> <name>state</name> <name>of</name> <name>the</name> <name>HDFS</name> <name>service</name> <name>to</name> <name>be</name> <name>âSTARTEDâ</name></expr></argument>)</argument_list></call><operator>.</operator>


    <name>PUT</name> <operator>/</operator><name>clusters</name><operator>/</operator><name>c1</name><operator>/</operator><name>services</name><operator>/</operator><name>HDFS</name><operator>/</operator>

<operator>*</operator><operator>*</operator><name>Body</name><operator>*</operator><operator>*</operator>

    <block>{
      <expr><literal type="string">"ServiceInfo"</literal><operator>:</operator> <block>{
        <expr><literal type="string">"state"</literal> <operator>:</operator> <literal type="string">"STARTEDâ
      }
    }


**Response**

The response code 202 indicates that the server has accepted the instruction to update the resource.  The body of the response contains the ID and href of the request resource that was created to carry out the instruction (see [asynchronous response](#asynchronous-response)).

    202 Accepted
    {
      "</literal><name>href</name><literal type="string">" : "</literal><name>http</name><operator>:</operator><comment type="line">//your.ambari.server/api/v1/clusters/c1/requests/3",</comment>
      <literal type="string">"Requests"</literal> <operator>:</operator> <block>{
        <expr><literal type="string">"id"</literal> <operator>:</operator> <literal type="number">3</literal></expr>,
        <expr><literal type="string">"status"</literal> <operator>:</operator> <literal type="string">"InProgress"</literal></expr>
      }</block></expr> 
    }</block>


#<operator>#</operator><operator>#</operator><name>DELETE</name>
<name>Use</name> <name>the</name> <name>DELETE</name> <name>method</name> <name>to</name> <name>delete</name> <name>a</name> <name><name>resource</name><operator>.</operator> <name>If</name></name> <name>an</name> <name>existing</name> <name>resource</name> <name>is</name> <name>deleted</name> <name>then</name> <name>a</name> <literal type="number">200</literal> <name>response</name> <name>code</name> <name>is</name> <name>retrurned</name> <name>to</name> <name>indicate</name> <name>successful</name> <name>completion</name> <name>of</name> <name>the</name> <name><name>request</name><operator>.</operator>  <name>The</name></name> <name>response</name> <name>code</name> <literal type="number">202</literal> <name>can</name> <name>also</name> <name>be</name> <name>returned</name> <name>which</name> <name>indicates</name> <name>that</name> <name>the</name> <name>instruction</name> <name>was</name> <name>accepted</name> <name>by</name> <name>the</name> <name>server</name> <name>and</name> <name>the</name> <name>resource</name> <name>was</name> <name>marked</name></expr> <for>for deletion <control>(<init><expr><name><name>see</name> <index>[<expr><name>asynchronous</name> <name>response</name></expr>]</index></name><operator>(</operator><operator>#</operator><name>asynchronous</name><operator>-</operator><name>response</name><operator>)</operator></expr></init>)</control><block type="pseudo"><block_content><expr_stmt><expr><operator>.</operator>

<operator>*</operator><operator>*</operator><name>Example</name><operator>*</operator><operator>*</operator>

<name>Delete</name> <name>the</name> <name>cluster</name> <name>named</name> <literal type="char">'c1'</literal><operator>.</operator>

    <name>DELETE</name> <operator>/</operator><name>clusters</name><operator>/</operator><name>c1</name>

<operator>*</operator><operator>*</operator><name>Response</name><operator>*</operator><operator>*</operator>

    <literal type="number">200</literal> <name>OK</name>

#<operator>#</operator><operator>#</operator><name>Asynchronous</name> <name>Response</name>

<name>The</name> <name>managment</name> <name>APIs</name> <name>can</name></expr></expr_stmt></block_content></block></for> <return>return <expr><name>a</name> <name>response</name> <name>code</name> <name>of</name> <literal type="number">202</literal> <name>which</name> <name>indicates</name> <name>that</name> <name>the</name> <name>request</name> <name>has</name> <name>been</name> <name><name>accepted</name><operator>.</operator>  <name>The</name></name> <name>body</name> <name>of</name> <name>the</name> <name>response</name> <name>contains</name> <name>the</name> <name>ID</name> <name>and</name> <name>href</name> <name>of</name> <name>the</name> <name>request</name> <name>resource</name> <name>that</name> <name>was</name> <name>created</name> <name>to</name> <name>carry</name> <name>out</name> <name>the</name> <name><name>instruction</name><operator>.</operator></name> 
    
    202 <name>Accepted</name>
    <block>{
      <expr><literal type="string">"href"</literal> <operator>:</operator> <literal type="string">"http://your.ambari.server/api/v1/clusters/c1/requests/6"</literal></expr>,
      <expr><literal type="string">"Requests"</literal> <operator>:</operator> <block>{
        <expr><literal type="string">"id"</literal> <operator>:</operator> <literal type="number">6</literal></expr>,
        <expr><literal type="string">"status"</literal> <operator>:</operator> <literal type="string">"InProgress"</literal></expr>
      }</block></expr> 
    }</block>

<name>The</name> <name>href</name> <name>in</name> <name>the</name> <name>response</name> <name>body</name> <name>can</name> <name>then</name> <name>be</name> <name>used</name> <name>to</name> <name>query</name> <name>the</name> <name>associated</name> <name>request</name> <name>resource</name> <name>and</name> <name>monitor</name> <name>the</name> <name>progress</name> <name>of</name> <name>the</name> <name><name>request</name><operator>.</operator>  <name>A</name></name> <name>request</name> <name>resource</name> <name>has</name> <name>one</name> <name>or</name> <name>more</name> <name>task</name> <name>sub</name> <name><name>resources</name><operator>.</operator>  <name>The</name></name> <name>following</name> <name>example</name> <name>shows</name> <name>how</name> <name>to</name> <name><name>use</name> <index>[<expr><name>partial</name> <name>response</name></expr>]</index></name><operator>(</operator><operator>#</operator><name>partial</name><operator>-</operator><name>response</name><operator>)</operator> <name>to</name> <name>query</name></expr></return> <for>for task resources of a request resource. 

    /clusters/c1/requests/6?fields=tasks/Tasks<comment type="block">/*   
    
The returned task resources can be used to determine the status of the request.

    {
      "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/6",
      "Requests" : {
        "id" : 6,
        "cluster_name" : "c1"
      },
      "tasks" : [
        {
          "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/6/tasks/32",
          "Tasks" : {
            "exit_code" : 777,
            "stdout" : "default org.apache.hadoop.mapred.CapacityTaskScheduler\nwarning: Dynamic lookup of ...",
            "status" : "IN_PROGRESS",
            "stderr" : "",
            "host_name" : "dev.hortonworks.com",
            "id" : 32,
            "cluster_name" : "c1",
            "attempt_cnt" : 1,
            "request_id" : 6,
            "command" : "START",
            "role" : "NAMENODE",
            "start_time" : 1367240498196,
            "stage_id" : 1
          }
        },
        {
          "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/6/tasks/33",
          "Tasks" : {
            "exit_code" : 999,
            "stdout" : "",
            "status" : "PENDING",
            ...
          }
        },
        {
          "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/6/tasks/31",
          "Tasks" : {
            "exit_code" : 0,
            "stdout" : "warning: Dynamic lookup of $ambari_db_rca_username ...",
            "status" : "COMPLETED",
            ...
          }
        }
      ]
    }

Resources
---
###Collection Resources


A collection resource is a set of resources of the same type, rather than any specific resource. For example:

    /clusters  

  _Refers to a collection of clusters_

###Instance Resources

An instance resource is a single specific resource. For example:

    /clusters/c1

  _Refers to the cluster resource identified by the id "c1"_

###Types
Resources are grouped into types.  This allows the user to query for collections of resources of the same type.  Some resource types are composed of subtypes (e.g. services are sub-resources of clusters).

The following is a list of some of the Ambari resource types with descriptions and usage examples.
 
#### clusters
Cluster resources represent named Hadoop clusters.  Clusters are top level resources. 

[Cluster Resources](cluster-resources.md)

#### services
Service resources are services of a Hadoop cluster (e.g. HDFS, MapReduce and Ganglia).  Service resources are sub-resources of clusters. 

[Service Resources](service-resources.md)

#### components
Component resources are the individual components of a service (e.g. HDFS/NameNode and MapReduce/JobTracker).  Components are sub-resources of services.

[Component Resources](component-resources.md)

#### hosts
Host resources are the host machines that make up a Hadoop cluster.  Hosts are top level resources but can also be sub-resources of clusters. 

[Host Resources](host-resources.md)


#### host_components
Host component resources are usages of a component on a particular host.  Host components are sub-resources of hosts.

[Host Component Resources](host-component-resources.md)


#### configurations
Configuration resources are sets of key/value pairs that configure the services of a Hadoop cluster.

[Configuration Resource Overview](configuration.md)


#### workflows
Workflow resources are DAGs of MapReduce jobs in a Hadoop cluster.

[Workflow Resources](workflow-resources.md)

#### jobs
Job resources represent individual nodes (MapReduce jobs) in a workflow.

[Job Resources](job-resources.md)

#### taskattempts
Task attempt resources are individual attempts at map or reduce tasks for a job.

[Task Attempt Resources](taskattempt-resources.md)


Partial Response
---

Used to control which fields are returned by a query.  Partial response can be used to restrict which fields are returned and additionally, it allows a query to reach down and return data from sub-resources.  The keyword âfieldsâ is used to specify a partial response.  Only the fields specified will be returned to the client.  To specify sub-elements, use the notation âa/b/câ.  Properties, categories and sub-resources can be specified.  The wildcard â*â can be used to show all categories, fields and sub-resources for a resource.  This can be combined to provide âexpandâ functionality for sub-components.  Some fields are always returned for a resource regardless of the specified partial response fields.  These fields are the fields, which uniquely identify the resource.  This would be the primary id field of the resource and the foreign keys to the primary id fields of all ancestors of the resource.

**Example: Using Partial Response to restrict response to a specific field**

    GET    /api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/disk/disk_total

    200 OK
	{
    	âhrefâ: â.../api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/disk/disk_totalâ,
    	âServiceComponentInfoâ : {
        	âcluster_nameâ : âc1â,
        	âcomponent_nameâ : NAMENODEâ,
        	âservice_nameâ : âHDFSâ
    	},
    	âmetricsâ : {
        	"disk" : {       
            	"disk_total" : 100000
        	}
    	}
    }

**Example: Using Partial Response to restrict response to specified category**

    GET    /api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/disk

    200 OK
	{
    	âhrefâ: â.../api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/diskâ,
    	âServiceComponentInfoâ : {
        	âcluster_nameâ : âc1â,
        	âcomponent_nameâ : NAMENODEâ,
        	âservice_nameâ : âHDFSâ
    	},
    	âmetricsâ : {
        	"disk" : {       
            	"disk_total" : 100000,
            	âdisk_freeâ : 50000,
            	âpart_max_usedâ : 1010
        	}
    	}
	}

**Example â Using Partial Response to restrict response to multiple fields/categories**

	GET	/api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/disk/disk_total,metrics/cpu
	
	200 OK
	{
    	âhrefâ: â.../api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/disk/disk_total,metrics/cpuâ,
    	âServiceComponentInfoâ : {
        	âcluster_nameâ : âc1â,
        	âcomponent_nameâ : NAMENODEâ,
        	âservice_nameâ : âHDFSâ
    	},
    	âmetricsâ : {
        	"disk" : {       
            	"disk_total" : 100000
        	},
        	âcpuâ : {
            	âcpu_speedâ : 10000000,
            	âcpu_numâ : 4,
            	âcpu_idleâ : 999999,
            	...
        	}
    	}
	}

**Example â Using Partial Response to restrict response to a sub-resource**

	GET	/api/v1/clusters/c1/hosts/host1?fields=host_components

	200 OK
	{
    	âhrefâ: â.../api/v1/clusters/c1/hosts/host1?fields=host_componentsâ,
    	âHostsâ : {
        	âcluster_nameâ : âc1â,
        	âhost_nameâ : âhost1â
    	},
    	âhost_componentsâ: [
        	{
            	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/NAMENODEâ
            	âHostRolesâ : {
                	âcluster_nameâ : âc1â,
                	âcomponent_nameâ : âNAMENODEâ,
                	âhost_nameâ : âhost1â
            	}
        	},
        	{
            	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/DATANODEâ
            	âHostRolesâ : {
                	âcluster_nameâ : âc1â,
                	âcomponent_nameâ : DATANODEâ,
                	âhost_nameâ : âhost1â
            	}
        	},
            ... 
    	]
	}

**Example â Using Partial Response to expand a sub-resource one level deep**

	GET	/api/v1/clusters/c1/hosts/host1?fields=host_components/*

	200 OK
	{
    	âhrefâ: â.../api/v1/clusters/c1/hosts/host1?fields=host_components/*â,
    	âHostsâ : {
        	âcluster_nameâ : âc1â,
        	âhost_nameâ : âhost1â
        },
        âhost_componentsâ: [
        	{
            	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/DATANODEâ
            	âHostRolesâ : {
                	âcluster_nameâ : âc1â,
               		âcomponent_nameâ : DATANODEâ,
                	âhost_nameâ : âhost1â,
                	âstateâ : âRUNNINGâ,
                	...
            	},        
            	"host" : {     
                	"href" : ".../api/v1/clusters/c1/hosts/host1"  
            	},
            	âmetricsâ : {
                	"disk" : {       
                    	"disk_total" : 100000000,       
                    	"disk_free" : 5000000,       
                    	"part_max_used" : 10101     
                	},
                	...
            	},
            	"component" : {
                	"href" : "http://ambari.server/api/v1/clusters/c1/services/HDFS/components/NAMENODE", 
                	âServiceComponentInfoâ : {
                    	"cluster_name" : "c1",         
                    	"component_name" : "NAMENODE",         
                    	"service_name" : "HDFS"       
                	}
            	}  
        	},
        	...
    	]
	}

**Example â Using Partial Response for multi-level expansion of sub-resources**
	
	GET /api/v1/clusters/c1/hosts/host1?fields=host_components/component/*
	
	200 OK
	{
    	âhrefâ: âhttp://ambari.server/api/v1/clusters/c1/hosts/host1?fields=host_components/*â,
    	âHostsâ : {
        	âcluster_nameâ : âc1â,
        	âhost_nameâ : âhost1â
        	...
    	},
    	âhost_componentsâ: [
    		{
            	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/DATANODEâ,
            	âHostRolesâ : {
                	âcluster_nameâ : âc1â,
                	âcomponent_nameâ : DATANODEâ,
                	âhost_nameâ : âhost1â
            	}, 
            	"component" : {
                	"href" : "http://ambari.server/api/v1/clusters/c1/services/HDFS/components/DATANODE", 
                	âServiceComponentInfoâ : {
                   		"cluster_name" : "c1",         
                    	"component_name" : "DATANODE",         
                    	"service_name" : "HDFS"  
                    	...     
                	},
             		âmetricsâ: {
                   		âdfsâ: {
                       		âdatanodeâ : {
          	                	âblocks_written " :  10000,
          	                	âblocks_read" : 5000,
                             	...
                        	}
                    	},
                    	âdiskâ: {
                       		"disk_total " :  1000000,
                        	âdisk_free" : 50000,
                        	...
                    	},
                   		... 	
					}
            	}
        	},
        	{
            	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/NAMENODEâ,
            	âHostRolesâ : {
                	âcluster_nameâ : âc1â,
                	âcomponent_nameâ : NAMENODEâ,
                	âhost_nameâ : âhost1â
            	}, 
            	"component" : {
                	"href" : "http://ambari.server/api/v1/clusters/c1/services/HDFS/components/NAMENODE", 
                	âServiceComponentInfoâ : {
                   		"cluster_name" : "c1",         
                    	"component_name" : "NAMENODE",         
                    	"service_name" : "HDFS"       
                	},
             		âmetricsâ: {
                    	âdfsâ: {
                       		ânamenodeâ : {
          	            		âFilesRenamed " :  10,
          	            		âFilesDeleted" : 5
                         		â¦
                    		}
						},	
                    	âdiskâ: {
                       		"disk_total " :  1000000,
                       		âdisk_free" : 50000,
                        	...
                    	}
                	},
                	...
            	}
        	},
        	...
    	]
	}

**Example: Using Partial Response to expand collection resource instances one level deep**

	GET /api/v1/clusters/c1/hosts?fields=*

	200 OK
	{
    	âhrefâ : âhttp://ambari.server/api/v1/clusters/c1/hosts/?fields=*â,    
    	âitemsâ: [ 
        	{
            	âhrefâ : âhttp://ambari.server/api/v1/clusters/c1/hosts/host1â,
            	âHostsâ : {
                	âcluster_nameâ :  âc1â,
                	âhost_nameâ : âhost1â
            	},
            	âmetricsâ: {
                	âprocessâ: {          	    
                   		"proc_total" : 1000,
          	       		"proc_run" : 1000
                	},
                	...
            	},
            	âhost_componentsâ: [
                	{
                   		âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/NAMENODEâ
                    	âHostRolesâ : {
                       		âcluster_nameâ : âc1â,
                         	âcomponent_nameâ : âNAMENODEâ,
                        	âhost_nameâ : âhost1â
                    	}
                	},
                	{
                    	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/DATANODEâ
                    	âHostRolesâ : {
                       		âcluster_nameâ : âc1â,
                        	âcomponent_nameâ : DATANODEâ,
                        	âhost_nameâ : âhost1â
                    	}
                	},
                	...
            	},
            	...
        	},
        	{
            	âhrefâ : âhttp://ambari.server/api/v1/clusters/c1/hosts/host2â,
            	âHostsâ : {
                	âcluster_nameâ :  âc1â,
                	âhost_nameâ : âhost2â
            	},
            	âmetricsâ: {
               		âprocessâ: {          	    
                   		"proc_total" : 555,
          	     		"proc_run" : 55
                	},
                	...
            	},
            	âhost_componentsâ: [
                	{
                   		âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/DATANODEâ
                    	âHostRolesâ : {
                       		âcluster_nameâ : âc1â,
                        	âcomponent_nameâ : âDATANODEâ,
                        	âhost_nameâ : âhost2â
                    	}
                	},
                	...
            	],
            	...
        	},
        	...
    	]
	}

### Additional Partial Response Examples

**Example â For each cluster, get cluster name, all hostnameâs and all service names**

	GET   /api/v1/clusters?fields=Clusters/cluster_name,hosts/Hosts/host_name,services/ServiceInfo/service_name

**Example - Get all hostnameâs for a given component**

	GET	/api/v1/clusters/c1/services/HDFS/components/DATANODE?fields=host_components/HostRoles/host_name

**Example - Get all hostnameâs and component names for a given service**

	GET	/api/v1/clusters/c1/services/HDFS?fields=components/host_components/HostRoles/host_name,
                                      	          components/host_components/HostRoles/component_name



Query Predicates
---

Used to limit which data is returned by a query.  This is synonymous to the âwhereâ clause in a SQL query.  Providing query parameters does not result in any link expansion in the data that is returned, with the exception of the fields used in the predicates.  Query predicates can only be applied to collection resources.  A predicate consists of at least one relational expression.  Predicates with multiple relational expressions also contain logical operators, which connect the relational expressions.  Predicates may also use brackets for explicit grouping of expressions. 

###Relational Query Operators

&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Operator&lt;/th&gt;
    &lt;th&gt;Example&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;=&lt;/td&gt;
    &lt;td&gt;name=host1&lt;/td&gt;
    &lt;td&gt;String or numerical EQUALS&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;!=&lt;/td&gt;
    &lt;td&gt;name!=host1&lt;/td&gt;
    &lt;td&gt;String or numerical NOT EQUALS&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&amp;lt;&lt;/td&gt;
    &lt;td&gt;disk_total&amp;lt;50&lt;/td&gt;
    &lt;td&gt;Numerical LESS THAN&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&amp;gt;&lt;/td&gt;
    &lt;td&gt;disk_total&amp;gt;50&lt;/td&gt;
    &lt;td&gt;Numerical GREATER THAN&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&amp;lt;=&lt;/td&gt;
    &lt;td&gt;disk_total&amp;lt;=50&lt;/td&gt;
    &lt;td&gt;Numerical LESS THAN OR EQUALS&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&amp;gt;=&lt;/td&gt;
    &lt;td&gt;disk_total&amp;gt;=50&lt;/td&gt;
    &lt;td&gt;Numerical GREATER THAN OR EQUALS&lt;/td&gt;
  &lt;/tr&gt;  
&lt;/table&gt;

###Logical Query Operators

&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Operator&lt;/th&gt;
    &lt;th&gt;Example&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;|&lt;/td&gt;
    &lt;td&gt;name=host1|name=host2&lt;/td&gt;
    &lt;td&gt;Logical OR operator&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&amp;&lt;/td&gt;
    &lt;td&gt;prop1=foo&amp;prop2=bar&lt;/td&gt;
    &lt;td&gt;Logical AND operator&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;!&lt;/td&gt;
    &lt;td&gt;!prop&lt;50&lt;/td&gt;
    &lt;td&gt;Logical NOT operator&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

**Logical Operator Precedence**

Standard logical operator precedence rules apply.  The above logical operators are listed in order of precedence starting with the lowest priority.  

###Brackets

&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Bracket&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;(&lt;/td&gt;
    &lt;td&gt;Opening Bracket&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;)&lt;/td&gt;
    &lt;td&gt;Closing Bracket&lt;/td&gt;
  &lt;/tr&gt;

&lt;/table&gt;
  
Brackets can be used to provide explicit grouping of expressions. Expressions within brackets have the highest precedence.

###Operator Functions
 
&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Operator&lt;/th&gt;
    &lt;th&gt;Example&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;in()&lt;/td&gt;
    &lt;td&gt;name.in(foo,bar)&lt;/td&gt;
    &lt;td&gt;IN function.  More compact form of name=foo|name=bar. &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;isEmpty()&lt;/td&gt;
    &lt;td&gt;category.isEmpty()&lt;/td&gt;
    &lt;td&gt;Used to determine if a category contains any properties. &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
Operator functions behave like relational operators and provide additional functionality.  Some operator functions, such as in(), act as binary operators like the above relational operators, where there is a left and right operand.  Some operator functions are unary operators, such as isEmpty(), where there is only a single operand.

###Query Examples

**Example â Get all hosts with âHEALTHYâ status that have 2 or more cpu**
	
	GET	/api/v1/clusters/c1/hosts?Hosts/host_status=HEALTHY&amp;Hosts/cpu_count&gt;=2
	
**Example â Get all hosts with less than 2 cpu or host status != HEALTHY**
	

	GET	/api/v1/clusters/c1/hosts?Hosts/cpu_count&lt;2|Hosts/host_status!=HEALTHY

**Example â Get all ârhel6â hosts with less than 2 cpu or âcentos6â hosts with 3 or more cpu**  

	GET	/api/v1/clusters/c1/hosts?Hosts/os_type=rhel6&amp;Hosts/cpu_count&lt;2|Hosts/os_type=centos6&amp;Hosts/cpu_count&gt;=3

**Example â Get all hosts where either state != âHEALTHYâ or last_heartbeat_time &lt; 1360600135905 and rack_info=âdefault_rackâ**

	GET	/api/v1/clusters/c1/hosts?(Hosts/host_status!=HEALTHY|Hosts/last_heartbeat_time&lt;1360600135905)
                                  &amp;Hosts/rack_info=default_rack

**Example â Get hosts with host name of host1 or host2 or host3 using IN operator**
	
	GET	/api/v1/clusters/c1/hosts?Hosts/host_name.in(host1,host2,host3)

**Example â Get and expand all HDFS components, which have at least 1 property in the âmetrics/jvmâ category (combines query and partial response syntax)**

	GET	/api/v1/clusters/c1/services/HDFS/components?!metrics/jvm.isEmpty()&amp;fields=*

**Example â Update the state of all âINSTALLEDâ services to be âSTARTEDâ**

	PUT /api/v1/clusters/c1/services?ServiceInfo/state=INSTALLED 
    {
      "ServiceInfo": {
        "state" : "STARTEDâ
      }
    }

Batch Requests
---
Requests can be batched.  This allows for multiple bodies to be specified as an array in a single request. 

**Example â Creating multiple hosts in a single request**
     
    POST /api/v1/clusters/c1/hosts/         

    [
      {
        "Hosts" : {
          "cluster_name" : "c1",
          "host_name" : "host1"
        }
      },
      {
        "Hosts" : {
          "cluster_name" : "c1",
          "host_name" : "host2"
        }
      },
      {
        "Hosts" : {
          "cluster_name" : "c1",
          "host_name" : "host3"
        }
      }
    ]


RequestInfo
---
RequestInfo allows the user to specify additional properties in the body of a request.

&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Key&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;query&lt;/td&gt;
    &lt;td&gt;The query string for the request.  Useful for overcoming length limits of the URL and for specifying a query string for each element of a batch request.&lt;/td&gt;  
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;context&lt;/td&gt;
    &lt;td&gt;The context string.  The API client can pass a string context to able to specify what the requests were for (e.g., "HDFS Service Start", "Add Hosts", etc.)&lt;/td&gt;  
  &lt;/tr&gt;
&lt;/table&gt;

###query


The query property allows the user to specify yhe query string as part of the request body.  This is sometimes required in the case of a very long query string that causes the request to exceed the limits of the URL.

**Example â Specifying the query string in the request body**

    PUT  /clusters/c1/services
    
    {
      "RequestInfo":{
        "query":"ServiceInfo/state=STARTED&amp;ServiceInfo/service_name=HDFS&amp;â¦"
      },

      "Body":
      {
        "ServiceInfo": {
          "state" : "INSTALLED"
        }
      }
    }
    
The query property can also be applied to the elements of a [batch request](#batch-request).

**Example â Specifying the query string in the request body for a batch request**


    PUT /api/v1/clusters/c1/hosts
    
    [
      {
        "RequestInfo":{
          "query":"Hosts/host_name=host1"
        },
        "Body":
        {
          "Hosts": {
            "desired_config": {
              "type": "global",
              "tag": "version50",
              "properties": { "a": "b", "x": "y" }
            }
          }
        }
      },
      {
        "RequestInfo":{
          "query":"Hosts/host_name=host2"
        },
        "Body":
        {
          "Hosts": {
            "desired_config": {
              "type": "global",
              "tag": "version51",
              "properties": { "a": "c", "x": "z" }
            }
          }
        }
      }
    ]


###context
In some cases a request will return a 202 to indicate that the instruction was accepted by the server (see [asynchronous response](#asynchronous-response)).  In these cases the body of the response contains the ID and href of the request resource that was created to carry out the instruction.  It may be desirable to attach a context string to the request which will then be assigned to the resulting request response.

In the following example a request is made to stop the HDFS service.  Notice that a context is passed as a RequestInfo property.

**Example â Specifying the query string in the request body**

    PUT  /clusters/c1/services
    
    {
      "RequestInfo":{
        "query":"ServiceInfo/state=STARTED&amp;ServiceInfo/service_name=HDFS",
        "context":"Stop HDFS service."
      },

      "Body":
      {
        "ServiceInfo": {
          "state" : "INSTALLED"
        }
      }
    }

**Response**

    {
      "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/13",
      "Requests" : {
        "id" : 13,
        "status" : "InProgress"
      }
    }
    
When the request resource returned in the above example is queried, the supplied context string is returned as part of the response.

    GET api/v1/clusters/c1/requests/13 

**Response**


    {
      "href" : "http://ec2-50-19-183-89.compute-1.amazonaws.com:8080/api/v1/clusters/c1/requests/13",
      "Requests" : {
        "id" : 13,
        "cluster_name" : "c1",
        "request_context" : "Stop HDFS service."
      },
      "tasks" : [
        â¦
      ]
    }
 

Temporal Metrics
---

Some metrics have values that are available across a range in time.  To query a metric for a range of values, the following partial response syntax is used.  

To get temporal data for a single property:
?fields=category/property[start-time,end-time,step]	

To get temporal data for all properties in a category:
?fields=category[start-time,end-time,step]

start-time: Required field.  The start time for the query in Unix epoch time format.
end-time: Optional field, defaults to now.  The end time for the query in Unix epoch time format.
step: Optional field, defaults to the corresponding metrics systemâs default value.  If provided, end-time must also be provided. The interval of time between returned data points specified in seconds. The larger the value provided, the fewer data points returned so this can be used to limit how much data is returned for the given time range.  This is only used as a suggestion so the result interval may differ from the one specified.

The returned result is a list of data points over the specified time range.  Each data point is a value / timestamp pair.

**Note**: It is important to understand that requesting large amounts of temporal data may result in severe performance degradation.  **Always** request the minimal amount of information necessary.  If large amounts of data are required, consider splitting the request up into multiple smaller requests.

**Example â Temporal Query for a single property using only start-time**

	GET	/api/v1/clusters/c1/hosts/host1?fields=metrics/jvm/gcCount[1360610225]

	
	200 OK
	{
    	âhrefâ : â¦/api/v1/clusters/c1/hosts/host1?fields=metrics/jvm/gcCount[1360610225]â,
    	...
    	âmetricsâ: [
        	{
            	âjvmâ: {
          	    	"gcCount" : [
                   		[10, 1360610165],
                     	[12, 1360610180],
                     	[13, 1360610195],
                     	[14, 1360610210],
                     	[15, 1360610225]
                  	]
             	}
         	}
    	]
	}

**Example â Temporal Query for a category using start-time, end-time and step**

	GET	/api/v1/clusters/c1/hosts/host1?fields=metrics/jvm[1360610200,1360610500,100]

	200 OK
	{
    	âhrefâ : â¦/clusters/c1/hosts/host1?fields=metrics/jvm[1360610200,1360610500,100]â,
    	...
    	âmetricsâ: [
        	{
            	âjvmâ: {
          	    	"gcCount" : [
                   		[10, 1360610200],
                     	[12, 1360610300],
                     	[13, 1360610400],
                     	[14, 1360610500]
                  	],
                	"gcTimeMillis" : [
                   		[1000, 1360610200],
                     	[2000, 1360610300],
                     	[5000, 1360610400],
                     	[9500, 1360610500]
                  	],
                  	...
             	}
         	}
    	]
	}

	


HTTP Return Codes
---

The following HTTP codes may be returned by the API.
&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;HTTP CODE&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;200&lt;/td&gt;
    &lt;td&gt;OK&lt;/td&gt;  
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;400&lt;/td&gt;
    &lt;td&gt;Bad Request&lt;/td&gt;  
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;401&lt;/td&gt;
    &lt;td&gt;Unauthorized&lt;/td&gt;  
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;403&lt;/td&gt;
    &lt;td&gt;Forbidden&lt;/td&gt;  
  &lt;/tr&gt; 
  &lt;tr&gt;
    &lt;td&gt;404&lt;/td&gt;
    &lt;td&gt;Not Found&lt;/td&gt;  
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;500&lt;/td&gt;
    &lt;td&gt;Internal Server Error&lt;/td&gt;  
  &lt;/tr&gt;
&lt;/table&gt;


Errors
---

**Example errors responses**

    404 Not Found
	{   
    	"status" : 404,   
    	"message" : "The requested resource doesn't exist: Cluster not found, clusterName=someInvalidCluster" 
	} 

&amp;nbsp;

	400 Bad Request
	{   
    	"status" : 400,   
    	"message" : "The properties [foo] specified in the request or predicate are not supported for the 
                	 resource type Cluster."
	}


\ No newline at end of file
&lt;!---
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--&gt;

Ambari API Reference v1
=========

The Ambari API facilitates the management and monitoring of the resources of an Apache Hadoop cluster. This document describes the resources and syntax used in the Ambari API and is intended for developers who want to integrate with Ambari.

- [Release Version](#release-version)
- [Authentication](#authentication)
- [Monitoring](#monitoring)
- [Management](#management)
- [Resources](#resources)
- [Partial Response](#partial-response)
- [Query Parameters](#query-parameters)
- [Batch Requests](#batch-requests)
- [RequestInfo](#request-info)
- [Errors](#errors)


Release Version
----
_Last Updated April 25, 2013_

Authentication
----

The operations you perform against the Ambari API require authentication. Access to the API requires the use of **Basic Authentication**. To use Basic Authentication, you need to send the **Authorization: Basic** header with your requests. For example, this can be handled when using curl and the --user option.

    curl --user name:password http://{your.ambari.server}/api/v1/clusters

_Note: The authentication method and source is configured at the Ambari Server. Changing and configuring the authentication method and source is not covered in this document._

Monitoring
----
The Ambari API provides access to monitoring and metrics information of an Apache Hadoop cluster.

###GET
Use the GET method to read the properties, metrics and sub-resources of an Ambari resource.  Calling the GET method returns the requested resources and produces no side-effects.  A response code of 200 indicates that the request was successfully processed with the requested resource included in the response body.
 
**Example**

Get the DATANODE component resource for the HDFS service of the cluster named 'c1'.

    GET /clusters/c1/services/HDFS/components/DATANODE

**Response**

    200 OK
    {
    	"href" : "http://your.ambari.server/api/v1/clusters/c1/services/HDFS/components/DATANODE",
    	"metrics" : {
    		"process" : {
              "proc_total" : 697.75,
              "proc_run" : 0.875
    		},
      		"rpc" : {
        		...
      		},
      		"ugi" : {
      			...
      		},
      		"dfs" : {
        		"datanode" : {
          		...
        		}
      		},
      		"disk" : {
        		...
      		},
      		"cpu" : {
        		...
      		}
      		...
        },
    	"ServiceComponentInfo" : {
      		"cluster_name" : "c1",
      		"component_name" : "DATANODE",
      		"service_name" : "HDFS"
      		"state" : "STARTED"
    	},
    	"host_components" : [
      		{
      			"href" : "http://your.ambari.server/api/v1/clusters/c1/hosts/host1/host_components/DATANODE",
      			"HostRoles" : {
        			"cluster_name" : "c1",
        			"component_name" : "DATANODE",
        			"host_name" : "host1"
        		}
      		}
       	]
    }


Management
----
The Ambari API provides for the management of the resources of an Apache Hadoop cluster.  This includes the creation, deletion and updating of resources.

###POST
The POST method creates a new resource. If a new resource is created then a 201 response code is returned.  The code 202 can also be returned to indicate that the instruction was accepted by the server (see [asynchronous response](#asynchronous-response)). 

**Example**

Create the HDFS service.


    POST /clusters/c1/services/HDFS


**Response**

    201 Created

###PUT
Use the PUT method to update resources.  If an existing resource is modified then a 200 response code is retrurned to indicate successful completion of the request.  The response code 202 can also be returned to indicate that the instruction was accepted by the server (see [asynchronous response](#asynchronous-response)).

**Example**

Start the HDFS service (update the state of the HDFS service to be âSTARTEDâ).


    PUT /clusters/c1/services/HDFS/

**Body**

    {
      "ServiceInfo": {
        "state" : "STARTEDâ
      }
    }


**Response**

The response code 202 indicates that the server has accepted the instruction to update the resource.  The body of the response contains the ID and href of the request resource that was created to carry out the instruction (see [asynchronous response](#asynchronous-response)).

    202 Accepted
    {
      "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/3",
      "Requests" : {
        "id" : 3,
        "status" : "InProgress"
      } 
    }


###DELETE
Use the DELETE method to delete a resource. If an existing resource is deleted then a 200 response code is retrurned to indicate successful completion of the request.  The response code 202 can also be returned which indicates that the instruction was accepted by the server and the resource was marked for deletion (see [asynchronous response](#asynchronous-response)).

**Example**

Delete the cluster named 'c1'.

    DELETE /clusters/c1

**Response**

    200 OK

###Asynchronous Response

The managment APIs can return a response code of 202 which indicates that the request has been accepted.  The body of the response contains the ID and href of the request resource that was created to carry out the instruction. 
    
    202 Accepted
    {
      "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/6",
      "Requests" : {
        "id" : 6,
        "status" : "InProgress"
      } 
    }

The href in the response body can then be used to query the associated request resource and monitor the progress of the request.  A request resource has one or more task sub resources.  The following example shows how to use [partial response](#partial-response) to query for task resources of a request resource. 

    /clusters/c1/requests/6?fields=tasks/Tasks/*   
    
The returned task resources can be used to determine the status of the request.

    {
      "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/6",
      "Requests" : {
        "id" : 6,
        "cluster_name" : "c1"
      },
      "tasks" : [
        {
          "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/6/tasks/32",
          "Tasks" : {
            "exit_code" : 777,
            "stdout" : "default org.apache.hadoop.mapred.CapacityTaskScheduler\nwarning: Dynamic lookup of ...",
            "status" : "IN_PROGRESS",
            "stderr" : "",
            "host_name" : "dev.hortonworks.com",
            "id" : 32,
            "cluster_name" : "c1",
            "attempt_cnt" : 1,
            "request_id" : 6,
            "command" : "START",
            "role" : "NAMENODE",
            "start_time" : 1367240498196,
            "stage_id" : 1
          }
        },
        {
          "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/6/tasks/33",
          "Tasks" : {
            "exit_code" : 999,
            "stdout" : "",
            "status" : "PENDING",
            ...
          }
        },
        {
          "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/6/tasks/31",
          "Tasks" : {
            "exit_code" : 0,
            "stdout" : "warning: Dynamic lookup of $ambari_db_rca_username ...",
            "status" : "COMPLETED",
            ...
          }
        }
      ]
    }

Resources
----
###Collection Resources


A collection resource is a set of resources of the same type, rather than any specific resource. For example:

    /clusters  

  _Refers to a collection of clusters_

###Instance Resources

An instance resource is a single specific resource. For example:

    /clusters/c1

  _Refers to the cluster resource identified by the id "c1"_

###Types
Resources are grouped into types.  This allows the user to query for collections of resources of the same type.  Some resource types are composed of subtypes (e.g. services are sub-resources of clusters).

The following is a list of some of the Ambari resource types with descriptions and usage examples.
 
#### clusters
Cluster resources represent named Hadoop clusters.  Clusters are top level resources. 

[Cluster Resources](cluster-resources.md)

#### services
Service resources are services of a Hadoop cluster (e.g. HDFS, MapReduce and Ganglia).  Service resources are sub-resources of clusters. 

[Service Resources](service-resources.md)

#### components
Component resources are the individual components of a service (e.g. HDFS/NameNode and MapReduce/JobTracker).  Components are sub-resources of services.

[Component Resources](component-resources.md)

#### hosts
Host resources are the host machines that make up a Hadoop cluster.  Hosts are top level resources but can also be sub-resources of clusters. 

[Host Resources](host-resources.md)


#### host_components
Host component resources are usages of a component on a particular host.  Host components are sub-resources of hosts.

[Host Component Resources](host-component-resources.md)


#### configurations
Configuration resources are sets of key/value pairs that configure the services of a Hadoop cluster.

[Configuration Resource Overview](configuration.md)


#### workflows
Workflow resources are DAGs of MapReduce jobs in a Hadoop cluster.

[Workflow Resources](workflow-resources.md)

#### jobs
Job resources represent individual nodes (MapReduce jobs) in a workflow.

[Job Resources](job-resources.md)

#### taskattempts
Task attempt resources are individual attempts at map or reduce tasks for a job.

[Task Attempt Resources](taskattempt-resources.md)


Partial Response
----

Used to control which fields are returned by a query.  Partial response can be used to restrict which fields are returned and additionally, it allows a query to reach down and return data from sub-resources.  The keyword âfieldsâ is used to specify a partial response.  Only the fields specified will be returned to the client.  To specify sub-elements, use the notation âa/b/câ.  Properties, categories and sub-resources can be specified.  The wildcard â*â can be used to show all categories, fields and sub-resources for a resource.  This can be combined to provide âexpandâ functionality for sub-components.  Some fields are always returned for a resource regardless of the specified partial response fields.  These fields are the fields, which uniquely identify the resource.  This would be the primary id field of the resource and the foreign keys to the primary id fields of all ancestors of the resource.

**Example: Using Partial Response to restrict response to a specific field**

    GET    /api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/disk/disk_total

    200 OK
	{
    	âhrefâ: â.../api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/disk/disk_totalâ,
    	âServiceComponentInfoâ : {
        	âcluster_nameâ : âc1â,
        	âcomponent_nameâ : NAMENODEâ,
        	âservice_nameâ : âHDFSâ
    	},
    	âmetricsâ : {
        	"disk" : {       
            	"disk_total" : 100000
        	}
    	}
    }

**Example: Using Partial Response to restrict response to specified category**

    GET    /api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/disk

    200 OK
	{
    	âhrefâ: â.../api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/diskâ,
    	âServiceComponentInfoâ : {
        	âcluster_nameâ : âc1â,
        	âcomponent_nameâ : NAMENODEâ,
        	âservice_nameâ : âHDFSâ
    	},
    	âmetricsâ : {
        	"disk" : {       
            	"disk_total" : 100000,
            	âdisk_freeâ : 50000,
            	âpart_max_usedâ : 1010
        	}
    	}
	}

**Example â Using Partial Response to restrict response to multiple fields/categories**

	GET	/api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/disk/disk_total,metrics/cpu
	
	200 OK
	{
    	âhrefâ: â.../api/v1/clusters/c1/services/HDFS/components/NAMENODE?fields=metrics/disk/disk_total,metrics/cpuâ,
    	âServiceComponentInfoâ : {
        	âcluster_nameâ : âc1â,
        	âcomponent_nameâ : NAMENODEâ,
        	âservice_nameâ : âHDFSâ
    	},
    	âmetricsâ : {
        	"disk" : {       
            	"disk_total" : 100000
        	},
        	âcpuâ : {
            	âcpu_speedâ : 10000000,
            	âcpu_numâ : 4,
            	âcpu_idleâ : 999999,
            	...
        	}
    	}
	}

**Example â Using Partial Response to restrict response to a sub-resource**

	GET	/api/v1/clusters/c1/hosts/host1?fields=host_components

	200 OK
	{
    	âhrefâ: â.../api/v1/clusters/c1/hosts/host1?fields=host_componentsâ,
    	âHostsâ : {
        	âcluster_nameâ : âc1â,
        	âhost_nameâ : âhost1â
    	},
    	âhost_componentsâ: [
        	{
            	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/NAMENODEâ
            	âHostRolesâ : {
                	âcluster_nameâ : âc1â,
                	âcomponent_nameâ : âNAMENODEâ,
                	âhost_nameâ : âhost1â
            	}
        	},
        	{
            	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/DATANODEâ
            	âHostRolesâ : {
                	âcluster_nameâ : âc1â,
                	âcomponent_nameâ : DATANODEâ,
                	âhost_nameâ : âhost1â
            	}
        	},
            ... 
    	]
	}

**Example â Using Partial Response to expand a sub-resource one level deep**

	GET	/api/v1/clusters/c1/hosts/host1?fields=host_components/*

	200 OK
	{
    	âhrefâ: â.../api/v1/clusters/c1/hosts/host1?fields=host_components/*â,
    	âHostsâ : {
        	âcluster_nameâ : âc1â,
        	âhost_nameâ : âhost1â
        },
        âhost_componentsâ: [
        	{
            	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/DATANODEâ
            	âHostRolesâ : {
                	âcluster_nameâ : âc1â,
               		âcomponent_nameâ : DATANODEâ,
                	âhost_nameâ : âhost1â,
                	âstateâ : âRUNNINGâ,
                	...
            	},        
            	"host" : {     
                	"href" : ".../api/v1/clusters/c1/hosts/host1"  
            	},
            	âmetricsâ : {
                	"disk" : {       
                    	"disk_total" : 100000000,       
                    	"disk_free" : 5000000,       
                    	"part_max_used" : 10101     
                	},
                	...
            	},
            	"component" : {
                	"href" : "http://ambari.server/api/v1/clusters/c1/services/HDFS/components/NAMENODE", 
                	âServiceComponentInfoâ : {
                    	"cluster_name" : "c1",         
                    	"component_name" : "NAMENODE",         
                    	"service_name" : "HDFS"       
                	}
            	}  
        	},
        	...
    	]
	}

**Example â Using Partial Response for multi-level expansion of sub-resources**
	
	GET /api/v1/clusters/c1/hosts/host1?fields=host_components/component/*
	
	200 OK
	{
    	âhrefâ: âhttp://ambari.server/api/v1/clusters/c1/hosts/host1?fields=host_components/*â,
    	âHostsâ : {
        	âcluster_nameâ : âc1â,
        	âhost_nameâ : âhost1â
        	...
    	},
    	âhost_componentsâ: [
    		{
            	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/DATANODEâ,
            	âHostRolesâ : {
                	âcluster_nameâ : âc1â,
                	âcomponent_nameâ : DATANODEâ,
                	âhost_nameâ : âhost1â
            	}, 
            	"component" : {
                	"href" : "http://ambari.server/api/v1/clusters/c1/services/HDFS/components/DATANODE", 
                	âServiceComponentInfoâ : {
                   		"cluster_name" : "c1",         
                    	"component_name" : "DATANODE",         
                    	"service_name" : "HDFS"  
                    	...     
                	},
             		âmetricsâ: {
                   		âdfsâ: {
                       		âdatanodeâ : {
          	                	âblocks_written " :  10000,
          	                	âblocks_read" : 5000,
                             	...
                        	}
                    	},
                    	âdiskâ: {
                       		"disk_total " :  1000000,
                        	âdisk_free" : 50000,
                        	...
                    	},
                   		... 	
					}
            	}
        	},
        	{
            	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/NAMENODEâ,
            	âHostRolesâ : {
                	âcluster_nameâ : âc1â,
                	âcomponent_nameâ : NAMENODEâ,
                	âhost_nameâ : âhost1â
            	}, 
            	"component" : {
                	"href" : "http://ambari.server/api/v1/clusters/c1/services/HDFS/components/NAMENODE", 
                	âServiceComponentInfoâ : {
                   		"cluster_name" : "c1",         
                    	"component_name" : "NAMENODE",         
                    	"service_name" : "HDFS"       
                	},
             		âmetricsâ: {
                    	âdfsâ: {
                       		ânamenodeâ : {
          	            		âFilesRenamed " :  10,
          	            		âFilesDeleted" : 5
                         		â¦
                    		}
						},	
                    	âdiskâ: {
                       		"disk_total " :  1000000,
                       		âdisk_free" : 50000,
                        	...
                    	}
                	},
                	...
            	}
        	},
        	...
    	]
	}

**Example: Using Partial Response to expand collection resource instances one level deep**

	GET /api/v1/clusters/c1/hosts?fields=*

	200 OK
	{
    	âhrefâ : âhttp://ambari.server/api/v1/clusters/c1/hosts/?fields=*â,    
    	âitemsâ: [ 
        	{
            	âhrefâ : âhttp://ambari.server/api/v1/clusters/c1/hosts/host1â,
            	âHostsâ : {
                	âcluster_nameâ :  âc1â,
                	âhost_nameâ : âhost1â
            	},
            	âmetricsâ: {
                	âprocessâ: {          	    
                   		"proc_total" : 1000,
          	       		"proc_run" : 1000
                	},
                	...
            	},
            	âhost_componentsâ: [
                	{
                   		âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/NAMENODEâ
                    	âHostRolesâ : {
                       		âcluster_nameâ : âc1â,
                         	âcomponent_nameâ : âNAMENODEâ,
                        	âhost_nameâ : âhost1â
                    	}
                	},
                	{
                    	âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/DATANODEâ
                    	âHostRolesâ : {
                       		âcluster_nameâ : âc1â,
                        	âcomponent_nameâ : DATANODEâ,
                        	âhost_nameâ : âhost1â
                    	}
                	},
                	...
            	},
            	...
        	},
        	{
            	âhrefâ : âhttp://ambari.server/api/v1/clusters/c1/hosts/host2â,
            	âHostsâ : {
                	âcluster_nameâ :  âc1â,
                	âhost_nameâ : âhost2â
            	},
            	âmetricsâ: {
               		âprocessâ: {          	    
                   		"proc_total" : 555,
          	     		"proc_run" : 55
                	},
                	...
            	},
            	âhost_componentsâ: [
                	{
                   		âhrefâ: ââ¦/api/v1/clusters/c1/hosts/host1/host_components/DATANODEâ
                    	âHostRolesâ : {
                       		âcluster_nameâ : âc1â,
                        	âcomponent_nameâ : âDATANODEâ,
                        	âhost_nameâ : âhost2â
                    	}
                	},
                	...
            	],
            	...
        	},
        	...
    	]
	}

### Additional Partial Response Examples

**Example â For each cluster, get cluster name, all hostnameâs and all service names**

	GET   /api/v1/clusters?fields=Clusters/cluster_name,hosts/Hosts/host_name,services/ServiceInfo/service_name

**Example - Get all hostnameâs for a given component**

	GET	/api/v1/clusters/c1/services/HDFS/components/DATANODE?fields=host_components/HostRoles/host_name

**Example - Get all hostnameâs and component names for a given service**

	GET	/api/v1/clusters/c1/services/HDFS?fields=components/host_components/HostRoles/host_name,
                                      	          components/host_components/HostRoles/component_name



Query Predicates
----

Used to limit which data is returned by a query.  This is synonymous to the âwhereâ clause in a SQL query.  Providing query parameters does not result in any link expansion in the data that is returned, with the exception of the fields used in the predicates.  Query predicates can only be applied to collection resources.  A predicate consists of at least one relational expression.  Predicates with multiple relational expressions also contain logical operators, which connect the relational expressions.  Predicates may also use brackets for explicit grouping of expressions. 

###Relational Query Operators

&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Operator&lt;/th&gt;
    &lt;th&gt;Example&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;=&lt;/td&gt;
    &lt;td&gt;name=host1&lt;/td&gt;
    &lt;td&gt;String or numerical EQUALS&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;!=&lt;/td&gt;
    &lt;td&gt;name!=host1&lt;/td&gt;
    &lt;td&gt;String or numerical NOT EQUALS&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&amp;lt;&lt;/td&gt;
    &lt;td&gt;disk_total&amp;lt;50&lt;/td&gt;
    &lt;td&gt;Numerical LESS THAN&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&amp;gt;&lt;/td&gt;
    &lt;td&gt;disk_total&amp;gt;50&lt;/td&gt;
    &lt;td&gt;Numerical GREATER THAN&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&amp;lt;=&lt;/td&gt;
    &lt;td&gt;disk_total&amp;lt;=50&lt;/td&gt;
    &lt;td&gt;Numerical LESS THAN OR EQUALS&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&amp;gt;=&lt;/td&gt;
    &lt;td&gt;disk_total&amp;gt;=50&lt;/td&gt;
    &lt;td&gt;Numerical GREATER THAN OR EQUALS&lt;/td&gt;
  &lt;/tr&gt;  
&lt;/table&gt;

###Logical Query Operators

&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Operator&lt;/th&gt;
    &lt;th&gt;Example&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;|&lt;/td&gt;
    &lt;td&gt;name=host1|name=host2&lt;/td&gt;
    &lt;td&gt;Logical OR operator&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&amp;&lt;/td&gt;
    &lt;td&gt;prop1=foo&amp;prop2=bar&lt;/td&gt;
    &lt;td&gt;Logical AND operator&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;!&lt;/td&gt;
    &lt;td&gt;!prop&lt;50&lt;/td&gt;
    &lt;td&gt;Logical NOT operator&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

**Logical Operator Precedence**

Standard logical operator precedence rules apply.  The above logical operators are listed in order of precedence starting with the lowest priority.  

###Brackets

&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Bracket&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;(&lt;/td&gt;
    &lt;td&gt;Opening Bracket&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;)&lt;/td&gt;
    &lt;td&gt;Closing Bracket&lt;/td&gt;
  &lt;/tr&gt;

&lt;/table&gt;
  
Brackets can be used to provide explicit grouping of expressions. Expressions within brackets have the highest precedence.

###Operator Functions
 
&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Operator&lt;/th&gt;
    &lt;th&gt;Example&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;in()&lt;/td&gt;
    &lt;td&gt;name.in(foo,bar)&lt;/td&gt;
    &lt;td&gt;IN function.  More compact form of name=foo|name=bar. &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;isEmpty()&lt;/td&gt;
    &lt;td&gt;category.isEmpty()&lt;/td&gt;
    &lt;td&gt;Used to determine if a category contains any properties. &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
Operator functions behave like relational operators and provide additional functionality.  Some operator functions, such as in(), act as binary operators like the above relational operators, where there is a left and right operand.  Some operator functions are unary operators, such as isEmpty(), where there is only a single operand.

###Query Examples

**Example â Get all hosts with âHEALTHYâ status that have 2 or more cpu**
	
	GET	/api/v1/clusters/c1/hosts?Hosts/host_status=HEALTHY&amp;Hosts/cpu_count&gt;=2
	
**Example â Get all hosts with less than 2 cpu or host status != HEALTHY**
	

	GET	/api/v1/clusters/c1/hosts?Hosts/cpu_count&lt;2|Hosts/host_status!=HEALTHY

**Example â Get all ârhel6â hosts with less than 2 cpu or âcentos6â hosts with 3 or more cpu**  

	GET	/api/v1/clusters/c1/hosts?Hosts/os_type=rhel6&amp;Hosts/cpu_count&lt;2|Hosts/os_type=centos6&amp;Hosts/cpu_count&gt;=3

**Example â Get all hosts where either state != âHEALTHYâ or last_heartbeat_time &lt; 1360600135905 and rack_info=âdefault_rackâ**

	GET	/api/v1/clusters/c1/hosts?(Hosts/host_status!=HEALTHY|Hosts/last_heartbeat_time&lt;1360600135905)
                                  &amp;Hosts/rack_info=default_rack

**Example â Get hosts with host name of host1 or host2 or host3 using IN operator**
	
	GET	/api/v1/clusters/c1/hosts?Hosts/host_name.in(host1,host2,host3)

**Example â Get and expand all HDFS components, which have at least 1 property in the âmetrics/jvmâ category (combines query and partial response syntax)**

	GET	/api/v1/clusters/c1/services/HDFS/components?!metrics/jvm.isEmpty()&amp;fields=*

**Example â Update the state of all âINSTALLEDâ services to be âSTARTEDâ**

	PUT /api/v1/clusters/c1/services?ServiceInfo/state=INSTALLED 
    {
      "ServiceInfo": {
        "state" : "STARTEDâ
      }
    }

Batch Requests
---
Requests can be batched.  This allows for multiple bodies to be specified as an array in a single request. 

**Example â Creating multiple hosts in a single request**
     
    POST /api/v1/clusters/c1/hosts/         

    [
      {
        "Hosts" : {
          "cluster_name" : "c1",
          "host_name" : "host1"
        }
      },
      {
        "Hosts" : {
          "cluster_name" : "c1",
          "host_name" : "host2"
        }
      },
      {
        "Hosts" : {
          "cluster_name" : "c1",
          "host_name" : "host3"
        }
      }
    ]


RequestInfo
---
RequestInfo allows the user to specify additional properties in the body of a request.

&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Key&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;query&lt;/td&gt;
    &lt;td&gt;The query string for the request.  Useful for overcoming length limits of the URL and for specifying a query string for each element of a batch request.&lt;/td&gt;  
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;context&lt;/td&gt;
    &lt;td&gt;The context string.  The API client can pass a string context to able to specify what the requests were for (e.g., "HDFS Service Start", "Add Hosts", etc.)&lt;/td&gt;  
  &lt;/tr&gt;
&lt;/table&gt;

###query


The query property allows the user to specify yhe query string as part of the request body.  This is sometimes required in the case of a very long query string that causes the request to exceed the limits of the URL.

**Example â Specifying the query string in the request body**

    PUT  /clusters/c1/services
    
    {
      "RequestInfo":{
        "query":"ServiceInfo/state=STARTED&amp;ServiceInfo/service_name=HDFS&amp;â¦"
      },

      "Body":
      {
        "ServiceInfo": {
          "state" : "INSTALLED"
        }
      }
    }
    
The query property can also be applied to the elements of a [batch request](#batch-request).

**Example â Specifying the query string in the request body for a batch request**


    PUT /api/v1/clusters/c1/hosts
    
    [
      {
        "RequestInfo":{
          "query":"Hosts/host_name=host1"
        },
        "Body":
        {
          "Hosts": {
            "desired_config": {
              "type": "global",
              "tag": "version50",
              "properties": { "a": "b", "x": "y" }
            }
          }
        }
      },
      {
        "RequestInfo":{
          "query":"Hosts/host_name=host2"
        },
        "Body":
        {
          "Hosts": {
            "desired_config": {
              "type": "global",
              "tag": "version51",
              "properties": { "a": "c", "x": "z" }
            }
          }
        }
      }
    ]


###context
In some cases a request will return a 202 to indicate that the instruction was accepted by the server (see [asynchronous response](#asynchronous-response)).  In these cases the body of the response contains the ID and href of the request resource that was created to carry out the instruction.  It may be desirable to attach a context string to the request which will then be assigned to the resulting request response.

In the following example a request is made to stop the HDFS service.  Notice that a context is passed as a RequestInfo property.

**Example â Specifying the query string in the request body**

    PUT  /clusters/c1/services
    
    {
      "RequestInfo":{
        "query":"ServiceInfo/state=STARTED&amp;ServiceInfo/service_name=HDFS",
        "context":"Stop HDFS service."
      },

      "Body":
      {
        "ServiceInfo": {
          "state" : "INSTALLED"
        }
      }
    }

**Response**

    {
      "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/13",
      "Requests" : {
        "id" : 13,
        "status" : "InProgress"
      }
    }
    
When the request resource returned in the above example is queried, the supplied context string is returned as part of the response.

    GET api/v1/clusters/c1/requests/13 

**Response**


    {
      "href" : "http://ec2-50-19-183-89.compute-1.amazonaws.com:8080/api/v1/clusters/c1/requests/13",
      "Requests" : {
        "id" : 13,
        "cluster_name" : "c1",
        "request_context" : "Stop HDFS service."
      },
      "tasks" : [
        â¦
      ]
    }
 

Temporal Metrics
----

Some metrics have values that are available across a range in time.  To query a metric for a range of values, the following partial response syntax is used.  

To get temporal data for a single property:
?fields=category/property[start-time,end-time,step]	

To get temporal data for all properties in a category:
?fields=category[start-time,end-time,step]

start-time: Required field.  The start time for the query in Unix epoch time format.
end-time: Optional field, defaults to now.  The end time for the query in Unix epoch time format.
step: Optional field, defaults to the corresponding metrics systemâs default value.  If provided, end-time must also be provided. The interval of time between returned data points specified in seconds. The larger the value provided, the fewer data points returned so this can be used to limit how much data is returned for the given time range.  This is only used as a suggestion so the result interval may differ from the one specified.

The returned result is a list of data points over the specified time range.  Each data point is a value / timestamp pair.

**Note**: It is important to understand that requesting large amounts of temporal data may result in severe performance degradation.  **Always** request the minimal amount of information necessary.  If large amounts of data are required, consider splitting the request up into multiple smaller requests.

**Example â Temporal Query for a single property using only start-time**

	GET	/api/v1/clusters/c1/hosts/host1?fields=metrics/jvm/gcCount[1360610225]

	
	200 OK
	{
    	âhrefâ : â¦/api/v1/clusters/c1/hosts/host1?fields=metrics/jvm/gcCount[1360610225]â,
    	...
    	âmetricsâ: [
        	{
            	âjvmâ: {
          	    	"gcCount" : [
                   		[10, 1360610165],
                     	[12, 1360610180],
                     	[13, 1360610195],
                     	[14, 1360610210],
                     	[15, 1360610225]
                  	]
             	}
         	}
    	]
	}

**Example â Temporal Query for a category using start-time, end-time and step**

	GET	/api/v1/clusters/c1/hosts/host1?fields=metrics/jvm[1360610200,1360610500,100]

	200 OK
	{
    	âhrefâ : â¦/clusters/c1/hosts/host1?fields=metrics/jvm[1360610200,1360610500,100]â,
    	...
    	âmetricsâ: [
        	{
            	âjvmâ: {
          	    	"gcCount" : [
                   		[10, 1360610200],
                     	[12, 1360610300],
                     	[13, 1360610400],
                     	[14, 1360610500]
                  	],
                	"gcTimeMillis" : [
                   		[1000, 1360610200],
                     	[2000, 1360610300],
                     	[5000, 1360610400],
                     	[9500, 1360610500]
                  	],
                  	...
             	}
         	}
    	]
	}

	


HTTP Return Codes
----

The following HTTP codes may be returned by the API.
&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;HTTP CODE&lt;/th&gt;
    &lt;th&gt;Description&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;200&lt;/td&gt;
    &lt;td&gt;OK&lt;/td&gt;  
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;400&lt;/td&gt;
    &lt;td&gt;Bad Request&lt;/td&gt;  
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;401&lt;/td&gt;
    &lt;td&gt;Unauthorized&lt;/td&gt;  
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;403&lt;/td&gt;
    &lt;td&gt;Forbidden&lt;/td&gt;  
  &lt;/tr&gt; 
  &lt;tr&gt;
    &lt;td&gt;404&lt;/td&gt;
    &lt;td&gt;Not Found&lt;/td&gt;  
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;500&lt;/td&gt;
    &lt;td&gt;Internal Server Error&lt;/td&gt;  
  &lt;/tr&gt;
&lt;/table&gt;


Errors
----

**Example errors responses**

    404 Not Found
	{   
    	"status" : 404,   
    	"message" : "The requested resource doesn't exist: Cluster not found, clusterName=someInvalidCluster" 
	} 

&amp;nbsp;

	400 Bad Request
	{   
    	"status" : 400,   
    	"message" : "The properties [foo] specified in the request or predicate are not supported for the 
                	 resource type Cluster."
	}


diff --git a/ambari-server/docs/api/v1/job-resources.md b/ambari-server/docs/api/v1/job-resources.md
new file mode 100644
index 0000000000..428bc50e1d
-- /dev/null
++ b/ambari-server/docs/api/v1/job-resources.md
@@ -0,0 +1,22 @@
&lt;!---
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--&gt;

# Job Resources
 

- [List jobs](jobs.md)
- [View job information](jobs-job.md)
diff --git a/ambari-server/docs/api/v1/jobs-job.md b/ambari-server/docs/api/v1/jobs-job.md
new file mode 100644
index 0000000000..d5570836de
-- /dev/null
++ b/ambari-server/docs/api/v1/jobs-job.md
@@ -0,0 +1,60 @@
&lt;!---
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--&gt;

View Job Information
=====

[Back to Resources](index.md#resources)

Returns information about a single job in a given workflow.

    GET /clusters/:name/workflows/:workflowid/jobs/:jobid

**Response**

    200 OK
    {
        "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001/jobs/job_201305061943_0001",
        "Job" : {
            "cluster_name" : "c1",
            "workflow_id" : "mr_201305061943_0001",
            "job_id" : "job_201305061943_0001",
            "reduces" : 1,
            "status" : "SUCCESS",
            "workflow_entity_name" : "X",
            "input_bytes" : 2009,
            "output_bytes" : 1968,
            "conf_path" : "hdfs://your.server:8020/user/ambari-qa/\\.staging/job_201305061943_0001/job\\.xml",
            "user_name" : "ambari-qa",
            "elapsed_time" : 25734,
            "maps" : 1,
            "name" : "word count",
            "submit_time" : 1367883861310
        },
        "taskattempts" : [
            {
                "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001/jobs/job_201305061943_0001/taskattempts/attempt_201305061943_0001_m_000000_0",
                "Job" : {
                    "cluster_name" : "c1",
                    "workflow_id" : "mr_201305061943_0001",
                    "job_id" : "job_201305061943_0001",
                    "task_attempt_id" : "attempt_201305061943_0001_m_000000_0"
                }
            },
            ...
        ]
    }
diff --git a/ambari-server/docs/api/v1/jobs.md b/ambari-server/docs/api/v1/jobs.md
new file mode 100644
index 0000000000..13e0b00b89
-- /dev/null
++ b/ambari-server/docs/api/v1/jobs.md
@@ -0,0 +1,42 @@
&lt;!---
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--&gt;

List Jobs
=====

[Back to Resources](index.md#resources)

Returns a collection of all jobs in a given workflow.

    GET /clusters/:name/workflows/:workflowid/jobs

**Response**

    200 OK
    {
        "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001/jobs",
        "items" : [
            {
                "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001/jobs/job_201305061943_0001",
                "Job" : {
                    "cluster_name" : "c1",
                    "workflow_id" : "mr_201305061943_0001",
                    "job_id" : "job_201305061943_0001"
                }
            }
        ]
    }
diff --git a/ambari-server/docs/api/v1/services.md b/ambari-server/docs/api/v1/services.md
index a983a71fec..8a9b68d8df 100644
-- a/ambari-server/docs/api/v1/services.md
++ b/ambari-server/docs/api/v1/services.md
@@ -92,4 +92,4 @@ Get the collection of the services for the cluster named "c1".
         	  	}	
         	}
         ]
    }    
    }    
\ No newline at end of file
diff --git a/ambari-server/docs/api/v1/taskattempt-resources.md b/ambari-server/docs/api/v1/taskattempt-resources.md
new file mode 100644
index 0000000000..0e540a72ff
-- /dev/null
++ b/ambari-server/docs/api/v1/taskattempt-resources.md
@@ -0,0 +1,22 @@
&lt;!---
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--&gt;

# TaskAttempt Resources
 

- [List task attempts](taskattempts.md)
- [View task attempt information](taskattempts-taskattempt.md)
diff --git a/ambari-server/docs/api/v1/taskattempts-taskattempt.md b/ambari-server/docs/api/v1/taskattempts-taskattempt.md
new file mode 100644
index 0000000000..72bedf1dc1
-- /dev/null
++ b/ambari-server/docs/api/v1/taskattempts-taskattempt.md
@@ -0,0 +1,48 @@
&lt;!---
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--&gt;

View Task Attempt Information
=====

[Back to Resources](index.md#resources)

Returns information about a single task attempt for a given job.

    GET /clusters/:name/workflows/:workflowid/jobs/:jobid/taskattempts/:taskattempt

**Response**

    200 OK
    {
        "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001/jobs/job_201305061943_0001/taskattempts/attempt_201305061943_0001_m_000000_0",
        "TaskAttempt" : {
            "cluster_name" : "c1",
            "workflow_id" : "mr_201305061943_0001",
            "job_id" : "job_201305061943_0001",
            "task_attempt_id" : "attempt_201305061943_0001_m_000000_0",
            "status" : "SUCCESS",
            "finish_time" : 1367883874107,
            "input_bytes" : 2009,
            "type" : "MAP",
            "output_bytes" : 61842,
            "shuffle_finish_time" : 0,
            "locality" : "NODE_LOCAL",
            "start_time" : 1367883871399,
            "sort_finish_fime" : 0,
            "map_finish_time" : 1367883874107
        }
    }
diff --git a/ambari-server/docs/api/v1/taskattempts.md b/ambari-server/docs/api/v1/taskattempts.md
new file mode 100644
index 0000000000..1cdbca965d
-- /dev/null
++ b/ambari-server/docs/api/v1/taskattempts.md
@@ -0,0 +1,70 @@
&lt;!---
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--&gt;

List Task Attempts
=====

[Back to Resources](index.md#resources)

Returns a collection of all task attempts for a given job.

    GET /clusters/:name/workflows/:workflowid/jobs/:jobid/taskattempts

**Response**

    200 OK
    {
        "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001/jobs/job_201305061943_0001/taskattempts",
        "items" : [
            {
                "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001/jobs/job_201305061943_0001/taskattempts/attempt_201305061943_0001_m_000001_0",
                "TaskAttempt" : {
                    "cluster_name" : "c1",
                    "task_attempt_id" : "attempt_201305061943_0001_m_000001_0",
                    "workflow_id" : "mr_201305061943_0001",
                    "job_id" : "job_201305061943_0001"
                }
            },
            {
                "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001/jobs/job_201305061943_0001/taskattempts/attempt_201305061943_0001_m_000002_0",
                "TaskAttempt" : {
                    "cluster_name" : "c1",
                    "task_attempt_id" : "attempt_201305061943_0001_m_000002_0",
                    "workflow_id" : "mr_201305061943_0001",
                    "job_id" : "job_201305061943_0001"
                }
            },
            {
                "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001/jobs/job_201305061943_0001/taskattempts/attempt_201305061943_0001_r_000000_0",
                "TaskAttempt" : {
                    "cluster_name" : "c1",
                    "task_attempt_id" : "attempt_201305061943_0001_r_000000_0",
                    "workflow_id" : "mr_201305061943_0001",
                    "job_id" : "job_201305061943_0001"
                }
            },
            {
                "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001/jobs/job_201305061943_0001/taskattempts/attempt_201305061943_0001_m_000000_0",
                "TaskAttempt" : {
                    "cluster_name" : "c1",
                    "task_attempt_id" : "attempt_201305061943_0001_m_000000_0",
                    "workflow_id" : "mr_201305061943_0001",
                    "job_id" : "job_201305061943_0001"
                }
            }
        ]
    }
diff --git a/ambari-server/docs/api/v1/update-hostcomponent.md b/ambari-server/docs/api/v1/update-hostcomponent.md
index 161ea07815..ba862afe64 100644
-- a/ambari-server/docs/api/v1/update-hostcomponent.md
++ b/ambari-server/docs/api/v1/update-hostcomponent.md
@@ -1,3 +1,4 @@

 &lt;!---
 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements. See the NOTICE file distributed with
@@ -127,4 +128,4 @@ Put the NAMENODE component into 'MAINTENANCE' mode.
         "id" : 14,
         "status" : "InProgress"
       }
    }    
    }    
\ No newline at end of file
diff --git a/ambari-server/docs/api/v1/update-service.md b/ambari-server/docs/api/v1/update-service.md
index f27ed5ecdf..2f47ccd32e 100644
-- a/ambari-server/docs/api/v1/update-service.md
++ b/ambari-server/docs/api/v1/update-service.md
@@ -1,3 +1,4 @@

 &lt;!---
 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements. See the NOTICE file distributed with
@@ -22,39 +23,8 @@ Update Service
 
 **Summary**
 

    PUT /clusters/c1/services/HDFS/

**Body**

Start the HDFS service (update the state of the HDFS service to be âSTARTEDâ).


    PUT /clusters/c1/services/HDFS
    {
      "ServiceInfo": {
        "state" : "STARTEDâ
      }
    }

 Update the service identified by ":serviceName" of the cluster identified by ":clusterName".
 
**Response**

    202 Accepted
    {
      "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/3",
      "Requests" : {
        "id" : 3,
        "status" : "InProgress"
      } 
    }

**Example 2**

Stop the HDFS service (update the state of the HDFS service to be âINSTALLEDâ).


     PUT /clusters/:clusterName/services/:serviceName
 
 
@@ -94,6 +64,31 @@ Stop the HDFS service (update the state of the HDFS service to be âINSTALLED
 
 **Example 1**
 
Start the HDFS service (update the state of the HDFS service to be âSTARTEDâ).


    PUT /clusters/c1/services/HDFS
    {
      "ServiceInfo": {
        "state" : "STARTEDâ
      }
    }

    202 Accepted
    {
      "href" : "http://your.ambari.server/api/v1/clusters/c1/requests/3",
      "Requests" : {
        "id" : 3,
        "status" : "InProgress"
      } 
    }

**Example 2**

Stop the HDFS service (update the state of the HDFS service to be âINSTALLEDâ).


    PUT /clusters/c1/services/HDFS/
     {
       "ServiceInfo": {
         "state" : "INSTALLEDâ
diff --git a/ambari-server/docs/api/v1/update-services.md b/ambari-server/docs/api/v1/update-services.md
index 6fe3febe0e..a230ae654e 100644
-- a/ambari-server/docs/api/v1/update-services.md
++ b/ambari-server/docs/api/v1/update-services.md
@@ -1,3 +1,4 @@

 &lt;!---
 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements. See the NOTICE file distributed with
diff --git a/ambari-server/docs/api/v1/workflow-resources.md b/ambari-server/docs/api/v1/workflow-resources.md
new file mode 100644
index 0000000000..ab47339ead
-- /dev/null
++ b/ambari-server/docs/api/v1/workflow-resources.md
@@ -0,0 +1,22 @@
&lt;!---
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--&gt;

# Workflow Resources
 

- [List workflows](workflows.md)
- [View workflow information](workflows-workflow.md)
diff --git a/ambari-server/docs/api/v1/workflows-workflow.md b/ambari-server/docs/api/v1/workflows-workflow.md
new file mode 100644
index 0000000000..9280367289
-- /dev/null
++ b/ambari-server/docs/api/v1/workflows-workflow.md
@@ -0,0 +1,57 @@
&lt;!---
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--&gt;

View Workflow Information
=====

[Back to Resources](index.md#resources)

Returns information about a single workflow in a given cluster.

    GET /clusters/:name/workflows/:workflowid

**Response**

    200 OK
    {
        "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001",
        "Workflow" : {
            "cluster_name" : "c1",
            "workflow_id" : "mr_201305061943_0001"
            "last_update_time" : 1367883887044,
            "input_bytes" : 2009,
            "output_bytes" : 1968,
            "user_name" : "ambari-qa",
            "elapsed_time" : 25734,
            "num_jobs_total" : 1,
            "num_jobs_completed" : 1,
            "name" : "word count",
            "context" : "{\"workflowId\":null,\"workflowName\":null,\"workflowDag\":{\"entries\":[{\"source\":\"X\",\"targets\":[]}]},\"parentWorkflowContext\":null,\"workflowEntityName\":null}",
            "start_time" : 1367883861310,
            "parent_id" : null
        },
        "jobs" : [
            {
                "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001/jobs/job_201305061943_0001",
                "Job" : {
                    "cluster_name" : "c1",
                    "workflow_id" : "mr_201305061943_0001",
                    "job_id" : "job_201305061943_0001"
                }
            }
        ]
    }
diff --git a/ambari-server/docs/api/v1/workflows.md b/ambari-server/docs/api/v1/workflows.md
new file mode 100644
index 0000000000..b40a22ea1f
-- /dev/null
++ b/ambari-server/docs/api/v1/workflows.md
@@ -0,0 +1,48 @@
&lt;!---
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--&gt;

List Workflows
=====

[Back to Resources](index.md#resources)

Returns a collection of all workflows in a given cluster.

    GET /clusters/:name/workflows

**Response**

    200 OK
    {
        "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows",
        "items" : [
            {
                "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0001",
                "Workflow" : {
                    "cluster_name" : "c1",
                    "workflow_id" : "mr_201305061943_0001"
                }
            },
            {
                "href" : "http://your.ambari.server/api/v1/clusters/c1/workflows/mr_201305061943_0002",
                "Workflow" : {
                    "cluster_name" : "c1",
                    "workflow_id" : "mr_201305061943_0002"
                }
            }
        ]
    }
diff --git a/ambari-server/src/main/java/org/apache/ambari/server/state/ServiceComponentImpl.java b/ambari-server/src/main/java/org/apache/ambari/server/state/ServiceComponentImpl.java
index ca50d35ab2..2ee986c198 100644
-- a/ambari-server/src/main/java/org/apache/ambari/server/state/ServiceComponentImpl.java
++ b/ambari-server/src/main/java/org/apache/ambari/server/state/ServiceComponentImpl.java
@@ -20,6 +20,8 @@ package org.apache.ambari.server.state;
 
 import java.util.*;
 import java.util.Map.Entry;
import java.util.concurrent.locks.ReadWriteLock;
import java.util.concurrent.locks.ReentrantReadWriteLock;
 
 import com.google.gson.Gson;
 import com.google.inject.Inject;
@@ -41,6 +43,8 @@ public class ServiceComponentImpl implements ServiceComponent {
 
   private final static Logger LOG =
       LoggerFactory.getLogger(ServiceComponentImpl.class);
  
  ReadWriteLock readWriteLock = new ReentrantReadWriteLock();
 
   private final Service service;
 
@@ -154,260 +158,374 @@ public class ServiceComponentImpl implements ServiceComponent {
   }
 
   @Override
  public synchronized String getName() {
    return desiredStateEntity.getComponentName();
  public String getName() {
    readWriteLock.readLock().lock();
    try {
      return desiredStateEntity.getComponentName();
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized String getServiceName() {
    return service.getName();
  public String getServiceName() {
    readWriteLock.readLock().lock();
    try {
      return service.getName();
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized long getClusterId() {
    return this.service.getClusterId();
  public long getClusterId() {
    readWriteLock.readLock().lock();
    try {
      return this.service.getClusterId();
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized Map&lt;String, ServiceComponentHost&gt;
  public Map&lt;String, ServiceComponentHost&gt;
       getServiceComponentHosts() {
    return Collections.unmodifiableMap(hostComponents);
    readWriteLock.readLock().lock();
    try {
      return Collections.unmodifiableMap(hostComponents);
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized void addServiceComponentHosts(
  public void addServiceComponentHosts(
       Map&lt;String, ServiceComponentHost&gt; hostComponents) throws AmbariException {
    // TODO validation
    for (Entry&lt;String, ServiceComponentHost&gt; entry :
      hostComponents.entrySet()) {
      if (!entry.getKey().equals(entry.getValue().getHostName())) {
        throw new AmbariException("Invalid arguments in map"
            + ", hostname does not match the key in map");
    readWriteLock.writeLock().lock();
    try {
      // TODO validation
      for (Entry&lt;String, ServiceComponentHost&gt; entry :
          hostComponents.entrySet()) {
        if (!entry.getKey().equals(entry.getValue().getHostName())) {
          throw new AmbariException("Invalid arguments in map"
              + ", hostname does not match the key in map");
        }
       }
      for (ServiceComponentHost sch : hostComponents.values()) {
        addServiceComponentHost(sch);
      }
    } finally {
      readWriteLock.writeLock().unlock();
     }
    for (ServiceComponentHost sch : hostComponents.values()) {
      addServiceComponentHost(sch);
    }

   }
 
   @Override
  public synchronized void addServiceComponentHost(
  public void addServiceComponentHost(
       ServiceComponentHost hostComponent) throws AmbariException {
    // TODO validation
    // TODO ensure host belongs to cluster
    if (LOG.isDebugEnabled()) {
      LOG.debug("Adding a ServiceComponentHost to ServiceComponent"
          + ", clusterName=" + service.getCluster().getClusterName()
          + ", clusterId=" + service.getCluster().getClusterId()
          + ", serviceName=" + service.getName()
          + ", serviceComponentName=" + getName()
          + ", hostname=" + hostComponent.getHostName());
    }
    if (hostComponents.containsKey(hostComponent.getHostName())) {
      throw new AmbariException("Cannot add duplicate ServiceComponentHost"
          + ", clusterName=" + service.getCluster().getClusterName()
          + ", clusterId=" + service.getCluster().getClusterId()
          + ", serviceName=" + service.getName()
          + ", serviceComponentName=" + getName()
          + ", hostname=" + hostComponent.getHostName());
    readWriteLock.writeLock().lock();
    try {
      // TODO validation
      // TODO ensure host belongs to cluster
      if (LOG.isDebugEnabled()) {
        LOG.debug("Adding a ServiceComponentHost to ServiceComponent"
            + ", clusterName=" + service.getCluster().getClusterName()
            + ", clusterId=" + service.getCluster().getClusterId()
            + ", serviceName=" + service.getName()
            + ", serviceComponentName=" + getName()
            + ", hostname=" + hostComponent.getHostName());
      }
      if (hostComponents.containsKey(hostComponent.getHostName())) {
        throw new AmbariException("Cannot add duplicate ServiceComponentHost"
            + ", clusterName=" + service.getCluster().getClusterName()
            + ", clusterId=" + service.getCluster().getClusterId()
            + ", serviceName=" + service.getName()
            + ", serviceComponentName=" + getName()
            + ", hostname=" + hostComponent.getHostName());
      }
      // FIXME need a better approach of caching components by host
      ClusterImpl clusterImpl = (ClusterImpl) service.getCluster();
      clusterImpl.addServiceComponentHost(hostComponent);
      this.hostComponents.put(hostComponent.getHostName(), hostComponent);
    } finally {
      readWriteLock.writeLock().unlock();
     }
    // FIXME need a better approach of caching components by host
    ClusterImpl clusterImpl = (ClusterImpl) service.getCluster();
    clusterImpl.addServiceComponentHost(hostComponent);
    this.hostComponents.put(hostComponent.getHostName(), hostComponent);

   }
 
   @Override
  public synchronized ServiceComponentHost addServiceComponentHost(
  public ServiceComponentHost addServiceComponentHost(
       String hostName) throws AmbariException {
    // TODO validation
    // TODO ensure host belongs to cluster
    if (LOG.isDebugEnabled()) {
      LOG.debug("Adding a ServiceComponentHost to ServiceComponent"
          + ", clusterName=" + service.getCluster().getClusterName()
          + ", clusterId=" + service.getCluster().getClusterId()
          + ", serviceName=" + service.getName()
          + ", serviceComponentName=" + getName()
          + ", hostname=" + hostName);
    }
    if (hostComponents.containsKey(hostName)) {
      throw new AmbariException("Cannot add duplicate ServiceComponentHost"
          + ", clusterName=" + service.getCluster().getClusterName()
          + ", clusterId=" + service.getCluster().getClusterId()
          + ", serviceName=" + service.getName()
          + ", serviceComponentName=" + getName()
          + ", hostname=" + hostName);
    }
    ServiceComponentHost hostComponent =
        serviceComponentHostFactory.createNew(this, hostName, this.isClientComponent());
    // FIXME need a better approach of caching components by host
    ClusterImpl clusterImpl = (ClusterImpl) service.getCluster();
    clusterImpl.addServiceComponentHost(hostComponent);
    readWriteLock.writeLock().lock();
    try {
      // TODO validation
      // TODO ensure host belongs to cluster
      if (LOG.isDebugEnabled()) {
        LOG.debug("Adding a ServiceComponentHost to ServiceComponent"
            + ", clusterName=" + service.getCluster().getClusterName()
            + ", clusterId=" + service.getCluster().getClusterId()
            + ", serviceName=" + service.getName()
            + ", serviceComponentName=" + getName()
            + ", hostname=" + hostName);
      }
      if (hostComponents.containsKey(hostName)) {
        throw new AmbariException("Cannot add duplicate ServiceComponentHost"
            + ", clusterName=" + service.getCluster().getClusterName()
            + ", clusterId=" + service.getCluster().getClusterId()
            + ", serviceName=" + service.getName()
            + ", serviceComponentName=" + getName()
            + ", hostname=" + hostName);
      }
      ServiceComponentHost hostComponent =
          serviceComponentHostFactory.createNew(this, hostName, this.isClientComponent());
      // FIXME need a better approach of caching components by host
      ClusterImpl clusterImpl = (ClusterImpl) service.getCluster();
      clusterImpl.addServiceComponentHost(hostComponent);
 
    this.hostComponents.put(hostComponent.getHostName(), hostComponent);
      this.hostComponents.put(hostComponent.getHostName(), hostComponent);

      return hostComponent;
    } finally {
      readWriteLock.writeLock().unlock();
    }
 
    return hostComponent;
   }
 
   @Override
   public ServiceComponentHost getServiceComponentHost(String hostname)
     throws AmbariException {
    if (!hostComponents.containsKey(hostname)) {
      throw new ServiceComponentHostNotFoundException(getClusterName(),
          getServiceName(), getName(), hostname);
    readWriteLock.readLock().lock();
    try {
      if (!hostComponents.containsKey(hostname)) {
        throw new ServiceComponentHostNotFoundException(getClusterName(),
            getServiceName(), getName(), hostname);
      }
      return this.hostComponents.get(hostname);
    } finally {
      readWriteLock.readLock().unlock();
     }
    return this.hostComponents.get(hostname);

   }
 
   @Override
  public synchronized State getDesiredState() {
    return desiredStateEntity.getDesiredState();
  public State getDesiredState() {
    readWriteLock.readLock().lock();
    try {
      return desiredStateEntity.getDesiredState();
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized void setDesiredState(State state) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Setting DesiredState of Service"
          + ", clusterName=" + service.getCluster().getClusterName()
          + ", clusterId=" + service.getCluster().getClusterId()
          + ", serviceName=" + service.getName()
          + ", serviceComponentName=" + getName()
          + ", oldDesiredState=" + getDesiredState()
          + ", newDesiredState=" + state);
  public void setDesiredState(State state) {
    readWriteLock.writeLock().lock();
    try {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Setting DesiredState of Service"
            + ", clusterName=" + service.getCluster().getClusterName()
            + ", clusterId=" + service.getCluster().getClusterId()
            + ", serviceName=" + service.getName()
            + ", serviceComponentName=" + getName()
            + ", oldDesiredState=" + getDesiredState()
            + ", newDesiredState=" + state);
      }
      desiredStateEntity.setDesiredState(state);
      saveIfPersisted();
    } finally {
      readWriteLock.writeLock().unlock();
     }
    desiredStateEntity.setDesiredState(state);
    saveIfPersisted();

   }
 
   @Override
  public synchronized Map&lt;String, Config&gt; getDesiredConfigs() {
    Map&lt;String, Config&gt; map = new HashMap&lt;String, Config&gt;();
    for (Entry&lt;String, String&gt; entry : desiredConfigs.entrySet()) {
      Config config = service.getCluster().getConfig(entry.getKey(), entry.getValue());
      if (null != config) {
        map.put(entry.getKey(), config);
  public Map&lt;String, Config&gt; getDesiredConfigs() {
    readWriteLock.readLock().lock();
    try {
      Map&lt;String, Config&gt; map = new HashMap&lt;String, Config&gt;();
      for (Entry&lt;String, String&gt; entry : desiredConfigs.entrySet()) {
        Config config = service.getCluster().getConfig(entry.getKey(), entry.getValue());
        if (null != config) {
          map.put(entry.getKey(), config);
        }
       }
    }
 
    Map&lt;String, Config&gt; svcConfigs = service.getDesiredConfigs();
    for (Entry&lt;String, Config&gt; entry : svcConfigs.entrySet()) {
      if (!map.containsKey(entry.getKey())) {
        map.put(entry.getKey(), entry.getValue());
      Map&lt;String, Config&gt; svcConfigs = service.getDesiredConfigs();
      for (Entry&lt;String, Config&gt; entry : svcConfigs.entrySet()) {
        if (!map.containsKey(entry.getKey())) {
          map.put(entry.getKey(), entry.getValue());
        }
       }

      return Collections.unmodifiableMap(map);
    } finally {
      readWriteLock.readLock().unlock();
     }
 
    return Collections.unmodifiableMap(map);
   }
 
   @Override
  public synchronized void updateDesiredConfigs(Map&lt;String, Config&gt; configs) {

    for (Entry&lt;String,Config&gt; entry : configs.entrySet()) {
      boolean contains = false;

      for (ComponentConfigMappingEntity componentConfigMappingEntity : desiredStateEntity.getComponentConfigMappingEntities()) {
        if (entry.getKey().equals(componentConfigMappingEntity.getConfigType())) {
          contains = true;
          componentConfigMappingEntity.setTimestamp(new Date().getTime());
          componentConfigMappingEntity.setVersionTag(entry.getValue().getVersionTag());
          if (persisted) {
            componentConfigMappingDAO.merge(componentConfigMappingEntity);
  public void updateDesiredConfigs(Map&lt;String, Config&gt; configs) {

    readWriteLock.writeLock().lock();
    try {
      for (Entry&lt;String, Config&gt; entry : configs.entrySet()) {
        boolean contains = false;

        for (ComponentConfigMappingEntity componentConfigMappingEntity : desiredStateEntity.getComponentConfigMappingEntities()) {
          if (entry.getKey().equals(componentConfigMappingEntity.getConfigType())) {
            contains = true;
            componentConfigMappingEntity.setTimestamp(new Date().getTime());
            componentConfigMappingEntity.setVersionTag(entry.getValue().getVersionTag());
            if (persisted) {
              componentConfigMappingDAO.merge(componentConfigMappingEntity);
            }
           }
         }
      }
 
      if (!contains) {
        ComponentConfigMappingEntity newEntity = new ComponentConfigMappingEntity();
        newEntity.setClusterId(desiredStateEntity.getClusterId());
        newEntity.setServiceName(desiredStateEntity.getServiceName());
        newEntity.setComponentName(desiredStateEntity.getComponentName());
        newEntity.setConfigType(entry.getKey());
        newEntity.setVersionTag(entry.getValue().getVersionTag());
        newEntity.setTimestamp(new Date().getTime());
        newEntity.setServiceComponentDesiredStateEntity(desiredStateEntity);
        desiredStateEntity.getComponentConfigMappingEntities().add(newEntity);
        if (!contains) {
          ComponentConfigMappingEntity newEntity = new ComponentConfigMappingEntity();
          newEntity.setClusterId(desiredStateEntity.getClusterId());
          newEntity.setServiceName(desiredStateEntity.getServiceName());
          newEntity.setComponentName(desiredStateEntity.getComponentName());
          newEntity.setConfigType(entry.getKey());
          newEntity.setVersionTag(entry.getValue().getVersionTag());
          newEntity.setTimestamp(new Date().getTime());
          newEntity.setServiceComponentDesiredStateEntity(desiredStateEntity);
          desiredStateEntity.getComponentConfigMappingEntities().add(newEntity);
 
      }
        }
 
 
      this.desiredConfigs.put(entry.getKey(), entry.getValue().getVersionTag());
        this.desiredConfigs.put(entry.getKey(), entry.getValue().getVersionTag());
      }

      saveIfPersisted();
    } finally {
      readWriteLock.writeLock().unlock();
     }
 
    saveIfPersisted();
   }
 
   @Override
  public synchronized StackId getDesiredStackVersion() {
    return gson.fromJson(desiredStateEntity.getDesiredStackVersion(), StackId.class);
  public StackId getDesiredStackVersion() {
    readWriteLock.readLock().lock();
    try {
      return gson.fromJson(desiredStateEntity.getDesiredStackVersion(), StackId.class);
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized void setDesiredStackVersion(StackId stackVersion) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Setting DesiredStackVersion of Service"
          + ", clusterName=" + service.getCluster().getClusterName()
          + ", clusterId=" + service.getCluster().getClusterId()
          + ", serviceName=" + service.getName()
          + ", serviceComponentName=" + getName()
          + ", oldDesiredStackVersion=" + getDesiredStackVersion()
          + ", newDesiredStackVersion=" + stackVersion);
  public void setDesiredStackVersion(StackId stackVersion) {
    readWriteLock.writeLock().lock();
    try {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Setting DesiredStackVersion of Service"
            + ", clusterName=" + service.getCluster().getClusterName()
            + ", clusterId=" + service.getCluster().getClusterId()
            + ", serviceName=" + service.getName()
            + ", serviceComponentName=" + getName()
            + ", oldDesiredStackVersion=" + getDesiredStackVersion()
            + ", newDesiredStackVersion=" + stackVersion);
      }
      desiredStateEntity.setDesiredStackVersion(gson.toJson(stackVersion));
      saveIfPersisted();
    } finally {
      readWriteLock.writeLock().unlock();
     }
    desiredStateEntity.setDesiredStackVersion(gson.toJson(stackVersion));
    saveIfPersisted();

   }
 
   @Override
  public synchronized ServiceComponentResponse convertToResponse() {
    ServiceComponentResponse r  = new ServiceComponentResponse(
        getClusterId(), service.getCluster().getClusterName(),
        service.getName(), getName(), this.desiredConfigs,
        getDesiredStackVersion().getStackId(),
        getDesiredState().toString());
    return r;
  public ServiceComponentResponse convertToResponse() {
    readWriteLock.readLock().lock();
    try {
      ServiceComponentResponse r = new ServiceComponentResponse(
          getClusterId(), service.getCluster().getClusterName(),
          service.getName(), getName(), this.desiredConfigs,
          getDesiredStackVersion().getStackId(),
          getDesiredState().toString());
      return r;
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
   public String getClusterName() {
    return service.getCluster().getClusterName();
    readWriteLock.readLock().lock();
    try {
      return service.getCluster().getClusterName();
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized void debugDump(StringBuilder sb) {
    sb.append("ServiceComponent={ serviceComponentName=" + getName()
        + ", clusterName=" + service.getCluster().getClusterName()
        + ", clusterId=" + service.getCluster().getClusterId()
        + ", serviceName=" + service.getName()
        + ", desiredStackVersion=" + getDesiredStackVersion()
        + ", desiredState=" + getDesiredState().toString()
        + ", hostcomponents=[ ");
    boolean first = true;
    for(ServiceComponentHost sch : hostComponents.values()) {
      if (!first) {
        sb.append(" , ");
        first = false;
  public void debugDump(StringBuilder sb) {
    readWriteLock.readLock().lock();
    try {
      sb.append("ServiceComponent={ serviceComponentName=" + getName()
          + ", clusterName=" + service.getCluster().getClusterName()
          + ", clusterId=" + service.getCluster().getClusterId()
          + ", serviceName=" + service.getName()
          + ", desiredStackVersion=" + getDesiredStackVersion()
          + ", desiredState=" + getDesiredState().toString()
          + ", hostcomponents=[ ");
      boolean first = true;
      for (ServiceComponentHost sch : hostComponents.values()) {
        if (!first) {
          sb.append(" , ");
          first = false;
        }
        sb.append("\n        ");
        sch.debugDump(sb);
        sb.append(" ");
       }
      sb.append("\n        ");
      sch.debugDump(sb);
      sb.append(" ");
      sb.append(" ] }");
    } finally {
      readWriteLock.readLock().unlock();
     }
    sb.append(" ] }");

   }
 
   @Override
  public synchronized boolean isPersisted() {
  public boolean isPersisted() {
    readWriteLock.readLock().lock();
    try {
       return persisted;
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized void persist() {
    if (!persisted) {
      persistEntities();
      refresh();
      service.refresh();
      persisted = true;
    } else {
      saveIfPersisted();
  public void persist() {
    readWriteLock.writeLock().lock();
    try {
      if (!persisted) {
        persistEntities();
        refresh();
        service.refresh();
        persisted = true;
      } else {
        saveIfPersisted();
      }
    } finally {
      readWriteLock.writeLock().unlock();
     }

   }
 
   @Transactional
@@ -424,23 +542,35 @@ public class ServiceComponentImpl implements ServiceComponent {
 
   @Override
   @Transactional
  public synchronized void refresh() {
    if (isPersisted()) {
      ServiceComponentDesiredStateEntityPK pk = new ServiceComponentDesiredStateEntityPK();
      pk.setComponentName(getName());
      pk.setClusterId(getClusterId());
      pk.setServiceName(getServiceName());
      // TODO: desiredStateEntity is assigned in unsynchronized way, may be a bug
      desiredStateEntity = serviceComponentDesiredStateDAO.findByPK(pk);
      serviceComponentDesiredStateDAO.refresh(desiredStateEntity);
  public void refresh() {
    readWriteLock.writeLock().lock();
    try {
      if (isPersisted()) {
        ServiceComponentDesiredStateEntityPK pk = new ServiceComponentDesiredStateEntityPK();
        pk.setComponentName(getName());
        pk.setClusterId(getClusterId());
        pk.setServiceName(getServiceName());
        // TODO: desiredStateEntity is assigned in unway, may be a bug
        desiredStateEntity = serviceComponentDesiredStateDAO.findByPK(pk);
        serviceComponentDesiredStateDAO.refresh(desiredStateEntity);
      }
    } finally {
      readWriteLock.writeLock().unlock();
     }

   }
 
   @Transactional
  private synchronized void saveIfPersisted() {
    if (isPersisted()) {
      serviceComponentDesiredStateDAO.merge(desiredStateEntity);
  private void saveIfPersisted() {
    readWriteLock.writeLock().lock();
    try {
      if (isPersisted()) {
        serviceComponentDesiredStateDAO.merge(desiredStateEntity);
      }
    } finally {
      readWriteLock.writeLock().unlock();
     }

   }
 
   @Override
@@ -449,95 +579,125 @@ public class ServiceComponentImpl implements ServiceComponent {
   }
 
   @Override
  public synchronized boolean canBeRemoved() {
    if (!getDesiredState().isRemovableState()) {
      return false;
    }

    for (ServiceComponentHost sch : hostComponents.values()) {
      if (!sch.canBeRemoved()) {
        LOG.warn("Found non removable hostcomponent when trying to"
            + " delete service component"
            + ", clusterName=" + getClusterName()
            + ", serviceName=" + getServiceName()
            + ", componentName=" + getName()
            + ", hostname=" + sch.getHostName());
  public boolean canBeRemoved() {
    readWriteLock.readLock().lock();
    try {
      if (!getDesiredState().isRemovableState()) {
         return false;
       }

      for (ServiceComponentHost sch : hostComponents.values()) {
        if (!sch.canBeRemoved()) {
          LOG.warn("Found non removable hostcomponent when trying to"
              + " delete service component"
              + ", clusterName=" + getClusterName()
              + ", serviceName=" + getServiceName()
              + ", componentName=" + getName()
              + ", hostname=" + sch.getHostName());
          return false;
        }
      }
      return true;
    } finally {
      readWriteLock.readLock().unlock();
     }
    return true;

   }
 
   @Override
   @Transactional
  public synchronized void deleteAllServiceComponentHosts()
  public void deleteAllServiceComponentHosts()
       throws AmbariException {
    LOG.info("Deleting all servicecomponenthosts for component"
        + ", clusterName=" + getClusterName()
        + ", serviceName=" + getServiceName()
        + ", componentName=" + getName());
    for (ServiceComponentHost sch : hostComponents.values()) {
      if (!sch.canBeRemoved()) {
        throw new AmbariException("Found non removable hostcomponent "
            + " when trying to delete"
            + " all hostcomponents from servicecomponent"
            + ", clusterName=" + getClusterName()
            + ", serviceName=" + getServiceName()
            + ", componentName=" + getName()
            + ", hostname=" + sch.getHostName());
    readWriteLock.writeLock().lock();
    try {
      LOG.info("Deleting all servicecomponenthosts for component"
          + ", clusterName=" + getClusterName()
          + ", serviceName=" + getServiceName()
          + ", componentName=" + getName());
      for (ServiceComponentHost sch : hostComponents.values()) {
        if (!sch.canBeRemoved()) {
          throw new AmbariException("Found non removable hostcomponent "
              + " when trying to delete"
              + " all hostcomponents from servicecomponent"
              + ", clusterName=" + getClusterName()
              + ", serviceName=" + getServiceName()
              + ", componentName=" + getName()
              + ", hostname=" + sch.getHostName());
        }
      }

      for (ServiceComponentHost serviceComponentHost : hostComponents.values()) {
        serviceComponentHost.delete();
       }
    }
 
    for (ServiceComponentHost serviceComponentHost : hostComponents.values()) {
      serviceComponentHost.delete();
      hostComponents.clear();
    } finally {
      readWriteLock.writeLock().unlock();
     }
 
    hostComponents.clear();
   }
 
   @Override
  public synchronized void deleteServiceComponentHosts(String hostname)
  public void deleteServiceComponentHosts(String hostname)
       throws AmbariException {
    ServiceComponentHost sch = getServiceComponentHost(hostname);
    LOG.info("Deleting servicecomponenthost for cluster"
        + ", clusterName=" + getClusterName()
        + ", serviceName=" + getServiceName()
        + ", componentName=" + getName()
        + ", hostname=" + sch.getHostName());
    if (!sch.canBeRemoved()) {
      throw new AmbariException("Could not delete hostcomponent from cluster"
    readWriteLock.writeLock().lock();
    try {
      ServiceComponentHost sch = getServiceComponentHost(hostname);
      LOG.info("Deleting servicecomponenthost for cluster"
           + ", clusterName=" + getClusterName()
           + ", serviceName=" + getServiceName()
           + ", componentName=" + getName()
           + ", hostname=" + sch.getHostName());
      if (!sch.canBeRemoved()) {
        throw new AmbariException("Could not delete hostcomponent from cluster"
            + ", clusterName=" + getClusterName()
            + ", serviceName=" + getServiceName()
            + ", componentName=" + getName()
            + ", hostname=" + sch.getHostName());
      }
      sch.delete();
      hostComponents.remove(hostname);

      // FIXME need a better approach of caching components by host
      ClusterImpl clusterImpl = (ClusterImpl) service.getCluster();
      clusterImpl.removeServiceComponentHost(sch);
    } finally {
      readWriteLock.writeLock().unlock();
     }
    sch.delete();
    hostComponents.remove(hostname);
 
    // FIXME need a better approach of caching components by host
    ClusterImpl clusterImpl = (ClusterImpl) service.getCluster();
    clusterImpl.removeServiceComponentHost(sch);
   }
 
   @Override
  public synchronized void deleteDesiredConfigs(Set&lt;String&gt; configTypes) {
    componentConfigMappingDAO.removeByType(configTypes);
    for (String configType : configTypes) {
      desiredConfigs.remove(configType);
  public void deleteDesiredConfigs(Set&lt;String&gt; configTypes) {
    readWriteLock.writeLock().lock();
    try {
      componentConfigMappingDAO.removeByType(configTypes);
      for (String configType : configTypes) {
        desiredConfigs.remove(configType);
      }
    } finally {
      readWriteLock.writeLock().unlock();
     }

   }
 
   @Override
   @Transactional
  public synchronized void delete() throws AmbariException {
    deleteAllServiceComponentHosts();
  public void delete() throws AmbariException {
    readWriteLock.writeLock().lock();
    try {
      deleteAllServiceComponentHosts();

      if (persisted) {
        removeEntities();
        persisted = false;
      }
 
    if (persisted) {
      removeEntities();
      persisted = false;
      desiredConfigs.clear();
    } finally {
      readWriteLock.writeLock().unlock();
     }
 
    desiredConfigs.clear();
   }
 
   @Transactional
diff --git a/ambari-server/src/main/java/org/apache/ambari/server/state/ServiceImpl.java b/ambari-server/src/main/java/org/apache/ambari/server/state/ServiceImpl.java
index 97585269ca..35c680f484 100644
-- a/ambari-server/src/main/java/org/apache/ambari/server/state/ServiceImpl.java
++ b/ambari-server/src/main/java/org/apache/ambari/server/state/ServiceImpl.java
@@ -20,6 +20,8 @@ package org.apache.ambari.server.state;
 
 import java.util.*;
 import java.util.Map.Entry;
import java.util.concurrent.locks.ReadWriteLock;
import java.util.concurrent.locks.ReentrantReadWriteLock;
 
 import org.apache.ambari.server.AmbariException;
 import org.apache.ambari.server.ServiceComponentNotFoundException;
@@ -39,6 +41,7 @@ import com.google.inject.persist.Transactional;
 
 
 public class ServiceImpl implements Service {
  private ReadWriteLock readWriteLock = new ReentrantReadWriteLock();
 
   private ClusterServiceEntity serviceEntity;
   private ServiceDesiredStateEntity serviceDesiredStateEntity;
@@ -141,7 +144,7 @@ public class ServiceImpl implements Service {
 
   @Override
   public String getName() {
      return serviceEntity.getServiceName();
    return serviceEntity.getServiceName();
   }
 
   @Override
@@ -150,172 +153,244 @@ public class ServiceImpl implements Service {
   }
 
   @Override
  public synchronized Map&lt;String, ServiceComponent&gt; getServiceComponents() {
    return Collections.unmodifiableMap(components);
  public Map&lt;String, ServiceComponent&gt; getServiceComponents() {
    readWriteLock.readLock().lock();
    try {
      return Collections.unmodifiableMap(components);
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized void addServiceComponents(
  public void addServiceComponents(
       Map&lt;String, ServiceComponent&gt; components) throws AmbariException {
    for (ServiceComponent sc : components.values()) {
      addServiceComponent(sc);
    readWriteLock.writeLock().lock();
    try {
      for (ServiceComponent sc : components.values()) {
        addServiceComponent(sc);
      }
    } finally {
      readWriteLock.writeLock().unlock();
     }

   }
 
   @Override
  public synchronized void addServiceComponent(ServiceComponent component)
  public void addServiceComponent(ServiceComponent component)
       throws AmbariException {
    // TODO validation
    if (LOG.isDebugEnabled()) {
      LOG.debug("Adding a ServiceComponent to Service"
          + ", clusterName=" + cluster.getClusterName()
          + ", clusterId=" + cluster.getClusterId()
          + ", serviceName=" + getName()
          + ", serviceComponentName=" + component.getName());
    }
    if (components.containsKey(component.getName())) {
      throw new AmbariException("Cannot add duplicate ServiceComponent"
          + ", clusterName=" + cluster.getClusterName()
          + ", clusterId=" + cluster.getClusterId()
          + ", serviceName=" + getName()
          + ", serviceComponentName=" + component.getName());
    readWriteLock.writeLock().lock();
    try {
      // TODO validation
      if (LOG.isDebugEnabled()) {
        LOG.debug("Adding a ServiceComponent to Service"
            + ", clusterName=" + cluster.getClusterName()
            + ", clusterId=" + cluster.getClusterId()
            + ", serviceName=" + getName()
            + ", serviceComponentName=" + component.getName());
      }
      if (components.containsKey(component.getName())) {
        throw new AmbariException("Cannot add duplicate ServiceComponent"
            + ", clusterName=" + cluster.getClusterName()
            + ", clusterId=" + cluster.getClusterId()
            + ", serviceName=" + getName()
            + ", serviceComponentName=" + component.getName());
      }
      this.components.put(component.getName(), component);
    } finally {
      readWriteLock.writeLock().unlock();
     }
    this.components.put(component.getName(), component);

   }
 
   @Override
  public synchronized ServiceComponent addServiceComponent(
  public ServiceComponent addServiceComponent(
       String serviceComponentName) throws AmbariException {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Adding a ServiceComponent to Service"
          + ", clusterName=" + cluster.getClusterName()
          + ", clusterId=" + cluster.getClusterId()
          + ", serviceName=" + getName()
          + ", serviceComponentName=" + serviceComponentName);
    }
    if (components.containsKey(serviceComponentName)) {
      throw new AmbariException("Cannot add duplicate ServiceComponent"
          + ", clusterName=" + cluster.getClusterName()
          + ", clusterId=" + cluster.getClusterId()
          + ", serviceName=" + getName()
          + ", serviceComponentName=" + serviceComponentName);
    readWriteLock.writeLock().lock();
    try {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Adding a ServiceComponent to Service"
            + ", clusterName=" + cluster.getClusterName()
            + ", clusterId=" + cluster.getClusterId()
            + ", serviceName=" + getName()
            + ", serviceComponentName=" + serviceComponentName);
      }
      if (components.containsKey(serviceComponentName)) {
        throw new AmbariException("Cannot add duplicate ServiceComponent"
            + ", clusterName=" + cluster.getClusterName()
            + ", clusterId=" + cluster.getClusterId()
            + ", serviceName=" + getName()
            + ", serviceComponentName=" + serviceComponentName);
      }
      ServiceComponent component = serviceComponentFactory.createNew(this, serviceComponentName);
      this.components.put(component.getName(), component);
      return component;
    } finally {
      readWriteLock.writeLock().unlock();
     }
    ServiceComponent component = serviceComponentFactory.createNew(this, serviceComponentName);
    this.components.put(component.getName(), component);
    return component;

   }
 
   @Override
   public ServiceComponent getServiceComponent(String componentName)
       throws AmbariException {
    if (!components.containsKey(componentName)) {
      throw new ServiceComponentNotFoundException(cluster.getClusterName(),
          getName(),
          componentName);
    readWriteLock.readLock().lock();
    try {
      if (!components.containsKey(componentName)) {
        throw new ServiceComponentNotFoundException(cluster.getClusterName(),
            getName(),
            componentName);
      }
      return this.components.get(componentName);
    } finally {
      readWriteLock.readLock().unlock();
     }
    return this.components.get(componentName);

   }
 
   @Override
  public synchronized State getDesiredState() {
    return this.serviceDesiredStateEntity.getDesiredState();
  public State getDesiredState() {
    readWriteLock.readLock().lock();
    try {
      return this.serviceDesiredStateEntity.getDesiredState();
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized void setDesiredState(State state) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Setting DesiredState of Service"
          + ", clusterName=" + cluster.getClusterName()
          + ", clusterId=" + cluster.getClusterId()
          + ", serviceName=" + getName()
          + ", oldDesiredState=" + this.getDesiredState()
          + ", newDesiredState=" + state);
  public void setDesiredState(State state) {
    readWriteLock.writeLock().lock();
    try {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Setting DesiredState of Service"
            + ", clusterName=" + cluster.getClusterName()
            + ", clusterId=" + cluster.getClusterId()
            + ", serviceName=" + getName()
            + ", oldDesiredState=" + this.getDesiredState()
            + ", newDesiredState=" + state);
      }
      this.serviceDesiredStateEntity.setDesiredState(state);
      saveIfPersisted();
    } finally {
      readWriteLock.writeLock().unlock();
     }
    this.serviceDesiredStateEntity.setDesiredState(state);
    saveIfPersisted();

   }
 
   @Override
  public synchronized Map&lt;String, Config&gt; getDesiredConfigs() {
    Map&lt;String, Config&gt; map = new HashMap&lt;String, Config&gt;();
    for (Entry&lt;String, String&gt; entry : desiredConfigs.entrySet()) {
      Config config = cluster.getConfig(entry.getKey(), entry.getValue());
      if (null != config) {
        map.put(entry.getKey(), config);
      } else {
        // FIXME this is an error - should throw a proper exception
        throw new RuntimeException("Found an invalid config"
            + ", clusterName=" + getCluster().getClusterName()
            + ", serviceName=" + getName()
            + ", configType=" + entry.getKey()
            + ", configVersionTag=" + entry.getValue());
  public Map&lt;String, Config&gt; getDesiredConfigs() {
    readWriteLock.readLock().lock();
    try {
      Map&lt;String, Config&gt; map = new HashMap&lt;String, Config&gt;();
      for (Entry&lt;String, String&gt; entry : desiredConfigs.entrySet()) {
        Config config = cluster.getConfig(entry.getKey(), entry.getValue());
        if (null != config) {
          map.put(entry.getKey(), config);
        } else {
          // FIXME this is an error - should throw a proper exception
          throw new RuntimeException("Found an invalid config"
              + ", clusterName=" + getCluster().getClusterName()
              + ", serviceName=" + getName()
              + ", configType=" + entry.getKey()
              + ", configVersionTag=" + entry.getValue());
        }
       }
      return Collections.unmodifiableMap(map);
    } finally {
      readWriteLock.readLock().unlock();
     }
    return Collections.unmodifiableMap(map);

   }
 
   @Override
  public synchronized void updateDesiredConfigs(Map&lt;String, Config&gt; configs) {
  public void updateDesiredConfigs(Map&lt;String, Config&gt; configs) {

    readWriteLock.writeLock().lock();
    try {
      for (Entry&lt;String, Config&gt; entry : configs.entrySet()) {
        boolean contains = false;

        for (ServiceConfigMappingEntity serviceConfigMappingEntity : serviceEntity.getServiceConfigMappings()) {
          if (entry.getKey().equals(serviceConfigMappingEntity.getConfigType())) {
            contains = true;
            serviceConfigMappingEntity.setTimestamp(new Date().getTime());
            serviceConfigMappingEntity.setVersionTag(entry.getValue().getVersionTag());
          }
        }
 
    for (Entry&lt;String,Config&gt; entry : configs.entrySet()) {
      boolean contains = false;
        if (!contains) {
          ServiceConfigMappingEntity newEntity = new ServiceConfigMappingEntity();
          newEntity.setClusterId(serviceEntity.getClusterId());
          newEntity.setServiceName(serviceEntity.getServiceName());
          newEntity.setConfigType(entry.getKey());
          newEntity.setVersionTag(entry.getValue().getVersionTag());
          newEntity.setTimestamp(new Date().getTime());
          newEntity.setServiceEntity(serviceEntity);
          serviceEntity.getServiceConfigMappings().add(newEntity);
 
      for (ServiceConfigMappingEntity serviceConfigMappingEntity : serviceEntity.getServiceConfigMappings()) {
        if (entry.getKey().equals(serviceConfigMappingEntity.getConfigType())) {
          contains = true;
          serviceConfigMappingEntity.setTimestamp(new Date().getTime());
          serviceConfigMappingEntity.setVersionTag(entry.getValue().getVersionTag());
         }
      }
 
      if (!contains) {
        ServiceConfigMappingEntity newEntity = new ServiceConfigMappingEntity();
        newEntity.setClusterId(serviceEntity.getClusterId());
        newEntity.setServiceName(serviceEntity.getServiceName());
        newEntity.setConfigType(entry.getKey());
        newEntity.setVersionTag(entry.getValue().getVersionTag());
        newEntity.setTimestamp(new Date().getTime());
        newEntity.setServiceEntity(serviceEntity);
        serviceEntity.getServiceConfigMappings().add(newEntity);
 
        this.desiredConfigs.put(entry.getKey(), entry.getValue().getVersionTag());
       }
 

      this.desiredConfigs.put(entry.getKey(), entry.getValue().getVersionTag());
      saveIfPersisted();
    } finally {
      readWriteLock.writeLock().unlock();
     }
 
    saveIfPersisted();
 
   }
 
   @Override
  public synchronized StackId getDesiredStackVersion() {
    return gson.fromJson(serviceDesiredStateEntity.getDesiredStackVersion(), StackId.class);
  public StackId getDesiredStackVersion() {
    readWriteLock.readLock().lock();
    try {
      return gson.fromJson(serviceDesiredStateEntity.getDesiredStackVersion(), StackId.class);
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized void setDesiredStackVersion(StackId stackVersion) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Setting DesiredStackVersion of Service"
          + ", clusterName=" + cluster.getClusterName()
          + ", clusterId=" + cluster.getClusterId()
          + ", serviceName=" + getName()
          + ", oldDesiredStackVersion=" + getDesiredStackVersion()
          + ", newDesiredStackVersion=" + stackVersion);
  public void setDesiredStackVersion(StackId stackVersion) {
    readWriteLock.writeLock().lock();
    try {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Setting DesiredStackVersion of Service"
            + ", clusterName=" + cluster.getClusterName()
            + ", clusterId=" + cluster.getClusterId()
            + ", serviceName=" + getName()
            + ", oldDesiredStackVersion=" + getDesiredStackVersion()
            + ", newDesiredStackVersion=" + stackVersion);
      }
      serviceDesiredStateEntity.setDesiredStackVersion(gson.toJson(stackVersion));
      saveIfPersisted();
    } finally {
      readWriteLock.writeLock().unlock();
     }
    serviceDesiredStateEntity.setDesiredStackVersion(gson.toJson(stackVersion));
    saveIfPersisted();

   }
 
   @Override
  public synchronized ServiceResponse convertToResponse() {
    ServiceResponse r = new ServiceResponse(cluster.getClusterId(),
        cluster.getClusterName(),
        getName(),
        desiredConfigs,
        getDesiredStackVersion().getStackId(),
        getDesiredState().toString());
    return r;
  public ServiceResponse convertToResponse() {
    readWriteLock.readLock().lock();
    try {
      ServiceResponse r = new ServiceResponse(cluster.getClusterId(),
          cluster.getClusterName(),
          getName(),
          desiredConfigs,
          getDesiredStackVersion().getStackId(),
          getDesiredState().toString());
      return r;
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
@@ -324,54 +399,72 @@ public class ServiceImpl implements Service {
   }
 
   @Override
  public synchronized void debugDump(StringBuilder sb) {
    sb.append("Service={ serviceName=" + getName()
        + ", clusterName=" + cluster.getClusterName()
        + ", clusterId=" + cluster.getClusterId()
        + ", desiredStackVersion=" + getDesiredStackVersion()
        + ", desiredState=" + getDesiredState().toString()
        + ", configs=[");
    boolean first = true;
    if (desiredConfigs != null) {
      for (Entry&lt;String, String&gt; entry : desiredConfigs.entrySet()) {
  public void debugDump(StringBuilder sb) {
    readWriteLock.readLock().lock();
    try {
      sb.append("Service={ serviceName=" + getName()
          + ", clusterName=" + cluster.getClusterName()
          + ", clusterId=" + cluster.getClusterId()
          + ", desiredStackVersion=" + getDesiredStackVersion()
          + ", desiredState=" + getDesiredState().toString()
          + ", configs=[");
      boolean first = true;
      if (desiredConfigs != null) {
        for (Entry&lt;String, String&gt; entry : desiredConfigs.entrySet()) {
          if (!first) {
            sb.append(" , ");
          }
          first = false;
          sb.append("{ Config type=" + entry.getKey()
              + ", versionTag=" + entry.getValue() + "}");
        }
      }
      sb.append("], components=[ ");

      first = true;
      for (ServiceComponent sc : components.values()) {
         if (!first) {
           sb.append(" , ");
         }
         first = false;
        sb.append("{ Config type=" + entry.getKey()
            + ", versionTag=" + entry.getValue() + "}");
        sb.append("\n      ");
        sc.debugDump(sb);
        sb.append(" ");
       }
      sb.append(" ] }");
    } finally {
      readWriteLock.readLock().unlock();
     }
    sb.append("], components=[ ");
 
    first = true;
    for(ServiceComponent sc : components.values()) {
      if (!first) {
        sb.append(" , ");
      }
      first = false;
      sb.append("\n      ");
      sc.debugDump(sb);
      sb.append(" ");
    }
    sb.append(" ] }");
   }
 
   @Override
  public synchronized boolean isPersisted() {
  public boolean isPersisted() {
    readWriteLock.readLock().lock();
    try {
       return persisted;
    } finally {
      readWriteLock.readLock().unlock();
    }

   }
 
   @Override
  public synchronized void persist() {
    if (!persisted) {
      persistEntities();
      refresh();
      cluster.refresh();
      persisted = true;
    } else {
      saveIfPersisted();
  public void persist() {
    readWriteLock.writeLock().lock();
    try {
      if (!persisted) {
        persistEntities();
        refresh();
        cluster.refresh();
        persisted = true;
      } else {
        saveIfPersisted();
      }
    } finally {
      readWriteLock.writeLock().unlock();
     }

   }
 
   @Transactional
@@ -398,78 +491,102 @@ public class ServiceImpl implements Service {
 
   @Override
   @Transactional
  public synchronized void refresh() {
    if (isPersisted()) {
      ClusterServiceEntityPK pk = new ClusterServiceEntityPK();
      pk.setClusterId(getClusterId());
      pk.setServiceName(getName());
      serviceEntity = clusterServiceDAO.findByPK(pk);
      serviceDesiredStateEntity = serviceEntity.getServiceDesiredStateEntity();
      clusterServiceDAO.refresh(serviceEntity);
      serviceDesiredStateDAO.refresh(serviceDesiredStateEntity);
  public void refresh() {
    readWriteLock.writeLock().lock();
    try {
      if (isPersisted()) {
        ClusterServiceEntityPK pk = new ClusterServiceEntityPK();
        pk.setClusterId(getClusterId());
        pk.setServiceName(getName());
        serviceEntity = clusterServiceDAO.findByPK(pk);
        serviceDesiredStateEntity = serviceEntity.getServiceDesiredStateEntity();
        clusterServiceDAO.refresh(serviceEntity);
        serviceDesiredStateDAO.refresh(serviceDesiredStateEntity);
      }
    } finally {
      readWriteLock.writeLock().unlock();
     }

   }
 
   @Override
  public synchronized boolean canBeRemoved() {
    if (!getDesiredState().isRemovableState()) {
      return false;
    }

    for (ServiceComponent sc : components.values()) {
      if (!sc.canBeRemoved()) {
        LOG.warn("Found non removable component when trying to delete service"
            + ", clusterName=" + cluster.getClusterName()
            + ", serviceName=" + getName()
            + ", componentName=" + sc.getName());
  public boolean canBeRemoved() {
    readWriteLock.readLock().lock();
    try {
      if (!getDesiredState().isRemovableState()) {
         return false;
       }

      for (ServiceComponent sc : components.values()) {
        if (!sc.canBeRemoved()) {
          LOG.warn("Found non removable component when trying to delete service"
              + ", clusterName=" + cluster.getClusterName()
              + ", serviceName=" + getName()
              + ", componentName=" + sc.getName());
          return false;
        }
      }
      return true;
    } finally {
      readWriteLock.readLock().unlock();
     }
    return true;

   }
 
   @Override
   @Transactional
  public synchronized void deleteAllComponents() throws AmbariException {
    LOG.info("Deleting all components for service"
        + ", clusterName=" + cluster.getClusterName()
        + ", serviceName=" + getName());
    // FIXME check dependencies from meta layer
    for (ServiceComponent component : components.values()) {
      if (!component.canBeRemoved()) {
        throw new AmbariException("Found non removable component when trying to"
            + " delete all components from service"
            + ", clusterName=" + cluster.getClusterName()
            + ", serviceName=" + getName()
            + ", componentName=" + component.getName());
  public void deleteAllComponents() throws AmbariException {
    readWriteLock.writeLock().lock();
    try {
      LOG.info("Deleting all components for service"
          + ", clusterName=" + cluster.getClusterName()
          + ", serviceName=" + getName());
      // FIXME check dependencies from meta layer
      for (ServiceComponent component : components.values()) {
        if (!component.canBeRemoved()) {
          throw new AmbariException("Found non removable component when trying to"
              + " delete all components from service"
              + ", clusterName=" + cluster.getClusterName()
              + ", serviceName=" + getName()
              + ", componentName=" + component.getName());
        }
      }

      for (ServiceComponent serviceComponent : components.values()) {
        serviceComponent.delete();
       }
    }
 
    for (ServiceComponent serviceComponent : components.values()) {
      serviceComponent.delete();
      components.clear();
    } finally {
      readWriteLock.writeLock().unlock();
     }
 
    components.clear();
   }
 
   @Override
  public synchronized void deleteServiceComponent(String componentName)
  public void deleteServiceComponent(String componentName)
       throws AmbariException {
    ServiceComponent component = getServiceComponent(componentName);
    LOG.info("Deleting servicecomponent for cluster"
        + ", clusterName=" + cluster.getClusterName()
        + ", serviceName=" + getName()
        + ", componentName=" + componentName);
    // FIXME check dependencies from meta layer
    if (!component.canBeRemoved()) {
      throw new AmbariException("Could not delete component from cluster"
    readWriteLock.writeLock().lock();
    try {
      ServiceComponent component = getServiceComponent(componentName);
      LOG.info("Deleting servicecomponent for cluster"
           + ", clusterName=" + cluster.getClusterName()
           + ", serviceName=" + getName()
           + ", componentName=" + componentName);
      // FIXME check dependencies from meta layer
      if (!component.canBeRemoved()) {
        throw new AmbariException("Could not delete component from cluster"
            + ", clusterName=" + cluster.getClusterName()
            + ", serviceName=" + getName()
            + ", componentName=" + componentName);
      }

      component.delete();
      components.remove(componentName);
    } finally {
      readWriteLock.writeLock().unlock();
     }
 
    component.delete();
    components.remove(componentName);
   }
 
   @Override
@@ -479,15 +596,21 @@ public class ServiceImpl implements Service {
 
   @Override
   @Transactional
  public synchronized void delete() throws AmbariException {
    deleteAllComponents();
  public void delete() throws AmbariException {
    readWriteLock.writeLock().lock();
    try {
      deleteAllComponents();

      if (persisted) {
        removeEntities();
        persisted = false;
      }
 
    if (persisted) {
      removeEntities();
      persisted = false;
      desiredConfigs.clear();
    } finally {
      readWriteLock.writeLock().unlock();
     }
 
    desiredConfigs.clear();
   }
 
   @Transactional
diff --git a/ambari-server/src/main/java/org/apache/ambari/server/state/host/HostImpl.java b/ambari-server/src/main/java/org/apache/ambari/server/state/host/HostImpl.java
index cb27c95b25..d9264f1895 100644
-- a/ambari-server/src/main/java/org/apache/ambari/server/state/host/HostImpl.java
++ b/ambari-server/src/main/java/org/apache/ambari/server/state/host/HostImpl.java
@@ -355,6 +355,9 @@ public class HostImpl implements Host {
     }
   }
 
  /**
   * @param hostInfo
   */</comment>
   @Override
   public void importHostInfo<control>(<init><expr><name>HostInfo</name> <name>hostInfo</name></expr></init>)</control> <block>{<block_content>
     <try>try <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">457</literal></expr><operator>,</operator><expr><literal type="number">17</literal> <operator>+</operator><literal type="number">460</literal></expr><operator>,</operator><expr><literal type="number">26</literal> @@ <specifier>public</specifier> <name>class</name> <name>HostImpl</name> implements <name>Host</name> <block>{
     }</block></expr></expr_stmt>
   </block_content>}</block></try>
 
  <comment type="block" format="javadoc">/**
   * @param hostInfo
   */</comment>
   <function><annotation>@<name>Override</name></annotation>
   <type><specifier>public</specifier> <name>void</name></type> <name>setLastAgentEnv</name><parameter_list>(<parameter><decl><type><name>AgentEnv</name></type> <name>env</name></decl></parameter>)</parameter_list> <block>{<block_content>
    <expr_stmt><expr><name>lastAgentEnv</name> <operator>=</operator> <name>env</name></expr>;</expr_stmt>
    <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    <try>try <block>{<block_content>
      <expr_stmt><expr><name>lastAgentEnv</name> <operator>=</operator> <name>env</name></expr>;</expr_stmt>
    </block_content>}</block> <finally>finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></finally></try>

   </block_content>}</block></function>
   
   <function><annotation>@<name>Override</name></annotation>
   <type><specifier>public</specifier> <name>AgentEnv</name></type> <name>getLastAgentEnv</name><parameter_list>()</parameter_list> <block>{<block_content>
    <return>return <expr><name>lastAgentEnv</name></expr>;</return>
    <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    <try>try <block>{<block_content>
      <return>return <expr><name>lastAgentEnv</name></expr>;</return>
    </block_content>}</block> <finally>finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></finally></try>

   </block_content>}</block></function>
 
   <annotation>@<name>Override</name></annotation>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>state</name><operator>/</operator><name>svccomphost</name><operator>/</operator><name><name>ServiceComponentHostImpl</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>state</name><operator>/</operator><name>svccomphost</name><operator>/</operator><name><name>ServiceComponentHostImpl</name><operator>.</operator><name>java</name></name>
<name>index</name> <literal type="number">0fe064ae5b</literal><operator>..</operator><name>b5e157ddac</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>state</name><operator>/</operator><name>svccomphost</name><operator>/</operator><name><name>ServiceComponentHostImpl</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>state</name><operator>/</operator><name>svccomphost</name><operator>/</operator><name><name>ServiceComponentHostImpl</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">64</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">64</literal></expr><operator>,</operator><expr><literal type="number">9</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   <comment type="line">// FIXME need more debug logs</comment>
 
  <expr><specifier>private</specifier> <name>final</name> <name>Lock</name> <name>readLock</name></expr>;
  <expr><specifier>private</specifier> <name>final</name> <name>Lock</name> <name>writeLock</name></expr>;
  <expr><specifier>private</specifier> <name>final</name> <name>ReadWriteLock</name> <name>readWriteLock</name> <operator>=</operator> <operator>new</operator> <call><name>ReentrantReadWriteLock</name><argument_list>()</argument_list></call></expr>;
  <expr><specifier>private</specifier> <name>final</name> <name>Lock</name> <name>readLock</name> <operator>=</operator> <call><name><name>readWriteLock</name><operator>.</operator><name>readLock</name></name><argument_list>()</argument_list></call></expr>;
  <expr><specifier>private</specifier> <name>final</name> <name>Lock</name> <name>writeLock</name> <operator>=</operator> <call><name><name>readWriteLock</name><operator>.</operator><name>writeLock</name></name><argument_list>()</argument_list></call></expr>;
 
   <expr><specifier>private</specifier> <name>final</name> <name>ServiceComponent</name> <name>serviceComponent</name></expr>;
   <expr><specifier>private</specifier> <name>final</name> <name>Host</name> <name>host</name></expr>;
@@ <expr><operator>-</operator><literal type="number">600</literal></expr>,<expr><literal type="number">9</literal> <operator>+</operator><literal type="number">601</literal></expr>,<expr><literal type="number">6</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
       <expr><name><name>this</name><operator>.</operator><name>stateMachine</name></name> <operator>=</operator> <call><name><name>daemonStateMachineFactory</name><operator>.</operator><name>make</name></name><argument_list>(<argument><expr><name>this</name></expr></argument>)</argument_list></call></expr>;
     }</block>
 
    <name>ReadWriteLock</name> <name>rwLock</name> <operator>=</operator> <operator>new</operator> <call><name>ReentrantReadWriteLock</name><argument_list>()</argument_list></call></expr>;
    <expr><name><name>this</name><operator>.</operator><name>readLock</name></name> <operator>=</operator> <call><name><name>rwLock</name><operator>.</operator><name>readLock</name></name><argument_list>()</argument_list></call></expr>;
    <expr><name><name>this</name><operator>.</operator><name>writeLock</name></name> <operator>=</operator> <call><name><name>rwLock</name><operator>.</operator><name>writeLock</name></name><argument_list>()</argument_list></call></expr>;
     <expr><name><name>this</name><operator>.</operator><name>serviceComponent</name></name> <operator>=</operator> <name>serviceComponent</name></expr>;
 
     <expr><name>stateEntity</name> <operator>=</operator> <operator>new</operator> <call><name>HostComponentStateEntity</name><argument_list>()</argument_list></call></expr>;
@@ <expr><operator>-</operator><literal type="number">641</literal></expr>,<expr><literal type="number">9</literal> <operator>+</operator><literal type="number">639</literal></expr>,<expr><literal type="number">6</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
                                   @<expr><name>Assisted</name> <name>HostComponentDesiredStateEntity</name> <name>desiredStateEntity</name></expr>,
                                   <expr><name>Injector</name> <name>injector</name></expr>) <block>{
     <expr><call><name><name>injector</name><operator>.</operator><name>injectMembers</name></name><argument_list>(<argument><expr><name>this</name></expr></argument>)</argument_list></call></expr>;
    <expr><name>ReadWriteLock</name> <name>rwLock</name> <operator>=</operator> <operator>new</operator> <call><name>ReentrantReadWriteLock</name><argument_list>()</argument_list></call></expr>;
    <expr><name><name>this</name><operator>.</operator><name>readLock</name></name> <operator>=</operator> <call><name><name>rwLock</name><operator>.</operator><name>readLock</name></name><argument_list>()</argument_list></call></expr>;
    <expr><name><name>this</name><operator>.</operator><name>writeLock</name></name> <operator>=</operator> <call><name><name>rwLock</name><operator>.</operator><name>writeLock</name></name><argument_list>()</argument_list></call></expr>;
     <expr><name><name>this</name><operator>.</operator><name>serviceComponent</name></name> <operator>=</operator> <name>serviceComponent</name></expr>;
 
 
@@ <expr><operator>-</operator><literal type="number">678</literal></expr>,<expr><literal type="number">8</literal> <operator>+</operator><literal type="number">673</literal></expr>,<expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>State</name> <call><name>getState</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <return>return <expr><call><name><name>stateMachine</name><operator>.</operator><name>getCurrentState</name></name><argument_list>()</argument_list></call></expr>;</return>
     <expr_stmt/></block_content></block></try>}</block></expr>
     <finally>finally <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">689</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">684</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>void</name> <call><name>setState</name><argument_list>(<argument><expr><name>State</name> <name>state</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><call><name><name>stateMachine</name><operator>.</operator><name>setCurrentState</name></name><argument_list>(<argument><expr><name>state</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><call><name><name>stateEntity</name><operator>.</operator><name>setCurrentState</name></name><argument_list>(<argument><expr><name>state</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><call><name>saveIfPersisted</name><argument_list>()</argument_list></call></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">746</literal></expr><operator>,</operator><expr><literal type="number">20</literal> <operator>+</operator><literal type="number">741</literal></expr><operator>,</operator><expr><literal type="number">32</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>String</name> <call><name>getServiceComponentName</name><argument_list>()</argument_list></call> <block>{
    <return>return <expr><call><name><name>serviceComponent</name><operator>.</operator><name>getName</name></name><argument_list>()</argument_list></call></expr>;</return>
    <call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></block></expr>;
    <try>try <block>{<block_content>
      <return>return <expr><call><name><name>serviceComponent</name><operator>.</operator><name>getName</name></name><argument_list>()</argument_list></call></expr>;</return>
    <expr_stmt/></block_content></block></try>}</block></expr></expr_stmt> <finally>finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    <expr_stmt/></block_content></block></finally></block_content></block></try>}</block></expr>

   }</block>
 
   @<name>Override</name>
   <specifier>public</specifier> <name>String</name> <call><name>getHostName</name><argument_list>()</argument_list></call> <block>{
    <return>return <expr><call><name><name>host</name><operator>.</operator><name>getHostName</name></name><argument_list>()</argument_list></call></expr>;</return>
    <call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></block></expr>;</expr_stmt>
    <try>try <block>{<block_content>
      <return>return <expr><call><name><name>host</name><operator>.</operator><name>getHostName</name></name><argument_list>()</argument_list></call></expr>;</return>
    <expr_stmt/></block_content></block></try></block_content></block></finally>}</block></expr> <finally>finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    <expr_stmt/></block_content></block></finally>}</block></block></expr>

   }</block>
 
   <comment type="block" format="javadoc">/**
    * @return the lastOpStartTime
    */</comment>
   <specifier>public</specifier> <name>long</name> <call><name>getLastOpStartTime</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <return>return <expr><name>lastOpStartTime</name></expr>;</return>
     <expr_stmt/></block_content></block></try>}</block></expr></expr_stmt>
     <finally>finally <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">771</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">778</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
    <expr><operator>*</operator> @<name>param</name> <name>lastOpStartTime</name> <name>the</name> <name>lastOpStartTime</name> <name>to</name> <name>set</name>
    <operator>*</operator><operator>/</operator>
   <specifier>public</specifier> <name>void</name> <call><name>setLastOpStartTime</name><argument_list>(<argument><expr><name>long</name> <name>lastOpStartTime</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><name><name>this</name><operator>.</operator><name>lastOpStartTime</name></name> <operator>=</operator> <name>lastOpStartTime</name></expr>;</expr_stmt>
     <expr_stmt/></block_content></block></try>}</block></expr>
     <finally>finally <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">784</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">791</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
    <expr><operator>*</operator> @</expr><return>return <expr><name>the</name> <name>lastOpEndTime</name>
    <operator>*</operator><operator>/</operator>
   <specifier>public</specifier> <name>long</name> <call><name>getLastOpEndTime</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <return>return <expr><name>lastOpEndTime</name></expr>;</return>
     <expr_stmt/></block_content></block></try>}</block></expr></return>
     <finally>finally <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">797</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">804</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
    <expr><operator>*</operator> @<name>param</name> <name>lastOpEndTime</name> <name>the</name> <name>lastOpEndTime</name> <name>to</name> <name>set</name>
    <operator>*</operator><operator>/</operator>
   <specifier>public</specifier> <name>void</name> <call><name>setLastOpEndTime</name><argument_list>(<argument><expr><name>long</name> <name>lastOpEndTime</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><name><name>this</name><operator>.</operator><name>lastOpEndTime</name></name> <operator>=</operator> <name>lastOpEndTime</name></expr>;</expr_stmt>
     <expr_stmt/></block_content></block></try>}</block></expr>
     <finally>finally <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">810</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">817</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
    <expr><operator>*</operator> @</expr><return>return <expr><name>the</name> <name>lastOpLastUpdateTime</name>
    <operator>*</operator><operator>/</operator>
   <specifier>public</specifier> <name>long</name> <call><name>getLastOpLastUpdateTime</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <return>return <expr><name>lastOpLastUpdateTime</name></expr>;</return>
     <expr_stmt/></block_content></block></try>}</block></expr></return>
     <finally>finally <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">823</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">830</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
    <expr><operator>*</operator> @<name>param</name> <name>lastOpLastUpdateTime</name> <name>the</name> <name>lastOpLastUpdateTime</name> <name>to</name> <name>set</name>
    <operator>*</operator><operator>/</operator>
   <specifier>public</specifier> <name>void</name> <call><name>setLastOpLastUpdateTime</name><argument_list>(<argument><expr><name>long</name> <name>lastOpLastUpdateTime</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><name><name>this</name><operator>.</operator><name>lastOpLastUpdateTime</name></name> <operator>=</operator> <name>lastOpLastUpdateTime</name></expr>;</expr_stmt>
     <expr_stmt/></block_content></block></try>}</block></expr>
     <finally>finally <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">834</literal></expr><operator>,</operator><expr><literal type="number">17</literal> <operator>+</operator><literal type="number">841</literal></expr><operator>,</operator><expr><literal type="number">29</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>long</name> <call><name>getClusterId</name><argument_list>()</argument_list></call> <block>{
    <return>return <expr><call><name><name>serviceComponent</name><operator>.</operator><name>getClusterId</name></name><argument_list>()</argument_list></call></expr>;</return>
    <call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></block></expr>;
    <try>try <block>{<block_content>
      <return>return <expr><call><name><name>serviceComponent</name><operator>.</operator><name>getClusterId</name></name><argument_list>()</argument_list></call></expr>;</return>
    <expr_stmt/></block_content></block></try>}</block></expr></expr_stmt> <finally>finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    <expr_stmt/></block_content></block></finally></block_content></block></finally>}</block></expr></expr_stmt></block_content></block></finally></block></expr></expr_stmt></block_content></block></finally>

   }</block>
 
   @<name>Override</name>
   <specifier>public</specifier> <name>String</name> <call><name>getServiceName</name><argument_list>()</argument_list></call> <block>{
    <return>return <expr><call><name><name>serviceComponent</name><operator>.</operator><name>getServiceName</name></name><argument_list>()</argument_list></call></expr>;</return>
    <call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></block></expr>;</expr_stmt>
    <try>try <block>{<block_content>
      <return>return <expr><call><name><name>serviceComponent</name><operator>.</operator><name>getServiceName</name></name><argument_list>()</argument_list></call></expr>;</return>
    <expr_stmt/></block_content></block></try></block_content></block></finally></block></expr></expr_stmt></block_content></block></finally>}</block></expr></expr_stmt> <finally>finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></finally>

   </block_content>}</block></finally>
 
   <function><type><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name></type> <name>getConfigVersions</name><parameter_list>()</parameter_list> <block>{<block_content>
    <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <if_stmt><if>if <condition>(<expr><name><name>this</name><operator>.</operator><name>configs</name></name> <operator>!=</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
         <return>return <expr><call><name><name>Collections</name><operator>.</operator><name>unmodifiableMap</name></name><argument_list>(<argument><expr><name>configs</name></expr></argument>)</argument_list></call></expr>;</return>
       </block_content>}</block></if> <else>else <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">859</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">878</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>Config</name></argument>&gt;</argument_list></name> <call><name>getConfigs</name><argument_list>()</argument_list></call> <throws>throws <argument><expr><name>AmbariException</name> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr></block></expr></argument></throws></expr>;</block></expr></expr_stmt>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <decl_stmt><decl><type><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>Config</name></argument>&gt;</argument_list></name></type> <name>map</name> <init>= <expr><operator>new</operator> <call><name><name>HashMap</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>Config</name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
       <decl_stmt><decl><type><name>Cluster</name></type> <name>cluster</name> <init>= <expr><call><name><name>clusters</name><operator>.</operator><name>getClusterById</name></name><argument_list>(<argument><expr><call><name>getClusterId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
       <for>for <control>(<init><decl><type><name><name>Entry</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name></type> <name>entry</name> <range>: <expr><call><name><name>configs</name><operator>.</operator><name>entrySet</name></name><argument_list>()</argument_list></call></expr></range></decl></init>)</control> <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">879</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">898</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Transactional</name>
   <name>void</name> <call><name>setConfigs</name><argument_list>(<argument><expr><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name> <name>configs</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
 
       <decl_stmt><decl><type><name><name>Set</name><argument_list type="generic">&lt;<argument><name>String</name></argument>&gt;</argument_list></name></type> <name>deletedTypes</name> <init>= <expr><operator>new</operator> <call><name><name>HashSet</name><argument_list type="generic">&lt;<argument><name>String</name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
       <for>for <control>(<init><decl><type><name>String</name></type> <name>type</name> <range>: <expr><call><name><name>this</name><operator>.</operator><name>configs</name><operator>.</operator><name>keySet</name></name><argument_list>()</argument_list></call></expr></range></decl></init>)</control> <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">971</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">990</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>StackId</name> <call><name>getStackVersion</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <return>return <expr><call><name><name>gson</name><operator>.</operator><name>fromJson</name></name><argument_list>(<argument><expr><call><name><name>stateEntity</name><operator>.</operator><name>getCurrentStackVersion</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><name><name>StackId</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;</return>
     </block_content>}</block>
     <finally>finally <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">982</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">1001</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>void</name> <call><name>setStackVersion</name><argument_list>(<argument><expr><name>StackId</name> <name>stackVersion</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><call><name><name>stateEntity</name><operator>.</operator><name>setCurrentStackVersion</name></name><argument_list>(<argument><expr><call><name><name>gson</name><operator>.</operator><name>toJson</name></name><argument_list>(<argument><expr><name>stackVersion</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><call><name>saveIfPersisted</name><argument_list>()</argument_list></call></expr>;</expr_stmt>
     </block_content>}</block></try>
@@ <operator>-</operator><literal type="number">995</literal><operator>,</operator><literal type="number">8</literal> <operator>+</operator><literal type="number">1014</literal><operator>,</operator><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>State</name> <call><name>getDesiredState</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <return>return <expr><call><name><name>desiredStateEntity</name><operator>.</operator><name>getDesiredState</name></name><argument_list>()</argument_list></call></expr>;</return>
     </block_content>}</block>
     <finally>finally <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1006</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">1025</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>void</name> <call><name>setDesiredState</name><argument_list>(<argument><expr><name>State</name> <name>state</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><call><name><name>desiredStateEntity</name><operator>.</operator><name>setDesiredState</name></name><argument_list>(<argument><expr><name>state</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><call><name>saveIfPersisted</name><argument_list>()</argument_list></call></expr>;</expr_stmt>
     </block_content>}</block></try>
@@ <operator>-</operator><literal type="number">1018</literal><operator>,</operator><literal type="number">8</literal> <operator>+</operator><literal type="number">1037</literal><operator>,</operator><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name> <call><name>getDesiredConfigVersionsRecursive</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <decl_stmt><decl><type><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name></type> <name>fullDesiredConfigVersions</name> <init>=
           <expr><operator>new</operator> <call><name><name>HashMap</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
       <decl_stmt><decl><type><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>Config</name></argument>&gt;</argument_list></name></type> <name>desiredConfs</name> <init>= <expr><call><name>getDesiredConfigs</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1037</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">1056</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
   @<expr><name>Override</name>
   <specifier>public</specifier> <name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>Config</name></argument>&gt;</argument_list></name> <call><name>getDesiredConfigs</name><argument_list>()</argument_list></call> <block>{
     <expr><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>Config</name></argument>&gt;</argument_list></name> <name>map</name> <operator>=</operator> <operator>new</operator> <call><name><name>HashMap</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>Config</name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr>;
    <call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></block></expr>;</block></expr></expr_stmt>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <for>for <control>(<init><decl><type><name><name>Entry</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name></type> <name>entry</name> <range>: <expr><call><name><name>desiredConfigs</name><operator>.</operator><name>entrySet</name></name><argument_list>()</argument_list></call></expr></range></decl></init>)</control> <block>{<block_content>
         <decl_stmt><decl><type><name>Config</name></type> <name>config</name> <init>= <expr><call><name><name>clusters</name><operator>.</operator><name>getClusterById</name></name><argument_list>(<argument><expr><call><name>getClusterId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>getConfig</name><argument_list>(
             <argument><expr><call><name><name>entry</name><operator>.</operator><name>getKey</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><call><name><name>entry</name><operator>.</operator><name>getValue</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1067</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">1086</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
   @<expr><name>Override</name>
   @<name>Transactional</name>
   <specifier>public</specifier> <name>void</name> <call><name>updateDesiredConfigs</name><argument_list>(<argument><expr><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>Config</name></argument>&gt;</argument_list></name> <name>configs</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
 
       <for>for <control>(<init><decl><type><name><name>Entry</name><argument_list type="generic">&lt;<argument><name>String</name></argument>,<argument><name>Config</name></argument>&gt;</argument_list></name></type> <name>entry</name> <range>: <expr><call><name><name>configs</name><operator>.</operator><name>entrySet</name></name><argument_list>()</argument_list></call></expr></range></decl></init>)</control> <block>{<block_content>
 
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1109</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">1128</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>StackId</name> <call><name>getDesiredStackVersion</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <return>return <expr><call><name><name>gson</name><operator>.</operator><name>fromJson</name></name><argument_list>(<argument><expr><call><name><name>desiredStateEntity</name><operator>.</operator><name>getDesiredStackVersion</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><name><name>StackId</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;</return>
     </block_content>}</block>
     <finally>finally <block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1120</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">1139</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>void</name> <call><name>setDesiredStackVersion</name><argument_list>(<argument><expr><name>StackId</name> <name>stackVersion</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><call><name><name>desiredStateEntity</name><operator>.</operator><name>setDesiredStackVersion</name></name><argument_list>(<argument><expr><call><name><name>gson</name><operator>.</operator><name>toJson</name></name><argument_list>(<argument><expr><name>stackVersion</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><call><name>saveIfPersisted</name><argument_list>()</argument_list></call></expr>;</expr_stmt>
     </block_content>}</block></try>
@@ <operator>-</operator><literal type="number">1132</literal><operator>,</operator><literal type="number">8</literal> <operator>+</operator><literal type="number">1151</literal><operator>,</operator><literal type="number">8</literal> @@ <specifier>public</specifier> <name>class</name> <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>ServiceComponentHostResponse</name> <call><name>convertToResponse</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <decl_stmt><decl><type><name>ServiceComponentHostResponse</name></type> <name>r</name> <init>= <expr><operator>new</operator> <call><name>ServiceComponentHostResponse</name><argument_list>(
           <argument><expr><call><name><name>serviceComponent</name><operator>.</operator><name>getClusterName</name></name><argument_list>()</argument_list></call></expr></argument>,
           <argument><expr><call><name><name>serviceComponent</name><operator>.</operator><name>getServiceName</name></name><argument_list>()</argument_list></call></expr></argument>,
<argument>@@ <expr><operator>-</operator><literal type="number">1157</literal></expr></argument>,<argument><expr><literal type="number">13</literal> <operator>+</operator><literal type="number">1176</literal></expr></argument>,<argument><expr><literal type="number">19</literal> @@ <specifier>public</specifier> class <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>String</name> <call><name>getClusterName</name><argument_list>()</argument_list></call> <block>{
    <return>return <expr><call><name><name>serviceComponent</name><operator>.</operator><name>getClusterName</name></name><argument_list>()</argument_list></call></expr>;</return>
    <call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></block></expr>;</block></expr></argument></argument_list></call></expr></init></decl></decl_stmt>
    <try>try <block>{<block_content>
      <return>return <expr><call><name><name>serviceComponent</name><operator>.</operator><name>getClusterName</name></name><argument_list>()</argument_list></call></expr>;</return>
    </block_content>}</block> <finally>finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></finally></try>

   </block_content>}</block></try>
 
   @<name>Override</name>
   <specifier>public</specifier> <name>void</name> <call><name>debugDump</name><argument_list>(<argument><expr><name>StringBuilder</name> <name>sb</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></block></block></expr></expr_stmt>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><call><name><name>sb</name><operator>.</operator><name>append</name></name><argument_list>(<argument><expr><literal type="string">"ServiceComponentHost={ hostname="</literal> <operator>+</operator> <call><name>getHostName</name><argument_list>()</argument_list></call>
           <operator>+</operator> <literal type="string">", serviceComponentName="</literal> <operator>+</operator> <call><name><name>serviceComponent</name><operator>.</operator><name>getName</name></name><argument_list>()</argument_list></call>
           <operator>+</operator> <literal type="string">", clusterName="</literal> <operator>+</operator> <call><name><name>serviceComponent</name><operator>.</operator><name>getClusterName</name></name><argument_list>()</argument_list></call>
@@ <operator>-</operator><literal type="number">1181</literal></expr></argument>,<argument><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">1206</literal></expr></argument>,<argument><expr><literal type="number">8</literal> @@ <specifier>public</specifier> class <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>boolean</name> <call><name>isPersisted</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <return>return <expr><name>persisted</name></expr>;</return>
     </block_content>}</block> <finally>finally <block>{<block_content>
       <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1191</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">1216</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> class <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>void</name> <call><name>persist</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <if_stmt><if>if <condition>(<expr><operator>!</operator><name>persisted</name></expr>)</condition> <block>{<block_content>
         <expr_stmt><expr><call><name>persistEntities</name><argument_list>()</argument_list></call></expr>;</expr_stmt>
         <expr_stmt><expr><call><name>refresh</name><argument_list>()</argument_list></call></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1235</literal></expr><operator>,</operator><expr><literal type="number">23</literal> <operator>+</operator><literal type="number">1260</literal></expr><operator>,</operator><expr><literal type="number">29</literal> @@ <specifier>public</specifier> class <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   @<name>Transactional</name>
  <specifier>public</specifier> <specifier>synchronized</specifier> <name>void</name> <call><name>refresh</name><argument_list>()</argument_list></call> <block>{
    <if_stmt><if>if <condition>(<expr><call><name>isPersisted</name><argument_list>()</argument_list></call></expr>)</condition> <block>{<block_content>
      <decl_stmt><decl><type><name>HostComponentStateEntityPK</name></type> <name>pk</name> <init>= <expr><operator>new</operator> <call><name>HostComponentStateEntityPK</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
      <decl_stmt><decl><type><name>HostComponentDesiredStateEntityPK</name></type> <name>dpk</name> <init>= <expr><operator>new</operator> <call><name>HostComponentDesiredStateEntityPK</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
      <expr_stmt><expr><call><name><name>pk</name><operator>.</operator><name>setClusterId</name></name><argument_list>(<argument><expr><call><name>getClusterId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>pk</name><operator>.</operator><name>setComponentName</name></name><argument_list>(<argument><expr><call><name>getServiceComponentName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>pk</name><operator>.</operator><name>setServiceName</name></name><argument_list>(<argument><expr><call><name>getServiceName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>pk</name><operator>.</operator><name>setHostName</name></name><argument_list>(<argument><expr><call><name>getHostName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>dpk</name><operator>.</operator><name>setClusterId</name></name><argument_list>(<argument><expr><call><name>getClusterId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>dpk</name><operator>.</operator><name>setComponentName</name></name><argument_list>(<argument><expr><call><name>getServiceComponentName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>dpk</name><operator>.</operator><name>setServiceName</name></name><argument_list>(<argument><expr><call><name>getServiceName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>dpk</name><operator>.</operator><name>setHostName</name></name><argument_list>(<argument><expr><call><name>getHostName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><name>stateEntity</name> <operator>=</operator> <call><name><name>hostComponentStateDAO</name><operator>.</operator><name>findByPK</name></name><argument_list>(<argument><expr><name>pk</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><name>desiredStateEntity</name> <operator>=</operator> <call><name><name>hostComponentDesiredStateDAO</name><operator>.</operator><name>findByPK</name></name><argument_list>(<argument><expr><name>dpk</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>hostComponentStateDAO</name><operator>.</operator><name>refresh</name></name><argument_list>(<argument><expr><name>stateEntity</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>hostComponentDesiredStateDAO</name><operator>.</operator><name>refresh</name></name><argument_list>(<argument><expr><name>desiredStateEntity</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  <function><type><specifier>public</specifier> <name>void</name></type> <name>refresh</name><parameter_list>()</parameter_list> <block>{<block_content>
    <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    <try>try <block>{<block_content>
      <if_stmt><if>if <condition>(<expr><call><name>isPersisted</name><argument_list>()</argument_list></call></expr>)</condition> <block>{<block_content>
        <decl_stmt><decl><type><name>HostComponentStateEntityPK</name></type> <name>pk</name> <init>= <expr><operator>new</operator> <call><name>HostComponentStateEntityPK</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
        <decl_stmt><decl><type><name>HostComponentDesiredStateEntityPK</name></type> <name>dpk</name> <init>= <expr><operator>new</operator> <call><name>HostComponentDesiredStateEntityPK</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt><expr><call><name><name>pk</name><operator>.</operator><name>setClusterId</name></name><argument_list>(<argument><expr><call><name>getClusterId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>pk</name><operator>.</operator><name>setComponentName</name></name><argument_list>(<argument><expr><call><name>getServiceComponentName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>pk</name><operator>.</operator><name>setServiceName</name></name><argument_list>(<argument><expr><call><name>getServiceName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>pk</name><operator>.</operator><name>setHostName</name></name><argument_list>(<argument><expr><call><name>getHostName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>dpk</name><operator>.</operator><name>setClusterId</name></name><argument_list>(<argument><expr><call><name>getClusterId</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>dpk</name><operator>.</operator><name>setComponentName</name></name><argument_list>(<argument><expr><call><name>getServiceComponentName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>dpk</name><operator>.</operator><name>setServiceName</name></name><argument_list>(<argument><expr><call><name>getServiceName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>dpk</name><operator>.</operator><name>setHostName</name></name><argument_list>(<argument><expr><call><name>getHostName</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><name>stateEntity</name> <operator>=</operator> <call><name><name>hostComponentStateDAO</name><operator>.</operator><name>findByPK</name></name><argument_list>(<argument><expr><name>pk</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><name>desiredStateEntity</name> <operator>=</operator> <call><name><name>hostComponentDesiredStateDAO</name><operator>.</operator><name>findByPK</name></name><argument_list>(<argument><expr><name>dpk</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>hostComponentStateDAO</name><operator>.</operator><name>refresh</name></name><argument_list>(<argument><expr><name>stateEntity</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>hostComponentDesiredStateDAO</name><operator>.</operator><name>refresh</name></name><argument_list>(<argument><expr><name>desiredStateEntity</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt/>}</block_content>
    } finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
     <expr_stmt/>}</block_content>

   }
 
   @Transactional
@@ -1263</block></block><operator>,</operator><expr_stmt><expr><literal type="number">9</literal> <operator>+</operator><literal type="number">1294</literal></expr><operator>,</operator><expr><literal type="number">9</literal> @@ <specifier>public</specifier> class <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
   }</block>
 
   @<name>Override</name>
  <specifier>public</specifier> <specifier>synchronized</specifier> <name>boolean</name> <call><name>canBeRemoved</name><argument_list>()</argument_list></call> <block>{
  <expr><specifier>public</specifier> <name>boolean</name> <call><name>canBeRemoved</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
 
       <return>return <expr><operator>(</operator><call><name>getDesiredState</name><argument_list>()</argument_list></call><operator>.</operator><call><name>isRemovableState</name><argument_list>()</argument_list></call> <operator>&amp;&amp;</operator>
               <call><name>getState</name><argument_list>()</argument_list></call><operator>.</operator><call><name>isRemovableState</name><argument_list>()</argument_list></call><operator>)</operator></expr>;</return>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1277</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">1308</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> class <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>void</name> <call><name>deleteDesiredConfigs</name><argument_list>(<argument><expr><name><name>Set</name><argument_list type="generic">&lt;<argument><name>String</name></argument>&gt;</argument_list></name> <name>configTypes</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <expr_stmt><expr><call><name><name>hostComponentDesiredConfigMappingDAO</name><operator>.</operator><name>removeByType</name></name><argument_list>(<argument><expr><name>configTypes</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
       <for>for <control>(<init><decl><type><name>String</name></type> <name>configType</name> <range>: <expr><name>configTypes</name></expr></range></decl></init>)</control> <block>{<block_content>
         <expr_stmt><expr><call><name><name>desiredConfigs</name><operator>.</operator><name>remove</name></name><argument_list>(<argument><expr><name>configType</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1290</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">1321</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <specifier>public</specifier> class <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
 
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>void</name> <call><name>delete</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</block></expr>
     <try>try <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
       <if_stmt><if>if <condition>(<expr><name>persisted</name></expr>)</condition> <block>{<block_content>
         <expr_stmt><expr><call><name>removeEntities</name><argument_list>()</argument_list></call></expr>;</expr_stmt>
         <expr_stmt><expr><name>persisted</name> <operator>=</operator> <literal type="boolean">false</literal></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1324</literal></expr><operator>,</operator><expr><literal type="number">35</literal> <operator>+</operator><literal type="number">1355</literal></expr><operator>,</operator><expr><literal type="number">53</literal> @@ <specifier>public</specifier> class <name>ServiceComponentHostImpl</name> implements <name>ServiceComponentHost</name> <block>{
   
   @<expr><name>Override</name>
   <specifier>public</specifier> <name>void</name> <call><name>updateActualConfigs</name><argument_list>(<argument><expr><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name></argument>&gt;</argument_list></name> <name>configTags</name></expr></argument>)</argument_list></call> <block>{
    <expr><name>actualConfigs</name> <operator>=</operator> <operator>new</operator> <call><name><name>HashMap</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>DesiredConfig</name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr>;
    
    <name>String</name> <name>hostName</name> <operator>=</operator> <call><name>getHostName</name><argument_list>()</argument_list></call></block></expr>;</block></expr></expr_stmt>
    
    <for>for <control>(<init><decl><type><name><name>Entry</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>,<argument><name>String</name></argument>&gt;</argument_list></name></argument>&gt;</argument_list></name></type> <name>entry</name> <range>: <expr><call><name><name>configTags</name><operator>.</operator><name>entrySet</name></name><argument_list>()</argument_list></call></expr></range></decl></init>)</control> <block>{<block_content>
      <decl_stmt><decl><type><name>String</name></type> <name>type</name> <init>= <expr><call><name><name>entry</name><operator>.</operator><name>getKey</name></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
      <decl_stmt><decl><type><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name></type> <name>values</name> <init>= <expr><call><name><name>entry</name><operator>.</operator><name>getValue</name></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
      
      <decl_stmt><decl><type><name>String</name></type> <name>tag</name> <init>= <expr><call><name><name>values</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"tag"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
      <decl_stmt><decl><type><name>String</name></type> <name>hostTag</name> <init>= <expr><call><name><name>values</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"host_override_tag"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
      
      <decl_stmt><decl><type><name>DesiredConfig</name></type> <name>dc</name> <init>= <expr><operator>new</operator> <call><name>DesiredConfig</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
      <expr_stmt><expr><call><name><name>dc</name><operator>.</operator><name>setVersion</name></name><argument_list>(<argument><expr><name>tag</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>actualConfigs</name><operator>.</operator><name>put</name></name><argument_list>(<argument><expr><name>type</name></expr></argument>, <argument><expr><name>dc</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <if_stmt><if>if <condition>(<expr><literal type="null">null</literal> <operator>!=</operator> <name>hostTag</name> <operator>&amp;&amp;</operator> <literal type="null">null</literal> <operator>!=</operator> <name>hostName</name></expr>)</condition> <block>{<block_content>
        <decl_stmt><decl><type><name><name>List</name><argument_list type="generic">&lt;<argument><name>HostOverride</name></argument>&gt;</argument_list></name></type> <name>list</name> <init>= <expr><operator>new</operator> <call><name><name>ArrayList</name><argument_list type="generic">&lt;<argument><name>HostOverride</name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt><expr><call><name><name>list</name><operator>.</operator><name>add</name></name> <argument_list>(<argument><expr><operator>new</operator> <call><name>HostOverride</name><argument_list>(<argument><expr><name>hostName</name></expr></argument>, <argument><expr><name>hostTag</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>dc</name><operator>.</operator><name>setHostOverrides</name></name><argument_list>(<argument><expr><name>list</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    <try>try <block>{<block_content>
      <expr_stmt><expr><name>actualConfigs</name> <operator>=</operator> <operator>new</operator> <call><name><name>HashMap</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>DesiredConfig</name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr>;</expr_stmt>

      <decl_stmt><decl><type><name>String</name></type> <name>hostName</name> <init>= <expr><call><name>getHostName</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>

      <for>for <control>(<init><decl><type><name><name>Entry</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name></argument>&gt;</argument_list></name></type> <name>entry</name> <range>: <expr><call><name><name>configTags</name><operator>.</operator><name>entrySet</name></name><argument_list>()</argument_list></call></expr></range></decl></init>)</control> <block>{<block_content>
        <decl_stmt><decl><type><name>String</name></type> <name>type</name> <init>= <expr><call><name><name>entry</name><operator>.</operator><name>getKey</name></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
        <decl_stmt><decl><type><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name></type> <name>values</name> <init>= <expr><call><name><name>entry</name><operator>.</operator><name>getValue</name></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>

        <decl_stmt><decl><type><name>String</name></type> <name>tag</name> <init>= <expr><call><name><name>values</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"tag"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <decl_stmt><decl><type><name>String</name></type> <name>hostTag</name> <init>= <expr><call><name><name>values</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"host_override_tag"</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

        <decl_stmt><decl><type><name>DesiredConfig</name></type> <name>dc</name> <init>= <expr><operator>new</operator> <call><name>DesiredConfig</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
        <expr_stmt><expr><call><name><name>dc</name><operator>.</operator><name>setVersion</name></name><argument_list>(<argument><expr><name>tag</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt><expr><call><name><name>actualConfigs</name><operator>.</operator><name>put</name></name><argument_list>(<argument><expr><name>type</name></expr></argument>, <argument><expr><name>dc</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <if_stmt><if>if <condition>(<expr><literal type="null">null</literal> <operator>!=</operator> <name>hostTag</name> <operator>&amp;&amp;</operator> <literal type="null">null</literal> <operator>!=</operator> <name>hostName</name></expr>)</condition> <block>{<block_content>
          <decl_stmt><decl><type><name><name>List</name><argument_list type="generic">&lt;<argument><name>HostOverride</name></argument>&gt;</argument_list></name></type> <name>list</name> <init>= <expr><operator>new</operator> <call><name><name>ArrayList</name><argument_list type="generic">&lt;<argument><name>HostOverride</name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
          <expr_stmt><expr><call><name><name>list</name><operator>.</operator><name>add</name></name><argument_list>(<argument><expr><operator>new</operator> <call><name>HostOverride</name><argument_list>(<argument><expr><name>hostName</name></expr></argument>, <argument><expr><name>hostTag</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
          <expr_stmt><expr><call><name><name>dc</name><operator>.</operator><name>setHostOverrides</name></name><argument_list>(<argument><expr><name>list</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt/>}</block_content>
       }
    } finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>writeLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
     <expr_stmt/>}</block_content>

   }
   
   @Override
   public Map&lt;String</block></block><operator>,</operator> <expr_stmt><expr><name>DesiredConfig</name><operator>&gt;</operator> <call><name>getActualConfigs</name><argument_list>()</argument_list></call> <block>{
    <return>return <expr><name>actualConfigs</name></expr>;</return>
    <call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></block></expr>;</expr_stmt></if></if_stmt>
    <try>try <block>{<block_content>
      <return>return <expr><name>actualConfigs</name></expr>;</return>
    <expr_stmt/>}</block_content> finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    <expr_stmt/>}</block_content>

   }
 
   @Override
   public HostState getHostState(</block></block></try>)</block_content> <block>{<block_content>
    <return>return <expr><call><name><name>host</name><operator>.</operator><name>getState</name></name><argument_list>()</argument_list></call></expr>;</return>
    <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>lock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    <try>try <block>{<block_content>
      <return>return <expr><call><name><name>host</name><operator>.</operator><name>getState</name></name><argument_list>()</argument_list></call></expr>;</return>
    <expr_stmt/>}</block_content> finally <block>{<block_content>
      <expr_stmt><expr><call><name><name>readLock</name><operator>.</operator><name>unlock</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    <expr_stmt/>}</block_content>

   }
 }
diff --git a/ambari-server/src/main/resources/stacks/HDP/1.3.0/repos/repoinfo.xml b/ambari-server/src/main/resources/stacks/HDP/1.3.0/repos/repoinfo.xml
index cff983a78f..eb92e2ecd8 100644
-- a/ambari-server/src/main/resources/stacks/HDP/1.3.0/repos/repoinfo.xml
++ b/ambari-server/src/main/resources/stacks/HDP/1.3.0/repos/repoinfo.xml
@@ -18</block></block><operator>,</operator><expr_stmt><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">18</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
 <operator>&lt;</operator><name>reposinfo</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"centos6"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos6&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos6/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">31</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">31</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"centos5"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos5&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos5/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">44</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">44</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"redhat6"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos6&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos6/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">57</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">57</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"redhat5"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos5&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos5/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">70</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">70</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"oraclelinux6"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos6&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos6/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">83</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">83</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"oraclelinux5"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos5&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos5/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">96</literal></expr><operator>,</operator><expr><literal type="number">14</literal> <operator>+</operator><literal type="number">96</literal></expr><operator>,</operator><expr><literal type="number">14</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"suse11"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/suse11&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/suse11/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
     <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"sles11"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/suse11&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/suse11/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>stacks</name><operator>/</operator><name>HDPLocal</name><operator>/</operator><literal type="number">1.3.0</literal><operator>/</operator><name>repos</name><operator>/</operator><name><name>repoinfo</name><operator>.</operator><name>xml</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>stacks</name><operator>/</operator><name>HDPLocal</name><operator>/</operator><literal type="number">1.3.0</literal><operator>/</operator><name>repos</name><operator>/</operator><name><name>repoinfo</name><operator>.</operator><name>xml</name></name>
<name>index</name> <name>cff983a78f</name><operator>..</operator><name>eb92e2ecd8</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>stacks</name><operator>/</operator><name>HDPLocal</name><operator>/</operator><literal type="number">1.3.0</literal><operator>/</operator><name>repos</name><operator>/</operator><name><name>repoinfo</name><operator>.</operator><name>xml</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>stacks</name><operator>/</operator><name>HDPLocal</name><operator>/</operator><literal type="number">1.3.0</literal><operator>/</operator><name>repos</name><operator>/</operator><name><name>repoinfo</name><operator>.</operator><name>xml</name></name>
@@ <operator>-</operator><literal type="number">18</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">18</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
 <operator>&lt;</operator><name>reposinfo</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"centos6"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos6&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos6/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">31</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">31</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"centos5"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos5&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos5/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">44</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">44</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"redhat6"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos6&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos6/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">57</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">57</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"redhat5"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos5&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos5/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">70</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">70</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"oraclelinux6"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos6&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos6/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">83</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">83</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"oraclelinux5"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/centos5&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/centos5/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
@@ <operator>-</operator><literal type="number">96</literal></expr><operator>,</operator><expr><literal type="number">14</literal> <operator>+</operator><literal type="number">96</literal></expr><operator>,</operator><expr><literal type="number">14</literal> @@
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"suse11"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/suse11&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/suse11/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
   <operator>&lt;</operator><operator>/</operator><name>os</name><operator>&gt;</operator>
     <operator>&lt;</operator><name>os</name> <name>type</name><operator>=</operator><literal type="string">"sles11"</literal><operator>&gt;</operator>
     <operator>&lt;</operator><name>repo</name><operator>&gt;</operator>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//s3.amazonaws.com/dev.hortonworks.com/HDP-1.3.0/repos/suse11&lt;/baseurl&gt;</comment>
      <operator>&lt;</operator><name>baseurl</name><operator>&gt;</operator><name>http</name><operator>:</operator><comment type="line">//public-repo-1.hortonworks.com/HDP/suse11/1.x/GA/1.3.0.0&lt;/baseurl&gt;</comment>
       <operator>&lt;</operator><name>repoid</name><operator>&gt;</operator><name>HDP</name><operator>-</operator><literal type="number">1.3.0</literal><operator>&lt;</operator><operator>/</operator><name>repoid</name><operator>&gt;</operator>
       <operator>&lt;</operator><name>reponame</name><operator>&gt;</operator><name><name>HDP</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>reponame</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><operator>/</operator><name>repo</name><operator>&gt;</operator>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>resources</name><operator>/</operator><name><name>deploy_HDP2</name><operator>.</operator><name>sh</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>resources</name><operator>/</operator><name><name>deploy_HDP2</name><operator>.</operator><name>sh</name></name>
<name>index</name> <literal type="number">1adf4ab368</literal><operator>..</operator><literal type="number">37f5528fc0</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>resources</name><operator>/</operator><name><name>deploy_HDP2</name><operator>.</operator><name>sh</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>resources</name><operator>/</operator><name><name>deploy_HDP2</name><operator>.</operator><name>sh</name></name>
@@ <operator>-</operator><literal type="number">16</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">16</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>curl</name> <operator>-</operator><name>i</name> <operator>-</operator><name>X</name> <name>PUT</name> <operator>-</operator><name>d</name> <literal type="char">'{"Clusters":{"desired_configs":{"type":"mapred-queue-acls","t
 echo "-----------------------mapred-queue-acls-----------------------"
 curl -i -X PUT -d '</literal><block>{<expr><literal type="string">"Clusters"</literal><operator>:</operator><block>{<expr><literal type="string">"desired_configs"</literal><operator>:</operator><block>{<expr><literal type="string">"type"</literal><operator>:</operator><literal type="string">"mapred-site"</literal></expr>,<expr><literal type="string">"tag"</literal><operator>:</operator><literal type="string">"version1"</literal></expr>,<expr><literal type="string">"properties"</literal><operator>:</operator><block>{<expr><literal type="string">"io.sort.mb"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"io.sort.record.percent"</literal><operator>:</operator><literal type="string">".2"</literal></expr>,<expr><literal type="string">"io.sort.spill.percent"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"io.sort.factor"</literal><operator>:</operator><literal type="string">"100"</literal></expr>,<expr><literal type="string">"mapred.tasktracker.tasks.sleeptime-before-sigkill"</literal><operator>:</operator><literal type="string">"250"</literal></expr>,<expr><literal type="string">"mapred.job.tracker.handler.count"</literal><operator>:</operator><literal type="string">"50"</literal></expr>,<expr><literal type="string">"mapred.system.dir"</literal><operator>:</operator><literal type="string">"/mapred/system"</literal></expr>,<expr><literal type="string">"mapred.job.tracker"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.job.tracker.http.address"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.local.dir"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapreduce.cluster.administrators"</literal><operator>:</operator><literal type="string">"hadoop"</literal></expr>,<expr><literal type="string">"mapred.reduce.parallel.copies"</literal><operator>:</operator><literal type="string">"30"</literal></expr>,<expr><literal type="string">"mapred.tasktracker.map.tasks.maximum"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.tasktracker.reduce.tasks.maximum"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"tasktracker.http.threads"</literal><operator>:</operator><literal type="string">"50"</literal></expr>,<expr><literal type="string">"mapred.map.tasks.speculative.execution"</literal><operator>:</operator><literal type="string">"false"</literal></expr>,<expr><literal type="string">"mapred.reduce.tasks.speculative.execution"</literal><operator>:</operator><literal type="string">"false"</literal></expr>,<expr><literal type="string">"mapred.reduce.slowstart.completed.maps"</literal><operator>:</operator><literal type="string">"0.05"</literal></expr>,<expr><literal type="string">"mapred.inmem.merge.threshold"</literal><operator>:</operator><literal type="string">"1000"</literal></expr>,<expr><literal type="string">"mapred.job.shuffle.merge.percent"</literal><operator>:</operator><literal type="string">"0.66"</literal></expr>,<expr><literal type="string">"mapred.job.shuffle.input.buffer.percent"</literal><operator>:</operator><literal type="string">"0.7"</literal></expr>,<expr><literal type="string">"mapred.map.output.compression.codec"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.output.compression.type"</literal><operator>:</operator><literal type="string">"BLOCK"</literal></expr>,<expr><literal type="string">"mapred.jobtracker.completeuserjobs.maximum"</literal><operator>:</operator><literal type="string">"0"</literal></expr>,<expr><literal type="string">"mapred.jobtracker.taskScheduler"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.jobtracker.restart.recover"</literal><operator>:</operator><literal type="string">"false"</literal></expr>,<expr><literal type="string">"mapred.job.reduce.input.buffer.percent"</literal><operator>:</operator><literal type="string">"0.0"</literal></expr>,<expr><literal type="string">"mapreduce.reduce.input.limit"</literal><operator>:</operator><literal type="string">"10737418240"</literal></expr>,<expr><literal type="string">"mapred.compress.map.output"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.task.timeout"</literal><operator>:</operator><literal type="string">"600000"</literal></expr>,<expr><literal type="string">"jetty.connector"</literal><operator>:</operator><literal type="string">"org.mortbay.jetty.nio.SelectChannelConnector"</literal></expr>,<expr><literal type="string">"mapred.task.tracker.task-controller"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.child.root.logger"</literal><operator>:</operator><literal type="string">"INFO,TLA"</literal></expr>,<expr><literal type="string">"mapred.child.java.opts"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.cluster.map.memory.mb"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.cluster.reduce.memory.mb"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.job.map.memory.mb"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.job.reduce.memory.mb"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.cluster.max.map.memory.mb"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.cluster.max.reduce.memory.mb"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.hosts"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.hosts.exclude"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.max.tracker.blacklists"</literal><operator>:</operator><literal type="string">"16"</literal></expr>,<expr><literal type="string">"mapred.healthChecker.script.path"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.healthChecker.interval"</literal><operator>:</operator><literal type="string">"135000"</literal></expr>,<expr><literal type="string">"mapred.healthChecker.script.timeout"</literal><operator>:</operator><literal type="string">"60000"</literal></expr>,<expr><literal type="string">"mapred.job.tracker.persist.jobstatus.active"</literal><operator>:</operator><literal type="string">"false"</literal></expr>,<expr><literal type="string">"mapred.job.tracker.persist.jobstatus.hours"</literal><operator>:</operator><literal type="string">"1"</literal></expr>,<expr><literal type="string">"mapred.job.tracker.persist.jobstatus.dir"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.jobtracker.retirejob.check"</literal><operator>:</operator><literal type="string">"10000"</literal></expr>,<expr><literal type="string">"mapred.jobtracker.retirejob.interval"</literal><operator>:</operator><literal type="string">"0"</literal></expr>,<expr><literal type="string">"mapred.job.tracker.history.completed.location"</literal><operator>:</operator><literal type="string">"/mapred/history/done"</literal></expr>,<expr><literal type="string">"mapred.task.maxvmem"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.jobtracker.maxtasks.per.job"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapreduce.fileoutputcommitter.marksuccessfuljobs"</literal><operator>:</operator><literal type="string">"false"</literal></expr>,<expr><literal type="string">"mapred.userlog.retain.hours"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.job.reuse.jvm.num.tasks"</literal><operator>:</operator><literal type="string">"1"</literal></expr>,<expr><literal type="string">"mapreduce.jobtracker.kerberos.principal"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapreduce.tasktracker.kerberos.principal"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"hadoop.job.history.user.location"</literal><operator>:</operator><literal type="string">"none"</literal></expr>,<expr><literal type="string">"mapreduce.jobtracker.keytab.file"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapreduce.tasktracker.keytab.file"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapreduce.jobtracker.staging.root.dir"</literal><operator>:</operator><literal type="string">"/user"</literal></expr>,<expr><literal type="string">"mapreduce.tasktracker.group"</literal><operator>:</operator><literal type="string">"hadoop"</literal></expr>,<expr><literal type="string">"mapreduce.jobtracker.split.metainfo.maxsize"</literal><operator>:</operator><literal type="string">"50000000"</literal></expr>,<expr><literal type="string">"mapreduce.history.server.embedded"</literal><operator>:</operator><literal type="string">"false"</literal></expr>,<expr><literal type="string">"mapreduce.history.server.http.address"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapreduce.jobhistory.kerberos.principal"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapreduce.jobhistory.keytab.file"</literal><operator>:</operator><literal type="string">""</literal></expr>,<expr><literal type="string">"mapred.jobtracker.blacklist.fault-timeout-window"</literal><operator>:</operator><literal type="string">"180"</literal></expr>,<expr><literal type="string">"mapred.jobtracker.blacklist.fault-bucket-width"</literal><operator>:</operator><literal type="string">"15"</literal></expr>,<expr><literal type="string">"mapred.queue.names"</literal><operator>:</operator><literal type="string">"default"</literal></expr>,<expr><literal type="string">"mapreduce.shuffle.port"</literal><operator>:</operator><literal type="string">"8081"</literal></expr>,<expr><literal type="string">"mapreduce.jobhistory.intermediate-done-dir"</literal> <operator>:</operator> <literal type="string">"/mr-history/tmp"</literal></expr>,<expr><literal type="string">"mapreduce.jobhistory.done-dir"</literal> <operator>:</operator> <literal type="string">"/mr-history/done"</literal></expr>}</block></expr>}</block></expr>}</block></expr>}</block><literal type="char">' -u admin:admin http://localhost:8080/api/v1/clusters/c1
 echo "-----------------------mapred-site-----------------------"
curl -i -X PUT -d `echo '</literal><block>{<expr><literal type="string">"Clusters"</literal><operator>:</operator><block>{<expr><literal type="string">"desired_configs"</literal><operator>:</operator><block>{<expr><literal type="string">"type"</literal><operator>:</operator><literal type="string">"yarn-site"</literal></expr>,<expr><literal type="string">"tag"</literal><operator>:</operator><literal type="string">"version1"</literal></expr>,<expr><literal type="string">"properties"</literal><operator>:</operator><block>{<expr><literal type="string">"yarn.resourcemanager.resource-tracker.address"</literal><operator>:</operator><literal type="string">"HOST:8025"</literal></expr>,<expr><literal type="string">"yarn.resourcemanager.scheduler.address"</literal><operator>:</operator><literal type="string">"HOST:8030"</literal></expr>,<expr><literal type="string">"yarn.resourcemanager.address"</literal><operator>:</operator><literal type="string">"HOST:8050"</literal></expr>,<expr><literal type="string">"yarn.resourcemanager.admin.address"</literal><operator>:</operator><literal type="string">"HOST:8141"</literal></expr>,<expr><literal type="string">"yarn.resourcemanager.scheduler.class"</literal><operator>:</operator><literal type="string">"org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler"</literal></expr>,<expr><literal type="string">"yarn.scheduler.minimum-allocation-mb"</literal><operator>:</operator><literal type="string">"1024"</literal></expr>,<expr><literal type="string">"yarn.scheduler.maximum-allocation-mb"</literal><operator>:</operator><literal type="string">"8192"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.address"</literal><operator>:</operator><literal type="string">"0.0.0.0:45454"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.local-dirs"</literal><operator>:</operator><literal type="string">"/yarn/loc/dir"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.resource.memory-mb"</literal><operator>:</operator><literal type="string">"8192"</literal></expr>,<expr><literal type="string">"yarn.application.classpath"</literal><operator>:</operator><literal type="string">"/etc/hadoop/conf,/usr/lib/hadoop/*,/usr/lib/hadoop/lib/*,/usr/lib/hadoop-hdfs/*,/usr/lib/hadoop-hdfs/lib/*,/usr/lib/hadoop-yarn/*,/usr/lib/hadoop-yarn/lib/*,/usr/lib/hadoop-mapreduce/*,/usr/lib/hadoop-mapreduce/lib/*,/usr/lib/ambari-server/*"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.vmem-pmem-ratio"</literal><operator>:</operator><literal type="string">"2.1"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.container-executor.class"</literal><operator>:</operator><literal type="string">"org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.aux-services"</literal><operator>:</operator><literal type="string">"mapreduce.shuffle"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.aux-services.class"</literal><operator>:</operator><literal type="string">"org.apache.hadoop.mapred.ShuffleHandler"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.log-dirs"</literal><operator>:</operator><literal type="string">"/var/log/yarn"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.container-monitor.interval-ms"</literal><operator>:</operator><literal type="string">"3000"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.health-checker.script.path"</literal><operator>:</operator><literal type="string">"/etc/hadoop/conf/health_check"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.health-checker.interval-ms"</literal><operator>:</operator><literal type="string">"135000"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.health-checker.script.timeout-ms"</literal><operator>:</operator><literal type="string">"60000"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.log.retain-second"</literal><operator>:</operator><literal type="string">"604800"</literal></expr>,<expr><literal type="string">"yarn.log-aggregation-enable"</literal><operator>:</operator><literal type="string">"true"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.remote-app-log-dir"</literal><operator>:</operator><literal type="string">"/app-logs"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.remote-app-log-dir-suffix"</literal><operator>:</operator><literal type="string">"logs"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.log-aggregation.compression-type"</literal><operator>:</operator><literal type="string">"gz"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.delete.debug-delay-sec"</literal><operator>:</operator><literal type="string">"36000"</literal></expr>}</block></expr>}</block></expr>}</block></expr>}</block><literal type="char">'| sed s/HOST/$HOST/g` -u admin:admin http://localhost:8080/api/v1/clusters/c1
curl -i -X PUT -d `echo '</literal><block>{<expr><literal type="string">"Clusters"</literal><operator>:</operator><block>{<expr><literal type="string">"desired_configs"</literal><operator>:</operator><block>{<expr><literal type="string">"type"</literal><operator>:</operator><literal type="string">"yarn-site"</literal></expr>,<expr><literal type="string">"tag"</literal><operator>:</operator><literal type="string">"version1"</literal></expr>,<expr><literal type="string">"properties"</literal><operator>:</operator><block>{<expr><literal type="string">"yarn.resourcemanager.resource-tracker.address"</literal><operator>:</operator><literal type="string">"HOST:8025"</literal></expr>,<expr><literal type="string">"yarn.resourcemanager.scheduler.address"</literal><operator>:</operator><literal type="string">"HOST:8030"</literal></expr>,<expr><literal type="string">"yarn.resourcemanager.address"</literal><operator>:</operator><literal type="string">"HOST:8050"</literal></expr>,<expr><literal type="string">"yarn.resourcemanager.admin.address"</literal><operator>:</operator><literal type="string">"HOST:8141"</literal></expr>,<expr><literal type="string">"yarn.resourcemanager.scheduler.class"</literal><operator>:</operator><literal type="string">"org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler"</literal></expr>,<expr><literal type="string">"yarn.scheduler.minimum-allocation-mb"</literal><operator>:</operator><literal type="string">"1024"</literal></expr>,<expr><literal type="string">"yarn.scheduler.maximum-allocation-mb"</literal><operator>:</operator><literal type="string">"8192"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.address"</literal><operator>:</operator><literal type="string">"0.0.0.0:45454"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.local-dirs"</literal><operator>:</operator><literal type="string">"/yarn/loc/dir"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.resource.memory-mb"</literal><operator>:</operator><literal type="string">"8192"</literal></expr>,<expr><literal type="string">"yarn.application.classpath"</literal><operator>:</operator><literal type="string">"/etc/hadoop/conf,/usr/lib/hadoop/*,/usr/lib/hadoop/lib/*,/usr/lib/hadoop-hdfs/*,/usr/lib/hadoop-hdfs/lib/*,/usr/lib/hadoop-yarn/*,/usr/lib/hadoop-yarn/lib/*,/usr/lib/hadoop-mapreduce/*,/usr/lib/hadoop-mapreduce/lib/*,/usr/lib/ambari-server/*"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.vmem-pmem-ratio"</literal><operator>:</operator><literal type="string">"2.1"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.container-executor.class"</literal><operator>:</operator><literal type="string">"org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.aux-services"</literal><operator>:</operator><literal type="string">"mapreduce.shuffle"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.aux-services.class"</literal><operator>:</operator><literal type="string">"org.apache.hadoop.mapred.ShuffleHandler"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.log-dirs"</literal><operator>:</operator><literal type="string">"/var/log/hadoop-yarn/yarn"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.container-monitor.interval-ms"</literal><operator>:</operator><literal type="string">"3000"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.health-checker.script.path"</literal><operator>:</operator><literal type="string">"/etc/hadoop/conf/health_check"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.health-checker.interval-ms"</literal><operator>:</operator><literal type="string">"135000"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.health-checker.script.timeout-ms"</literal><operator>:</operator><literal type="string">"60000"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.log.retain-second"</literal><operator>:</operator><literal type="string">"604800"</literal></expr>,<expr><literal type="string">"yarn.log-aggregation-enable"</literal><operator>:</operator><literal type="string">"true"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.remote-app-log-dir"</literal><operator>:</operator><literal type="string">"/app-logs"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.remote-app-log-dir-suffix"</literal><operator>:</operator><literal type="string">"logs"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.log-aggregation.compression-type"</literal><operator>:</operator><literal type="string">"gz"</literal></expr>,<expr><literal type="string">"yarn.nodemanager.delete.debug-delay-sec"</literal><operator>:</operator><literal type="string">"36000"</literal></expr>}</block></expr>}</block></expr>}</block></expr>}</block><literal type="char">'| sed s/HOST/$HOST/g` -u admin:admin http://localhost:8080/api/v1/clusters/c1
 echo "-----------------------yarn-site-----------------------"
 
 curl -i -X POST -d '</literal><block>{<expr><literal type="string">"components"</literal><operator>:</operator><index>[<expr><block>{<expr><literal type="string">"ServiceComponentInfo"</literal><operator>:</operator><block>{<expr><literal type="string">"component_name"</literal><operator>:</operator><literal type="string">"NAMENODE"</literal></expr>}</block></expr>}</block></expr><operator>,</operator><block>{<expr><literal type="string">"ServiceComponentInfo"</literal><operator>:</operator><block>{<expr><literal type="string">"component_name"</literal><operator>:</operator><literal type="string">"SECONDARY_NAMENODE"</literal></expr>}</block></expr>}</block></index></expr>,<expr><block>{<expr><literal type="string">"ServiceComponentInfo"</literal><operator>:</operator><block>{<expr><literal type="string">"component_name"</literal><operator>:</operator><literal type="string">"DATANODE"</literal></expr>}</block></expr>}</block></expr>,<expr><block>{<expr><literal type="string">"ServiceComponentInfo"</literal><operator>:</operator><block>{<expr><literal type="string">"component_name"</literal><operator>:</operator><literal type="string">"HDFS_CLIENT"</literal></expr>}</block></expr>}</block>]</expr>}</block><literal type="char">' -u admin:admin http://localhost:8080/api/v1/clusters/c1/services?ServiceInfo/service_name=HDFS
diff --git a/ambari-web/app/config.js b/ambari-web/app/config.js
index 7fb985ec1f..a20488bc04 100644
-- a/ambari-web/app/config.js
++ b/ambari-web/app/config.js
@@ -34,6 +34,8 @@ App.componentsUpdateInterval = 6000;
 App.contentUpdateInterval = 15000;
 App.maxRunsForAppBrowser = 500;
 App.pageReloadTime=3600000;
App.singleNodeInstall = false;
App.singleNodeAlias = document.location.hostname;
 
 // experimental features are automatically enabled if running on brunch server
 App.enableExperimental = false;
diff --git a/ambari-web/app/controllers/global/cluster_controller.js b/ambari-web/app/controllers/global/cluster_controller.js
index 3b97fbe9ff..954b8c053d 100644
-- a/ambari-web/app/controllers/global/cluster_controller.js
++ b/ambari-web/app/controllers/global/cluster_controller.js
@@ -120,7 +120,7 @@ App.ClusterController = Em.Controller.extend({
               if (host) {
                 hostName = host.get('</literal><name>publicHostName</name><literal type="char">');
               }
              return "http://" + hostName + "/ganglia";
              return "http://" + (App.singleNodeInstall ? App.singleNodeAlias : hostName) + "/ganglia";
             }
           }
         }
@@ -154,7 +154,7 @@ App.ClusterController = Em.Controller.extend({
               if (host) {
                 hostName = host.get('</literal><name>publicHostName</name><literal type="char">');
               }
              return "http://" + hostName + "/nagios";
              return "http://" + (App.singleNodeInstall ? App.singleNodeAlias : hostName) + "/nagios";
             }
           }
         }
diff --git a/ambari-web/app/controllers/main/admin/misc_controller.js b/ambari-web/app/controllers/main/admin/misc_controller.js
index 6ef06f60c7..c2e040b6a9 100644
-- a/ambari-web/app/controllers/main/admin/misc_controller.js
++ b/ambari-web/app/controllers/main/admin/misc_controller.js
@@ -42,6 +42,7 @@ App.MainAdminMiscController = App.MainServiceInfoConfigsController.extend({
     });
   },
   loadServiceTagSuccess: function(data, opt, params) {
    var installedServices = App.Service.find().mapProperty("serviceName");
     var serviceConfigsDef = params.serviceConfigsDef;
     var serviceName = this.get('</literal><name><name>content</name><operator>.</operator><name>serviceName</name></name><literal type="char">');
     var loadedClusterSiteToTagMap = {};
@@ -57,6 +58,8 @@ App.MainAdminMiscController = App.MainServiceInfoConfigsController.extend({
 
     var misc_configs = configSet.globalConfigs.filterProperty('</literal><name>serviceName</name><literal type="char">', this.get('</literal><name>selectedService</name><literal type="char">')).filterProperty('</literal><name>category</name><literal type="char">', '</literal><name>Users</name> <name>and</name> <name>Groups</name><literal type="char">').filterProperty('</literal><name>isVisible</name><literal type="char">', true);
 
    misc_configs = App.config.miscConfigVisibleProperty(misc_configs, installedServices);

     var sortOrder = this.get('</literal><name>configs</name><literal type="char">').filterProperty('</literal><name>serviceName</name><literal type="char">', this.get('</literal><name>selectedService</name><literal type="char">')).filterProperty('</literal><name>category</name><literal type="char">', '</literal><name>Users</name> <name>and</name> <name>Groups</name><literal type="char">').filterProperty('</literal><name>isVisible</name><literal type="char">', true).mapProperty('</literal><name>name</name><literal type="char">');
 
     var sorted = [];
diff --git a/ambari-web/app/controllers/main/host.js b/ambari-web/app/controllers/main/host.js
index 34aa750bcf..240930fa4c 100644
-- a/ambari-web/app/controllers/main/host.js
++ b/ambari-web/app/controllers/main/host.js
@@ -23,7 +23,6 @@ var componentHelper = require('</literal><name>utils</name><operator>/</operator><name>component</name><literal type="char">');
 App.MainHostController = Em.ArrayController.extend({
   name:'</literal><name>mainHostController</name><literal type="char">',
   content: App.Host.find(),
  comeWithFilter: false,
 
   alerts: function () {
     return App.router.get('</literal><name><name>clusterController</name><operator>.</operator><name>alerts</name></name><literal type="char">').filterProperty('</literal><name>isOk</name><literal type="char">', false).filterProperty('</literal><name>ignoredForHosts</name><literal type="char">', false);
@@ -56,27 +55,32 @@ App.MainHostController = Em.ArrayController.extend({
    */
   filterByComponent:function (component) {
     var id = component.get('</literal><name>componentName</name><literal type="char">');

    var column = 6;
     this.get('</literal><name>componentsForFilter</name><literal type="char">').setEach('</literal><name>checkedForHostFilter</name><literal type="char">', false);
    this.get('</literal><name>componentsForFilter</name><literal type="char">').filterProperty('</literal><name>id</name><literal type="char">', id).setEach('</literal><name>checkedForHostFilter</name><literal type="char">', true);

    this.set('</literal><name>comeWithFilter</name><literal type="char">', true);
  },
 
  /**
   * On click callback for decommission button
   * @param event
   */
  decommissionButtonPopup:function () {
    var self = this;
    App.showConfirmationPopup(function(){
      alert('</literal></expr></expr_stmt></try><do>do<block type="pseudo"><block_content><expr_stmt><expr><literal type="char">');
    });
    var filterForComponent = {
      iColumn: column,
      value: id,
      type: '</literal><name>multiple</name><literal type="char">'
    };

    var filterConditions = App.db.getFilterConditions(this.get('</literal><name>name</name><literal type="char">'));
    if (filterConditions) {
      var component = filterConditions.findProperty('</literal><name>iColumn</name><literal type="char">', column);
      if (component) {
        component.value = id;
      }
      else {
        filterConditions.push(filterForComponent);
      }
      App.db.setFilterConditions(this.get('</literal><name>name</name><literal type="char">'), filterConditions);
    }
    else {
      App.db.setFilterConditions(this.get('</literal><name>name</name><literal type="char">'), [filterForComponent]);
    }
   },

   /**
    * On click callback for delete button
   * @param event
    */
   deleteButtonPopup:function () {
     var self = this;
diff --git a/ambari-web/app/controllers/main/host/details.js b/ambari-web/app/controllers/main/host/details.js
index 06fc9494b0..d449f3c1f5 100644
-- a/ambari-web/app/controllers/main/host/details.js
++ b/ambari-web/app/controllers/main/host/details.js
@@ -50,7 +50,9 @@ App.MainHostDetailsController = Em.Controller.extend({
   /**
    * Send specific command to server
    * @param url
   * @param data Object to send
   * @param _method
   * @param postData
   * @param callback
    */
   sendCommandToServer : function(url, postData, _method, callback){
     var url =  (App.testMode) ?
diff --git a/ambari-web/app/controllers/wizard/step7_controller.js b/ambari-web/app/controllers/wizard/step7_controller.js
index 90f56b7328..e93f388226 100644
-- a/ambari-web/app/controllers/wizard/step7_controller.js
++ b/ambari-web/app/controllers/wizard/step7_controller.js
@@ -91,20 +91,7 @@ App.WizardStep7Controller = Em.Controller.extend({
    */
   activateSpecialConfigs: function () {
     var miscConfigs = this.get('</literal><name>stepConfigs</name><literal type="char">').findProperty('</literal><name>serviceName</name><literal type="char">', '</literal><name>MISC</name><literal type="char">').configs;
    var showProxyGroup = this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>HIVE</name><literal type="char">') ||
      this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>HCATALOG</name><literal type="char">') ||
      this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>OOZIE</name><literal type="char">');
    miscConfigs.findProperty('</literal><name>name</name><literal type="char">', '</literal><name>proxyuser_group</name><literal type="char">').set('</literal><name>isVisible</name><literal type="char">', showProxyGroup);
    miscConfigs.findProperty('</literal><name>name</name><literal type="char">', '</literal><name>hbase_user</name><literal type="char">').set('</literal><name>isVisible</name><literal type="char">', this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>HBASE</name><literal type="char">'));
    miscConfigs.findProperty('</literal><name>name</name><literal type="char">', '</literal><name>mapred_user</name><literal type="char">').set('</literal><name>isVisible</name><literal type="char">', this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>MAPREDUCE</name><literal type="char">'));
    miscConfigs.findProperty('</literal><name>name</name><literal type="char">', '</literal><name>hive_user</name><literal type="char">').set('</literal><name>isVisible</name><literal type="char">', this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>HIVE</name><literal type="char">'));
    miscConfigs.findProperty('</literal><name>name</name><literal type="char">', '</literal><name>hcat_user</name><literal type="char">').set('</literal><name>isVisible</name><literal type="char">', this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>HCATALOG</name><literal type="char">'));
    miscConfigs.findProperty('</literal><name>name</name><literal type="char">', '</literal><name>webhcat_user</name><literal type="char">').set('</literal><name>isVisible</name><literal type="char">', this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>WEBHCAT</name><literal type="char">'));
    miscConfigs.findProperty('</literal><name>name</name><literal type="char">', '</literal><name>oozie_user</name><literal type="char">').set('</literal><name>isVisible</name><literal type="char">', this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>OOZIE</name><literal type="char">'));
    miscConfigs.findProperty('</literal><name>name</name><literal type="char">', '</literal><name>zk_user</name><literal type="char">').set('</literal><name>isVisible</name><literal type="char">', this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>ZOOKEEPER</name><literal type="char">'));
    miscConfigs.findProperty('</literal><name>name</name><literal type="char">', '</literal><name>gmetad_user</name><literal type="char">').set('</literal><name>isVisible</name><literal type="char">', this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>GANGLIA</name><literal type="char">'));
    miscConfigs.findProperty('</literal><name>name</name><literal type="char">', '</literal><name>rrdcached_base_dir</name><literal type="char">').set('</literal><name>isVisible</name><literal type="char">', this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>GANGLIA</name><literal type="char">'));
    miscConfigs.findProperty('</literal><name>name</name><literal type="char">', '</literal><name>nagios_user</name><literal type="char">').set('</literal><name>isVisible</name><literal type="char">', this.get('</literal><name>selectedServiceNames</name><literal type="char">').contains('</literal><name>NAGIOS</name><literal type="char">'));
    miscConfigs = App.config.miscConfigVisibleProperty(miscConfigs, this.get('</literal><name>selectedServiceNames</name><literal type="char">'));
   },
 
   /**
diff --git a/ambari-web/app/data/HDP2/config_mapping.js b/ambari-web/app/data/HDP2/config_mapping.js
index b525063001..7d1d53f98f 100644
-- a/ambari-web/app/data/HDP2/config_mapping.js
++ b/ambari-web/app/data/HDP2/config_mapping.js
@@ -303,7 +303,7 @@ var configs = [
   },
 /**********************************************yarn-site***************************************/
   {
    "name": "yarn.resourcemanager.resourcetracker.address",
    "name": "yarn.resourcemanager.resource-tracker.address",
     "templateName": ["rm_host"],
     "foreignKey": null,
     "value": "hdfs://&lt;templateName[0]&gt;:8025",
@@ -317,7 +317,7 @@ var configs = [
     "filename": "yarn-site.xml"
   },
   {
    "name": "yarn.resourcemanager.addresss",
    "name": "yarn.resourcemanager.address",
     "templateName": ["rm_host"],
     "foreignKey": null,
     "value": "hdfs://&lt;templateName[0]&gt;:8050",
@@ -359,30 +359,24 @@ var configs = [
     "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
   },
  //io.sort.mb -&gt; mapreduce.task.io.sort.mb
   {
    "name": "io.sort.mb",
    "templateName": ["io_sort_mb"],
    "foreignKey": null,
    "value": "&lt;templateName[0]&gt;",
    "filename": "mapred-site.xml"
  },
  /*{
    "name": "mapred.cluster.reduce.memory.mb",
    "templateName": ["mapred_cluster_red_mem_mb"],
    "name": "mapreduce.task.io.sort.mb",
    "templateName": ["mapreduce_task_io_sort_mb"],
     "foreignKey": null,
     "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
   },
   {
    "name": "mapred.cluster.max.map.memory.mb",
    "templateName": ["mapred_cluster_max_map_mem_mb"],
    "name": "mapred.system.dir",
    "templateName": ["mapred_system_dir"],
     "foreignKey": null,
     "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
   },
   {
    "name": "mapred.cluster.max.reduce.memory.mb",
    "templateName": ["mapred_cluster_max_red_mem_mb"],
    "name": "mapred.cluster.reduce.memory.mb",
    "templateName": ["mapred_cluster_red_mem_mb"],
     "foreignKey": null,
     "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
@@ -395,68 +389,12 @@ var configs = [
     "filename": "mapred-site.xml"
   },
   {
    "name": "mapred.hosts.exclude",
    "templateName": ["hadoop_conf_dir", "mapred_hosts_exclude"],
    "foreignKey": null,
    "value": "&lt;templateName[0]&gt;/&lt;templateName[1]&gt;",
    "filename": "mapred-site.xml"
  },
  {
    "name": "mapred.healthChecker.script.path",
    "templateName": ["mapred_jobstatus_dir"],
    "foreignKey": null,
    "value": "&lt;templateName[0]&gt;",
    "filename": "mapred-site.xml"
  },
  {
    "name": "mapred.job.tracker.persist.jobstatus.dir",
    "templateName": ["hadoop_conf_dir"],
    "foreignKey": null,
    "value": "&lt;templateName[0]&gt;/health_check",
    "filename": "mapred-site.xml"
  },
  {
    "name": "mapred.child.java.opts",
    "templateName": ["mapred_child_java_opts_sz"],
    "foreignKey": null,
    "value": "-server -Xmx&lt;templateName[0]&gt;m -Djava.net.preferIPv4Stack=true",
    "filename": "mapred-site.xml"
  },
  {
    "name": "mapred.cluster.map.memory.mb",
    "templateName": ["mapred_cluster_map_mem_mb"],
    "foreignKey": null,
    "value": "&lt;templateName[0]&gt;",
    "filename": "mapred-site.xml"
  },
  {
    "name": "io.sort.spill.percent",
    "templateName": ["io_sort_spill_percent"],
    "foreignKey": null,
    "value": "&lt;templateName[0]&gt;",
    "filename": "mapred-site.xml"
  },
  {
    "name": "mapred.system.dir",
    "templateName": ["mapred_system_dir"],
    "name": "mapred.jobtracker.maxtasks.per.job",
    "templateName": ["maxtasks_per_job"],
     "foreignKey": null,
     "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
   },
  {
    "name": "mapred.job.tracker",
    "templateName": ["jobtracker_host"],
    "foreignKey": null,
    "value": "&lt;templateName[0]&gt;:50300",
    "filename": "mapred-site.xml"
  },
  {
    "name": "mapred.job.tracker.http.address",
    "templateName": ["jobtracker_host"],
    "foreignKey": null,
    "value": "&lt;templateName[0]&gt;:50030",
    "filename": "mapred-site.xml"
  },
   {
     "name": "mapred.userlog.retain.hours",
     "templateName": ["mapreduce_userlog_retainhours"],
@@ -465,8 +403,8 @@ var configs = [
     "filename": "mapred-site.xml"
   },
   {
    "name": "mapred.jobtracker.maxtasks.per.job",
    "templateName": ["maxtasks_per_job"],
    "name": "mapred.local.dir",
    "templateName": ["mapred_local_dir"],
     "foreignKey": null,
     "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
@@ -479,61 +417,54 @@ var configs = [
     "filename": "mapred-site.xml"
   },
   {
    "name": "mapreduce.jobtracker.kerberos.principal",
    "templateName": ["kerberos_domain"],
    "name": "mapred.tasktracker.map.tasks.maximum",
    "templateName": ["mapred_map_tasks_max"],
     "foreignKey": null,
    "value": "jt/_HOST@&lt;templateName[0]&gt;",
    "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
   },
   {
    "name": "mapreduce.tasktracker.kerberos.principal",
    "templateName": ["kerberos_domain"],
    "name": "mapred.hosts.exclude",
    "templateName": ["hadoop_conf_dir", "mapred_hosts_exclude"],
     "foreignKey": null,
    "value": "tt/_HOST@&lt;templateName[0]&gt;",
    "value": "&lt;templateName[0]&gt;/&lt;templateName[1]&gt;",
     "filename": "mapred-site.xml"
   },
   {
    "name": "mapreduce.jobtracker.keytab.file",
    "templateName": ["keytab_path"],
    "name": "mapred.cluster.max.map.memory.mb",
    "templateName": ["mapred_cluster_max_map_mem_mb"],
     "foreignKey": null,
    "value": "&lt;templateName[0]&gt;/jt.service.keytab",
    "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
   },
   {
    "name": "mapreduce.tasktracker.keytab.file",
    "templateName": ["keytab_path"],
    "name": "mapred.cluster.max.reduce.memory.mb",
    "templateName": ["mapred_cluster_max_red_mem_mb"],
     "foreignKey": null,
    "value": "&lt;templateName[0]&gt;/tt.service.keytab",
    "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
   },
   {
    "name": "mapreduce.history.server.embedded",
    "templateName": [],
    "name": "mapred.jobtracker.taskScheduler",
    "templateName": ["scheduler_name"],
     "foreignKey": null,
    "value": "false",
    "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
   },
   {
    "name": "mapreduce.history.server.http.address",
    "templateName": ["jobtracker_host"],
    "name": "mapred.healthChecker.script.path",
    "templateName": ["mapred_jobstatus_dir"],
     "foreignKey": null,
    "value": "&lt;templateName[0]&gt;:51111",
    "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
   },
   {
    "name": "mapreduce.jobhistory.kerberos.principal",
    "templateName": ["kerberos_domain"],
    "name": "mapred.cluster.map.memory.mb",
    "templateName": ["mapred_cluster_map_mem_mb"],
     "foreignKey": null,
    "value": "jt/_HOST@&lt;templateName[0]&gt;",
    "value": "&lt;templateName[0]&gt;",
     "filename": "mapred-site.xml"
   },
  {
    "name": "mapreduce.jobhistory.keytab.file",
    "templateName": ["keytab_path"],
    "foreignKey": null,
    "value": "&lt;templateName[0]&gt;/jt.service.keytab",
    "filename": "mapred-site.xml"
  },*/
   /**********************************************hbase-site***************************************/
   {
     "name": "hbase.rootdir",
diff --git a/ambari-web/app/data/HDP2/config_properties.js b/ambari-web/app/data/HDP2/config_properties.js
index 7c98fc067f..d0eacbdb95 100644
-- a/ambari-web/app/data/HDP2/config_properties.js
++ b/ambari-web/app/data/HDP2/config_properties.js
@@ -58,7 +58,7 @@
  *
  *   serviceName:
  *     The service that the config property belongs to.
 *     E.g., "HDFS", "MAPREDUCE", "ZOOKEEPER", etc.
 *     E.g., "HDFS", "MAPREDUCE2", "ZOOKEEPER", etc.
  *
  *   category: the category that the config property belongs to (used for grouping config properties in the UI).
  *     if unspecified, "General" is assumed.
@@ -494,6 +494,209 @@ module.exports =
       "category": "HistoryServer",
       "index": 0
     },
    {
      "id": "puppet var",
      "name": "mapred_local_dir",
      "displayName": "MapReduce local directories",
      "description": "Directories for MapReduce to store intermediate data files",
      "defaultValue": "",
      "defaultDirectory": "/hadoop/mapred",
      "displayType": "directories",
      "isReconfigurable": true,
      "isVisible": true,
      "domain": "global",
      "serviceName": "MAPREDUCE2"
    },
    {
      "id": "puppet var",
      "name": "mapred_cluster_red_mem_mb",
      "displayName": "Cluster'</literal><name>s</name> <name>Reduce</name> <name>slot</name> <call><name>size</name> <argument_list>(<argument><expr><name>virtual</name> <name>memory</name></expr></argument>)</argument_list></call><literal type="string">",
      "</literal><name>description</name><literal type="string">": "</literal><name>The</name> <name>virtual</name> <name>memory</name> <name>size</name> <name>of</name> <name>a</name> <name>single</name> <name>Reduce</name> <name>slot</name> <name>in</name> <name>the</name> <name>MapReduce</name> <name>framework</name><literal type="string">",
      "</literal><name>defaultValue</name><literal type="string">": "</literal><operator>-</operator><literal type="number">1</literal><literal type="string">",
      "</literal><name>displayType</name><literal type="string">": "</literal><name>int</name><literal type="string">",
      "</literal><name>unit</name><literal type="string">": "</literal><name>MB</name><literal type="string">",
      "</literal><name>isVisible</name><literal type="string">": true,
      "</literal><name>domain</name><literal type="string">": "</literal><name>global</name><literal type="string">",
      "</literal><name>serviceName</name><literal type="string">": "</literal><name>MAPREDUCE2</name><literal type="string">"
    },
    {
      "</literal><name>id</name><literal type="string">": "</literal><name>puppet</name> <name>var</name><literal type="string">",
      "</literal><name>name</name><literal type="string">": "</literal><name>mapred_map_tasks_max</name><literal type="string">",
      "</literal><name>displayName</name><literal type="string">": "</literal><name>Number</name> <name>of</name> <name>Map</name> <name>slots</name> <name>per</name> <name>node</name><literal type="string">",
      "</literal><name>description</name><literal type="string">": "</literal><name>Number</name> <name>of</name> <name>slots</name> <name>that</name> <name>Map</name> <name>tasks</name> <name>that</name> <name>run</name> <name>simultaneously</name> <name>can</name> <name>occupy</name> <name>on</name> <name>a</name> <name>TaskTracker</name><literal type="string">",
      "</literal><name>defaultValue</name><literal type="string">": "</literal><literal type="number">4</literal><literal type="string">",
      "</literal><name>displayType</name><literal type="string">": "</literal><name>int</name><literal type="string">",
      "</literal><name>isVisible</name><literal type="string">": true,
      "</literal><name>domain</name><literal type="string">": "</literal><name>global</name><literal type="string">",
      "</literal><name>serviceName</name><literal type="string">": "</literal><name>MAPREDUCE2</name><literal type="string">"
    },
    {
      "</literal><name>id</name><literal type="string">": "</literal><name>puppet</name> <name>var</name><literal type="string">",
      "</literal><name>name</name><literal type="string">": "</literal><name>mapred_job_map_mem_mb</name><literal type="string">",
      "</literal><name>displayName</name><literal type="string">": "</literal><name>Default</name> <name>virtual</name> <name>memory</name></expr></expr_stmt></block_content></block> <for>for a job's map-task",
      "description": "Virtual memory for single Map task",
      "defaultValue": "-1",
      "displayType": "int",
      "unit": "MB",
      "isVisible": true,
      "domain": "global",
      "serviceName": "MAPREDUCE2"
    },
    {
      "id": "puppet var",
      "name": "mapred_job_red_mem_mb",
      "displayName": "Default virtual memory for a job's reduce-task",
      "description": "Virtual memory for single Reduce task",
      "defaultValue": "-1",
      "displayType": "int",
      "unit": "MB",
      "isVisible": true,
      "domain": "global",
      "serviceName": "MAPREDUCE2"
    },
    {
      "id": "puppet var",
      "name": "mapreduce_task_io_sort_mb",
      "displayName": "Map-side sort buffer memory",
      "description": "The total amount of Map-side buffer memory to use while sorting files <control>(<init><expr><name>Expert</name><operator>-</operator><name>only</name> <name>configuration</name></expr></init>)</control><block type="pseudo"><block_content><expr_stmt><expr><literal type="string">",
      "</literal><name>defaultValue</name><literal type="string">": "</literal><literal type="number">200</literal><literal type="string">",
      "</literal><name>displayType</name><literal type="string">": "</literal><name>int</name><literal type="string">",
      "</literal><name>unit</name><literal type="string">": "</literal><name>MB</name><literal type="string">",
      "</literal><name>isVisible</name><literal type="string">": true,
      "</literal><name>domain</name><literal type="string">": "</literal><name>global</name><literal type="string">",
      "</literal><name>serviceName</name><literal type="string">": "</literal><name>MAPREDUCE2</name><literal type="string">"
    },
    {
      "</literal><name>id</name><literal type="string">": "</literal><name>puppet</name> <name>var</name><literal type="string">",
      "</literal><name>name</name><literal type="string">": "</literal><name>mapreduce_userlog_retainhours</name><literal type="string">",
      "</literal><name>displayName</name><literal type="string">": "</literal><name>Job</name> <name>log</name> <call><name>retention</name> <argument_list>(<argument><expr><name>hours</name></expr></argument>)</argument_list></call><literal type="string">",
      "</literal><name>description</name><literal type="string">": "</literal><name>The</name> <name>maximum</name> <name>time</name></expr><operator>,</operator> <expr><name>in</name> <name>hours</name></expr><operator>,</operator></expr_stmt></block_content></block></for> <for>for which the user-logs are to be retained after the job completion.",
      "defaultValue": "24",
      "displayType": "int",
      "unit": "hours",
      "isVisible": true,
      "domain": "global",
      "serviceName": "MAPREDUCE2"
    },
    {
      "id": "puppet var",
      "name": "maxtasks_per_job",
      "displayName": "Maximum number tasks for a Job",
      "description": "Maximum number of tasks for a single Job",
      "defaultValue": "-1",
      "displayType": "int",
      "isVisible": true,
      "domain": "global",
      "serviceName": "MAPREDUCE2"
    },
    {
      "id": "puppet var",
      "name": "mapred_cluster_max_map_mem_mb",
      "displayName": "Upper limit on virtual memory for single Map task",
      "description": "Upper limit on virtual memory size for a single Map task of any MapReduce job",
      "defaultValue": "-1",
      "displayType": "int",
      "unit": "MB",
      "isVisible": true,
      "domain": "global",
      "serviceName": "MAPREDUCE2"
    },
    {
      "id": "puppet var",
      "name": "mapred_cluster_max_red_mem_mb",
      "displayName": "Upper limit on virtual memory for single Reduce task",
      "description": "Upper limit on virtual memory size for a single Reduce task of any MapReduce job",
      "defaultValue": "-1",
      "displayType": "int",
      "unit": "MB",
      "isVisible": true,
      "domain": "global",
      "serviceName": "MAPREDUCE2"
    },
    {
      "id": "puppet var",
      "name": "scheduler_name",
      "displayName": "MapReduce Capacity Scheduler",
      "description": "The scheduler to use for scheduling of MapReduce jobs",
      "defaultValue": "org.apache.hadoop.mapred.CapacityTaskScheduler",
      "displayType": "advanced",
      "isOverridable": false,
      "isVisible": true,
      "serviceName": "MAPREDUCE2"
    },
    {
      "id": "puppet var",
      "name": "mapred_cluster_map_mem_mb",
      "displayName": "Cluster's Map slot size (virtual memory)",
      "description": "The virtual memory size of a single Map slot in the MapReduce framework",
      "defaultValue": "-1",
      "displayType": "int",
      "unit": "MB",
      "isVisible": true,
      "domain": "global",
      "serviceName": "MAPREDUCE2"
    },
    {
      "id": "puppet var",
      "name": "mapred_system_dir",
      "displayName": "MapReduce system directories",
      "description": "",
      "defaultValue": "/mapred/system",
      "displayType": "directories",
      "isReconfigurable": true,
      "isVisible": true,
      "domain": "global",
      "serviceName": "MAPREDUCE2",
      "category": "Advanced"
    },
    {
      "id": "puppet var",
      "name": "mapred_hosts_include",
      "displayName": "Include hosts",
      "description": "Include enetered hosts",
      "defaultValue": "mapred.include",
      "displayType": "directories",
      "isVisible": false,
      "serviceName": "MAPREDUCE2",
      "domain": "global",
      "category": "Advanced"
    },
    {
      "id": "puppet var",
      "name": "task_controller",
      "displayName": "task_controller",
      "description": "",
      "defaultValue": "org.apache.hadoop.mapred.DefaultTaskController",
      "displayType": "advanced",
      "isVisible": false,
      "serviceName": "MAPREDUCE2",
      "domain": "global",
      "category": "Advanced"
    },
    {
      "id": "puppet var",
      "name": "mapred_hosts_exclude",
      "displayName": "Exclude hosts",
      "description": "Exclude entered hosts",
      "defaultValue": "mapred.exclude",
      "displayType": "directories",
      "isVisible": false,
      "serviceName": "MAPREDUCE2",
      "domain": "global",
      "category": "Advanced"
    },
    {
      "id": "puppet var",
      "name": "mapred_jobstatus_dir",
      "displayName": "Job Status directory",
      "description": "Directory path to view job status",
      "defaultValue": "file:////mapred/jobstatus",
      "displayType": "advanced",
      "isVisible": false,
      "serviceName": "MAPREDUCE2",
      "domain": "global",
      "category": "Advanced"
    },
   /**********************************************YARN***************************************/
     {
       "id": "puppet var",
@@ -1695,7 +1898,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "General"
      "category": "General",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -1710,7 +1914,8 @@ module.exports =
       "filename": "core-site.xml",
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HIVE","WEBHCAT","OOZIE"]
     },
     {
       "id": "puppet var",
@@ -1724,7 +1929,8 @@ module.exports =
       "filename": "hdfs-site.xml",
       "domain": "global",
       "serviceName": "MISC",
      "category": "Advanced"
      "category": "Advanced",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -1738,7 +1944,8 @@ module.exports =
       "filename": "hdfs-site.xml",
       "domain": "global",
       "serviceName": "MISC",
      "category": "Advanced"
      "category": "Advanced",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -1751,7 +1958,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "General"
      "category": "General",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -1764,7 +1972,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "General"
      "category": "General",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -1777,7 +1986,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "General"
      "category": "General",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -1790,7 +2000,8 @@ module.exports =
       "displayType": "directory",
       "isVisible": false,
       "domain": "global",
      "serviceName": "MISC"
      "serviceName": "MISC",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -1804,7 +2015,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Advanced"
      "category": "Advanced",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -1818,7 +2030,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Advanced"
      "category": "Advanced",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -1832,7 +2045,8 @@ module.exports =
       "isVisible": true,
       "serviceName": "MISC",
       "domain": "global",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HDFS"]
     },
     {
       "id": "puppet var",
@@ -1846,7 +2060,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["MAPREDUCE"]
     },
     {
       "id": "puppet var",
@@ -1860,7 +2075,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HBASE"]
     },
     {
       "id": "puppet var",
@@ -1874,7 +2090,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HIVE"]
     },
     {
       "id": "puppet var",
@@ -1888,7 +2105,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HCATALOG"]
     },
     {
       "id": "puppet var",
@@ -1902,7 +2120,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["WEBHCAT"]
     },
     {
       "id": "puppet var",
@@ -1916,7 +2135,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["OOZIE"]
     },
     {
       "id": "puppet var",
@@ -1930,7 +2150,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["ZOOKEEPER"]
     },
     {
       "id": "puppet var",
@@ -1944,7 +2165,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["GANGLIA"]
     },
     {
       "id": "puppet var",
@@ -1958,7 +2180,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName":"MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -1972,7 +2195,8 @@ module.exports =
       "domain": "global",
       "isVisible": true,
       "serviceName":"MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["NAGIOS"]
     },
     {
       "id": "puppet var",
@@ -1986,7 +2210,8 @@ module.exports =
       "isVisible": App.supports.customizeSmokeTestUser,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HDFS"]
     },
     {
       "id": "puppet var",
@@ -2000,7 +2225,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HDFS"]
     },
     {
       "id": "puppet var",
@@ -2012,7 +2238,8 @@ module.exports =
       "isOverridable": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "General"
      "category": "General",
      "belongsToService":["GANGLIA"]
     }
   ]
 };
diff --git a/ambari-web/app/data/config_properties.js b/ambari-web/app/data/config_properties.js
index d2a4abd601..318af51ed8 100644
-- a/ambari-web/app/data/config_properties.js
++ b/ambari-web/app/data/config_properties.js
@@ -2132,7 +2132,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "General"
      "category": "General",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -2147,7 +2148,8 @@ module.exports =
       "filename": "core-site.xml",
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HIVE","WEBHCAT","OOZIE"]
     },
     {
       "id": "puppet var",
@@ -2161,7 +2163,8 @@ module.exports =
       "filename": "hdfs-site.xml",
       "domain": "global",
       "serviceName": "MISC",
      "category": "Advanced"
      "category": "Advanced",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -2175,7 +2178,8 @@ module.exports =
       "filename": "hdfs-site.xml",
       "domain": "global",
       "serviceName": "MISC",
      "category": "Advanced"
      "category": "Advanced",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -2188,7 +2192,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "General"
      "category": "General",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -2201,7 +2206,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "General"
      "category": "General",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -2214,7 +2220,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "General"
      "category": "General",
      "belongsToService":[]
     },
     /*
     {
@@ -2269,7 +2276,8 @@ module.exports =
       "displayType": "directory",
       "isVisible": false,
       "domain": "global",
      "serviceName": "MISC"
      "serviceName": "MISC",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -2283,7 +2291,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Advanced"
      "category": "Advanced",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -2297,7 +2306,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Advanced"
      "category": "Advanced",
      "belongsToService":[]
     },
     /*
     {
@@ -2413,7 +2423,8 @@ module.exports =
       "isVisible": true,
       "serviceName": "MISC",
       "domain": "global",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HDFS"]
     },
     {
       "id": "puppet var",
@@ -2427,7 +2438,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["MAPREDUCE"]
     },
     {
       "id": "puppet var",
@@ -2441,7 +2453,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HBASE"]
     },
     {
       "id": "puppet var",
@@ -2455,7 +2468,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HIVE"]
     },
     {
       "id": "puppet var",
@@ -2469,7 +2483,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HCATALOG"]
     },
     {
       "id": "puppet var",
@@ -2483,7 +2498,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["WEBHCAT"]
     },
     {
       "id": "puppet var",
@@ -2497,7 +2513,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["OOZIE"]
     },
     /*
     {
@@ -2568,7 +2585,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["ZOOKEEPER"]
     },
     {
       "id": "puppet var",
@@ -2582,7 +2600,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["GANGLIA"]
     },
     {
       "id": "puppet var",
@@ -2596,7 +2615,8 @@ module.exports =
       "isVisible": false,
       "domain": "global",
       "serviceName":"MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":[]
     },
     {
       "id": "puppet var",
@@ -2610,7 +2630,8 @@ module.exports =
       "domain": "global",
       "isVisible": true,
       "serviceName":"MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["NAGIOS"]
     },
     {
       "id": "puppet var",
@@ -2624,7 +2645,8 @@ module.exports =
       "isVisible": App.supports.customizeSmokeTestUser,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HDFS"]
     },
     {
       "id": "puppet var",
@@ -2638,7 +2660,8 @@ module.exports =
       "isVisible": true,
       "domain": "global",
       "serviceName": "MISC",
      "category": "Users and Groups"
      "category": "Users and Groups",
      "belongsToService":["HDFS"]
     },
     /*
     {
@@ -2664,7 +2687,8 @@ module.exports =
       "isOverridable": false,
       "domain": "global",
       "serviceName": "MISC",
      "category": "General"
      "category": "General",
      "belongsToService":["GANGLIA"]
     }
   ]
 };
diff --git a/ambari-web/app/messages.js b/ambari-web/app/messages.js
index 2849398007..9f1a04c566 100644
-- a/ambari-web/app/messages.js
++ b/ambari-web/app/messages.js
@@ -115,6 +115,7 @@ Em.I18n.translations = {
   'common.search': 'Search',
   'common.confirm': 'Confirm',
   'common.upgrade': 'Upgrade',
  'common.reUpgrade': 'Retry Upgrade',
   'common.security':'Security',
   'common.cluster':'Cluster',
   'common.add': 'Add',
@@ -128,7 +129,7 @@ Em.I18n.translations = {
   'common.abort': 'Abort',
   'common.misc': 'Misc',
   'common.operations': 'Operations',
  'common.install': 'Install',
  'common.reinstall': 'Re-Install',
   'common.errorPopup.header': 'An error has been encountered',
   'common.use': 'Use',
   'common.stacks': 'Stacks',
diff --git a/ambari-web/app/models/host_component.js b/ambari-web/app/models/host_component.js
index 3d2ccd5f11..ad3e7f0428 100644
-- a/ambari-web/app/models/host_component.js
++ b/ambari-web/app/models/host_component.js
@@ -88,7 +88,33 @@ App.HostComponent = DS.Model.extend({
       }
     }
     return decommissioning;
  }.property('componentName', 'host.hostName', 'App.router.mainServiceController.hdfsService.decommissionDataNodes.@each.hostName')
  }.property('componentName', 'host.hostName', 'App.router.mainServiceController.hdfsService.decommissionDataNodes.@each.hostName'),
  /**
   * User friendly host component status
   */
  componentTextStatus: function () {
    var value = this.get("workStatus");

    switch(value){
      case "INSTALLING":
        return 'Installing...';
      case "INSTALL_FAILED":
        return 'Install Failed';
      case "INSTALLED":
        return 'Stopped';
      case "STARTED":
        return 'Started';
      case "STARTING":
        return 'Starting...';
      case "STOPPING":
        return 'Stopping...';
      case "UNKNOWN":
        return 'Heartbeat lost...';
      case "UPGRADE_FAILED":
        return 'Upgrade Failed';
    }
    return 'Unknown';
  }.property('workStatus','isDecommissioning')
 });
 
 App.HostComponent.FIXTURES = [];
@@ -98,8 +124,6 @@ App.HostComponentStatus = {
   starting: "STARTING",
   stopped: "INSTALLED",
   stopping: "STOPPING",
  stop_failed: "STOP_FAILED",
  start_failed: "START_FAILED",
   install_failed: "INSTALL_FAILED",
   installing: "INSTALLING",
   upgrade_failed: "UPGRADE_FAILED",
@@ -115,10 +139,6 @@ App.HostComponentStatus = {
         return 'installed';
       case this.stopping:
         return 'stopping';
      case this.stop_failed:
        return 'stop_failed';
      case this.start_failed:
        return 'start_failed';
       case this.install_failed:
         return 'install_failed';
       case this.installing:
diff --git a/ambari-web/app/models/service.js b/ambari-web/app/models/service.js
index 9507b1df88..2d643d7418 100644
-- a/ambari-web/app/models/service.js
++ b/ambari-web/app/models/service.js
@@ -57,7 +57,7 @@ App.Service = DS.Model.extend({
       this.set('healthStatus', 'green');
     } else if (components.someProperty('workStatus', App.HostComponentStatus.starting)) {
       this.set('healthStatus', 'green-blinking');
    } else if (components.someProperty('workStatus', App.HostComponentStatus.stopped) || components.someProperty('workStatus', App.HostComponentStatus.start_failed)) {
    } else if (components.someProperty('workStatus', App.HostComponentStatus.stopped)) {
       this.set('healthStatus', 'red');
     } else if (components.someProperty('workStatus', App.HostComponentStatus.unknown)) {
       this.set('healthStatus', 'yellow');
diff --git a/ambari-web/app/models/service_config.js b/ambari-web/app/models/service_config.js
index bec655dc59..7b07a30e1b 100644
-- a/ambari-web/app/models/service_config.js
++ b/ambari-web/app/models/service_config.js
@@ -19,10 +19,6 @@
 var App = require('app');
 var validator = require('utils/validator');
 
App.ConfigProperties = Ember.ArrayProxy.extend({
  content: require('data/config_properties').configProperties
});

 App.ServiceConfig = Ember.Object.extend({
   serviceName: '',
   configCategories: [],
diff --git a/ambari-web/app/styles/application.less b/ambari-web/app/styles/application.less
index e4903e3b45..94c52fc729 100644
-- a/ambari-web/app/styles/application.less
++ b/ambari-web/app/styles/application.less
@@ -2170,6 +2170,14 @@ table.graphs {
     .marker;
   }
 
  .health-status-color-blue {
    color:#0000ff;
  }

  .health-status-color-red {
    color:#ff0000;
  }

   .health-status-DEAD-ORANGE {
     background-image: @status-dead-orange-marker;
     .marker;
@@ -2242,6 +2250,18 @@ table.graphs {
 
   .host-components .btn-group {
     margin: 0 5px 10px 0;

    .component-text-status{
      cursor: default;
      display: block;
      padding: 3px 20px;
      clear: both;
      font-weight: normal;
      line-height: 20px;
      color: #333333;
      white-space: nowrap;
      font-style: italic;
    }
   }
 }
 
diff --git a/ambari-web/app/templates/main/admin/misc.hbs b/ambari-web/app/templates/main/admin/misc.hbs
index a420dd3717..09b7020dd8 100644
-- a/ambari-web/app/templates/main/admin/misc.hbs
++ b/ambari-web/app/templates/main/admin/misc.hbs
@@ -31,10 +31,12 @@
           &lt;/thead&gt;
           &lt;tbody&gt;
             {{#each user in controller.users}}
              &lt;tr&gt;
                &lt;td&gt;{{user.displayName}}&lt;/td&gt;
                &lt;td&gt;{{user.value}}&lt;/td&gt;
              &lt;/tr&gt;
              {{#if user.isVisible}}
                &lt;tr&gt;
                  &lt;td&gt;{{user.displayName}}&lt;/td&gt;
                  &lt;td&gt;{{user.value}}&lt;/td&gt;
                &lt;/tr&gt;
              {{/if}}
             {{/each}}
           &lt;/tbody&gt;
         &lt;/table&gt;
diff --git a/ambari-web/app/templates/main/host/summary.hbs b/ambari-web/app/templates/main/host/summary.hbs
index 647bdc4cc0..bb4f0c783b 100644
-- a/ambari-web/app/templates/main/host/summary.hbs
++ b/ambari-web/app/templates/main/host/summary.hbs
@@ -64,43 +64,60 @@
             &lt;div class="span5"&gt;
               {{#if App.isAdmin}}
               &lt;div class="btn-group"&gt;
                &lt;a {{ bindAttr class=":btn :dropdown-toggle view.disabledClass"}} data-toggle="dropdown"&gt;
                &lt;a {{ bindAttr class=":btn :dropdown-toggle"}} data-toggle="dropdown"&gt;
                   {{t common.action}}
                   &lt;span class="caret pull-right"&gt;&lt;/span&gt;
                 &lt;/a&gt;
                 &lt;ul class="dropdown-menu"&gt;
                   &lt;li&gt;
                      &lt;div class="component-text-status"&gt;
                       {{view.componentTextStatus}}
                      &lt;/div&gt;
                    &lt;/li&gt;
                   {{#if view.isDataNode}}
                  &lt;li {{bindAttr class="view.isDataNodeDecommissionAvailable::hidden"}}&gt;
                    &lt;a href="javascript:void(null)" data-toggle="modal" {{action "decommission" view.content target="controller"}}&gt;
                      {{t common.decommission}}
                    &lt;/a&gt;
                  &lt;/li&gt;
                  &lt;li {{bindAttr class="view.isDataNodeRecommissionAvailable::hidden"}}&gt;
                    &lt;a href="javascript:void(null)" data-toggle="modal" {{action "recommission" view.content target="controller"}}&gt;
                      {{t common.recommission}}
                    &lt;/a&gt;
                  &lt;/li&gt;
                    {{#if view.isDataNodeDecommissionAvailable}}
                      &lt;li {{bindAttr class="view.noActionAvailable"}}&gt;
                        &lt;a href="javascript:void(null)" data-toggle="modal" {{action "decommission" view.content target="controller"}}&gt;
                          {{t common.decommission}}
                        &lt;/a&gt;
                      &lt;/li&gt;
                    {{/if}}
                    {{#if view.isDataNodeRecommissionAvailable}}
                      &lt;li {{bindAttr class="view.noActionAvailable"}}&gt;
                        &lt;a href="javascript:void(null)" data-toggle="modal" {{action "recommission" view.content target="controller"}}&gt;
                          {{t common.recommission}}
                        &lt;/a&gt;
                      &lt;/li&gt;
                    {{/if}}
                  {{/if}}
                  {{#if view.isStart}}
                    &lt;li {{bindAttr class=" view.isDecommissioning:hidden view.noActionAvailable"}}&gt;
                      &lt;a href="javascript:void(null)" data-toggle="modal" {{action "stopComponent" view.content target="controller"}}&gt;
                        {{t common.stop}}
                      &lt;/a&gt;
                    &lt;/li&gt;
                  {{/if}}
                  {{#unless view.isStart}}
                    &lt;li {{bindAttr class="view.isUpgradeFailed:hidden view.isInstallFailed:hidden view.isDecommissioning:hidden view.noActionAvailable"}}&gt;
                      &lt;a href="javascript:void(null)" data-toggle="modal" {{action "startComponent" view.content target="controller"}}&gt;
                        {{t common.start}}
                      &lt;/a&gt;
                    &lt;/li&gt;
                  {{/unless}}
                  {{#if view.isUpgradeFailed}}
                    &lt;li {{bindAttr class="view.noActionAvailable"}}&gt;
                      &lt;a href="javascript:void(null)" data-toggle="modal" {{action "upgradeComponent" view.content target="controller"}}&gt;
                        {{t common.reUpgrade}}
                      &lt;/a&gt;
                    &lt;/li&gt;
                  {{/if}}
                  {{#if view.isInstallFailed}}
                    &lt;li {{bindAttr class="view.noActionAvailable"}}&gt;
                      &lt;a href="javascript:void(null)" data-toggle="modal" {{action "installComponent" view.content target="controller"}}&gt;
                        {{t common.reinstall}}
                      &lt;/a&gt;
                    &lt;/li&gt;
                   {{/if}}
                  &lt;li {{bindAttr class="view.isStart::hidden"}}&gt;
                    &lt;a href="javascript:void(null)" data-toggle="modal" {{action "stopComponent" view.content target="controller"}}&gt;
                      {{t common.stop}}
                    &lt;/a&gt;
                  &lt;/li&gt;
                  &lt;li {{bindAttr class="view.isStart:hidden: view.isInstallFailed:hidden: view.isDataNodeRecommissionAvailable:hidden"}}&gt;
                    &lt;a href="javascript:void(null)" data-toggle="modal" {{action "startComponent" view.content target="controller"}}&gt;
                      {{t common.start}}
                    &lt;/a&gt;
                  &lt;/li&gt;
                  &lt;li {{bindAttr class="view.isUpgradeFailed::hidden"}}&gt;
                    &lt;a href="javascript:void(null)" data-toggle="modal" {{action "upgradeComponent" view.content target="controller"}}&gt;
                      {{t common.upgrade}}
                    &lt;/a&gt;
                  &lt;/li&gt;
                  &lt;li {{bindAttr class="view.isInstallFailed::hidden"}}&gt;
                    &lt;a href="javascript:void(null)" data-toggle="modal" {{action "installComponent" view.content target="controller"}}&gt;
                      {{t common.install}}
                    &lt;/a&gt;
                  &lt;/li&gt;
                 &lt;/ul&gt;
               &lt;/div&gt;
               {{/if}}
@@ -165,4 +182,4 @@
 	  &lt;/div&gt;
   &lt;/div&gt;
 &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
\ No newline at end of file
diff --git a/ambari-web/app/templates/wizard/step9HostTasksLogPopup.hbs b/ambari-web/app/templates/wizard/step9HostTasksLogPopup.hbs
index 9765ee8403..d3c3a7018f 100644
-- a/ambari-web/app/templates/wizard/step9HostTasksLogPopup.hbs
++ b/ambari-web/app/templates/wizard/step9HostTasksLogPopup.hbs
@@ -55,8 +55,8 @@
       &lt;span class="task-detail-log-rolename" &gt;{{{view.openedTask.role}} {{view.openedTask.command}}&lt;/span&gt;
     &lt;/div&gt;
     &lt;div class="task-detail-ico-wrap"&gt;
      &lt;div title="Click to Copy" {{action "textTrigger" taskInfo target="view"}} class="task-detail-copy"&gt;&lt;i class="icon-copy"&gt;&lt;/i&gt; {{t common.copy}}&lt;/div&gt;
      &lt;div title="Open in New Window" {{action openTaskLogInDialog}} class="task-detail-open-dialog"&gt;&lt;i class="icon-external-link"&gt;&lt;/i&gt; {{t common.open}}&lt;/div&gt;
      &lt;a title="Click to Copy" {{action "textTrigger" taskInfo target="view"}} class="task-detail-copy"&gt;&lt;i class="icon-copy"&gt;&lt;/i&gt; {{t common.copy}}&lt;/a&gt;
      &lt;a title="Open in New Window" {{action openTaskLogInDialog}} class="task-detail-open-dialog"&gt;&lt;i class="icon-external-link"&gt;&lt;/i&gt; {{t common.open}}&lt;/a&gt;
     &lt;/div&gt;
   &lt;/div&gt;
   &lt;div class="task-detail-log-info"&gt;
diff --git a/ambari-web/app/utils/config.js b/ambari-web/app/utils/config.js
index 2710a52c12..d7d24138aa 100644
-- a/ambari-web/app/utils/config.js
++ b/ambari-web/app/utils/config.js
@@ -37,9 +37,9 @@ App.config = Em.Object.create({
   configMapping: function() {
       if (stringUtils.compareVersions(App.get('currentStackVersionNumber'), "2.0") === 1 ||
         stringUtils.compareVersions(App.get('currentStackVersionNumber'), "2.0") === 0) {
        return require('data/config_mapping');
        return require('data/HDP2/config_mapping');
       }
      return require('data/HDP2/config_mapping');
    return require('data/config_mapping');
   }.property('App.currentStackVersionNumber'),
   preDefinedConfigProperties: function() {
     if (stringUtils.compareVersions(App.get('currentStackVersionNumber'), "2.0") === 1 ||
@@ -154,15 +154,16 @@ App.config = Em.Object.create({
       properties = (properties.length) ? properties.objectAt(0).properties : {};
       for (var index in properties) {
         var configsPropertyDef = preDefinedConfigs.findProperty('name', index) || null;
        var serviceConfigObj = {
        var serviceConfigObj = App.ServiceConfig.create({
           name: index,
           value: properties[index],
           defaultValue: properties[index],
           filename: _tag.siteName + ".xml",
           isUserProperty: false,
           isOverridable: true,
          serviceName: serviceName
        };
          serviceName: serviceName,
          belongsToService: []
        });
 
         if (configsPropertyDef) {
           serviceConfigObj.displayType = configsPropertyDef.displayType;
@@ -174,6 +175,7 @@ App.config = Em.Object.create({
           serviceConfigObj.isOverridable = configsPropertyDef.isOverridable === undefined ? true : configsPropertyDef.isOverridable;
           serviceConfigObj.serviceName = configsPropertyDef ? configsPropertyDef.serviceName : null;
           serviceConfigObj.index = configsPropertyDef.index;
          serviceConfigObj.belongsToService = configsPropertyDef.belongsToService;
         }
         // MAPREDUCE contains core-site properties but doesn't show them
         if<control>(<init><expr><name><name>serviceConfigObj</name><operator>.</operator><name>serviceName</name></name> <operator>==</operator><operator>=</operator> <literal type="char">'MAPREDUCE'</literal> <operator>&amp;&amp;</operator> <name><name>serviceConfigObj</name><operator>.</operator><name>filename</name></name> <operator>==</operator><operator>=</operator> <literal type="char">'core-site.xml'</literal></expr></init>)</control><block>{<block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">367</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">369</literal></expr><operator>,</operator><expr><literal type="number">14</literal> @@ <name><name>App</name><operator>.</operator><name>config</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>Object</name><operator>.</operator><name>create</name></name><argument_list>(<argument><expr><block>{
         <break>break;</break>
     }</block>
   }</expr></argument>,

  <argument><expr><name>miscConfigVisibleProperty</name><operator>:</operator> <call><name>function</name> <argument_list>(<argument><expr><name>configs</name></expr></argument>, <argument><expr><name>serviceToShow</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>configs</name><operator>.</operator><name>forEach</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>(<argument><expr><name>item</name></expr></argument>)</argument_list></call> <block>{
      <expr><call><name><name>item</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="string">"isVisible"</literal></expr></argument>, <argument><expr><call><name><name>item</name><operator>.</operator><name>belongsToService</name><operator>.</operator><name>some</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>(<argument><expr><name>cur</name></expr></argument>)</argument_list></call><block>{<return>return <expr><call><name><name>serviceToShow</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>cur</name></expr></argument>)</argument_list></call></expr></return>}</block></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
    }</block></expr></argument>)</argument_list></call></expr>;</block></expr></argument></argument_list></call></expr></expr_stmt>
    <return>return <expr><name>configs</name></expr>;</return>
  <expr_stmt/>}</block_content></block><operator>,</operator>

   <comment type="block" format="javadoc">/**
    * render configs, distribute them by service
    * and wrap each in ServiceConfigProperty object
diff --git a/ambari-web/app/utils/db.js b/ambari-web/app/utils/db.js
index 061fb55400..1be1292487 100644
-- a/ambari-web/app/utils/db.js
++ b/ambari-web/app/utils/db.js
@@ -49,7 +49,13 @@ App.db.cleanUp = function () {
   App.db.data = {
     'app': {
       'loginName': '',
      'authenticated': false
      'authenticated': false,
      'tables': {
        'filterConditions': {},
        'displayLength': {},
        'startIndex': {},
        'sortingConditions': {}
      }
     },
 
     'Installer' : {},
@@ -111,6 +117,46 @@ App.db.setAuthenticated = function (authenticated) {
   console.log('Now present value of authentication is: ' + App.db.data.app.authenticated);
 };
 
App.db.setFilterConditions = function(name, filterConditions) {
  console.log('TRACE: Entering db:setFilterConditions function');
  App.db.data = localStorage.getObject('ambari');
  if (!App.db.data.app.tables.filterConditions) {
    App.db.data.app.tables.filterConditions = {};
  }
  App.db.data.app.tables.filterConditions[name] = filterConditions;
  localStorage.setObject('ambari', App.db.data);
};

App.db.setDisplayLength = function(name, displayLength) {
  console.log('TRACE: Entering db:setDisplayLength function');
  App.db.data = localStorage.getObject('ambari');
  if (!App.db.data.app.tables.displayLength) {
    App.db.data.app.tables.displayLength = {};
  }
  App.db.data.app.tables.displayLength[name] = displayLength;
  localStorage.setObject('ambari', App.db.data);
};

App.db.setStartIndex = function(name, startIndex) {
  console.log('TRACE: Entering db:setStartIndex function');
  App.db.data = localStorage.getObject('ambari');
  if (!App.db.data.app.tables.startIndex) {
    App.db.data.app.tables.startIndex = {};
  }
  App.db.data.app.tables.startIndex[name] = startIndex;
  localStorage.setObject('ambari', App.db.data);
};

App.db.setSortingStatuses = function(name, sortingConditions) {
  console.log('TRACE: Entering db:setSortingConditions function');
  App.db.data = localStorage.getObject('ambari');
  if (!App.db.data.app.tables.sortingConditions) {
    App.db.data.app.tables.sortingConditions = {};
  }
  App.db.data.app.tables.sortingConditions[name] = sortingConditions;
  localStorage.setObject('ambari', App.db.data);
};

 App.db.setAllHostNames = function (hostNames) {
   console.log('TRACE: Entering db:setAllHostNames function');
   App.db.data = localStorage.getObject('ambari');
@@ -297,6 +343,42 @@ App.db.getAmbariStacks = function () {
   return App.db.data.app.stacks;
 };
 
App.db.getFilterConditions = function(name) {
  console.log('TRACE: Entering db:getFilterConditions function');
  App.db.data = localStorage.getObject('ambari');
  if (App.db.data.app.tables.filterConditions[name]) {
    return App.db.data.app.tables.filterConditions[name];
  }
  return null;
};

App.db.getDisplayLength = function(name) {
  console.log('TRACE: Entering db:getDisplayLength function');
  App.db.data = localStorage.getObject('ambari');
  if (App.db.data.app.tables.displayLength[name]) {
    return App.db.data.app.tables.displayLength[name];
  }
  return null;
};

App.db.getStartIndex = function(name) {
  console.log('TRACE: Entering db:getStartIndex function');
  App.db.data = localStorage.getObject('ambari');
  if (App.db.data.app.tables.startIndex[name]) {
    return App.db.data.app.tables.startIndex[name];
  }
  return null;
};

App.db.getSortingStatuses = function(name) {
  console.log('TRACE: Entering db:getSortingConditions function');
  App.db.data = localStorage.getObject('ambari');
  if (App.db.data.app.tables.sortingConditions[name]) {
    return App.db.data.app.tables.sortingConditions[name];
  }
  return null;
};

 /**
  * Return current step for specified Wizard Type
  * @param wizardType
diff --git a/ambari-web/app/views/common/configs/services_config.js b/ambari-web/app/views/common/configs/services_config.js
index f76f9057b4..b1f873ad8c 100644
-- a/ambari-web/app/views/common/configs/services_config.js
++ b/ambari-web/app/views/common/configs/services_config.js
@@ -189,7 +189,7 @@ App.ServiceConfigsByCategoryView = Ember.View.extend({
         var name = this.get('name');
         if(name.trim() != ""){
           if(validator.isValidConfigKey(name)){
            var configMappingProperty = App.config.configMapping.all().findProperty('name', name);
            var configMappingProperty = App.config.get('configMapping').all().findProperty('name', name);
             if((configMappingProperty == null) &amp;&amp; (!serviceConfigNames.contains(name))){
               this.set("isKeyError", false);
               this.set("errorMessage", "");
diff --git a/ambari-web/app/views/common/filter_view.js b/ambari-web/app/views/common/filter_view.js
index 69eff56f8c..942c8a2673 100644
-- a/ambari-web/app/views/common/filter_view.js
++ b/ambari-web/app/views/common/filter_view.js
@@ -32,6 +32,11 @@ var wrapperView = Ember.View.extend({
 
   value: null,
 
  /**
   * Column index
   */</comment>
  <label><name>column</name>:</label> <expr_stmt><expr><literal type="null">null</literal></expr><operator>,</operator>

   <comment type="block" format="javadoc">/**
    * If this field is exists we dynamically create hidden input element and set value there.
    * Used for some cases, where this values will be used outside of component
diff --git a/ambari-web/app/views/common/quick_view_link_view.js b/ambari-web/app/views/common/quick_view_link_view.js
index 18647bdccb..09708f57c4 100644
-- a/ambari-web/app/views/common/quick_view_link_view.js
++ b/ambari-web/app/views/common/quick_view_link_view.js
@@ -29,13 +29,18 @@ App.QuickViewLinks = Em.View.extend({
     var host;
 
     if (serviceName === 'HDFS') {
      host = components.findProperty('componentName', 'NAMENODE').get('host.publicHostName');
      host = App.singleNodeInstall ? App.singleNodeAlias : components.findProperty('componentName', 'NAMENODE').get('host.publicHostName');
     } else if (serviceName === 'MAPREDUCE') {
      host = components.findProperty('componentName', 'JOBTRACKER').get('host.publicHostName');
      host = App.singleNodeInstall ? App.singleNodeAlias : components.findProperty('componentName', 'JOBTRACKER').get('host.publicHostName');
     } else if (serviceName === 'HBASE') {
       var component = components.filterProperty('componentName', 'HBASE_MASTER').findProperty('haStatus', 'active');
       if(component){
        host = component.get('host.publicHostName');
        if(App.singleNodeInstall){
          host = App.singleNodeAlias;
        }else{
          host = component.get('host.publicHostName');
        }

       }
     }
     if (!host) {
diff --git a/ambari-web/app/views/common/sort_view.js b/ambari-web/app/views/common/sort_view.js
index 49ab2981ba..40bec6b12c 100644
-- a/ambari-web/app/views/common/sort_view.js
++ b/ambari-web/app/views/common/sort_view.js
@@ -17,6 +17,7 @@
  */</comment>
 
 <expr><name>var</name> <name>misc</name> <operator>=</operator> <call><name>require</name><argument_list>(<argument><expr><literal type="char">'utils/misc'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></for>
var App = require('app'</do>)</block_content></block></block><empty_stmt>;</empty_stmt></for>
 
 <comment type="block" format="javadoc">/**
  * Wrapper View for all sort components. Layout template and common actions are located inside of it.
@@ -27,6 +28,51 @@ var misc = require('utils/misc');
  */</comment>
 <decl_stmt><decl><type><name>var</name></type> <name>wrapperView</name> <init>= <expr><call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
   <expr><name>tagName</name><operator>:</operator> <literal type="char">'tr'</literal></expr>,

  <comment type="block" format="javadoc">/**
   * Load sort statuses from local storage
   * Works only after finish filtering in the parent View
   */</comment>
  <expr><name>loadSortStatuses</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
    <expr><name>var</name> <name>statuses</name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>db</name><operator>.</operator><name>getSortingStatuses</name></name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.name'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</block></expr>
    <if_stmt><if>if <condition>(<expr><operator>!</operator><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView.filteringComplete'</literal></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo"><block_content> <return>return;</return></block_content></block></if></if_stmt></block></expr></argument></argument_list></call></expr></init></decl></decl_stmt>
    <if_stmt><if>if <condition>(<expr><name>statuses</name></expr>)</condition> <block>{<block_content>
      <decl_stmt><decl><type><name>var</name></type> <name>childViews</name> <init>= <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'childViews'</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
      <decl_stmt><decl><type><name>var</name></type> <name>self</name> <init>= <expr><name>this</name></expr></init></decl>;</decl_stmt>
      <expr_stmt><expr><call><name><name>statuses</name><operator>.</operator><name>forEach</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>(<argument><expr><name>st</name></expr></argument>)</argument_list></call> <block>{
        <if_stmt><if>if <condition>(<expr><name><name>st</name><operator>.</operator><name>status</name></name> <operator>!=</operator> <literal type="char">'sorting'</literal></expr>)</condition> <block>{<block_content>
          <decl_stmt><decl><type><name>var</name></type> <name>sortOrder</name> <init>= <expr><literal type="boolean">false</literal></expr></init></decl>;</decl_stmt>
          <if_stmt><if>if<condition>(<expr><name><name>st</name><operator>.</operator><name>status</name></name> <operator>==</operator> <literal type="char">'sorting_desc'</literal></expr>)</condition> <block>{<block_content>
            <expr_stmt><expr><name>sortOrder</name> <operator>=</operator> <literal type="boolean">true</literal></expr>;</expr_stmt>
          <expr_stmt/>}</block_content>
          self.sort(childViews.findProperty('name'</block><operator>,</operator> <expr_stmt><expr><name><name>st</name><operator>.</operator><name>name</name></name></expr></expr_stmt></if></if_stmt></block_content></block></if></if_stmt></block></expr></argument>)</argument_list></call></expr><operator>,</operator> <expr><name>sortOrder</name></expr></expr_stmt></block_content></block></if></if_stmt></block_content></block></try></block_content></block></if></if_stmt></block_content></block></for></block_content></block></if></if_stmt></block_content></block></try></block></expr></expr_stmt></block_content></block></for></block_content></block></try></block></expr></expr_stmt></block_content></block></try></block></expr></expr_stmt></if></if_stmt></block_content></block></try></block_content></block></function></block_content></block></if></if_stmt></block></expr></block></expr></expr_stmt></block_content></block></if></if_stmt></block_content></block></try></block></expr></expr_stmt></block_content></block></finally></try></block></expr></argument>)</argument_list></call></expr>;</expr_stmt>

          <expr_stmt><expr><call><name><name>childViews</name><operator>.</operator><name>findProperty</name></name><argument_list>(<argument><expr><literal type="char">'name'</literal></expr></argument>, <argument><expr><name><name>st</name><operator>.</operator><name>name</name></name></expr></argument>)</argument_list></call><operator>.</operator><call><name>set</name><argument_list>(<argument><expr><literal type="char">'status'</literal></expr></argument>, <argument><expr><ternary><condition><expr><operator>(</operator><name>sortOrder</name><operator>)</operator></expr>?</condition><then><expr><literal type="char">'sorting_desc'</literal></expr></then><else>:<expr><literal type="char">'sorting_asc'</literal></expr></else></ternary></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        </block_content>}</block></try>
        <if_stmt><else>else <block>{<block_content>
          <expr_stmt><expr><call><name><name>childViews</name><operator>.</operator><name>findProperty</name></name><argument_list>(<argument><expr><literal type="char">'name'</literal></expr></argument>, <argument><expr><name><name>st</name><operator>.</operator><name>name</name></name></expr></argument>)</argument_list></call><operator>.</operator><call><name>set</name><argument_list>(<argument><expr><literal type="char">'status'</literal></expr></argument>, <argument><expr><name><name>st</name><operator>.</operator><name>status</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        </block_content>}</block></else></if_stmt>
      </block_content>}</block></finally></try>)</block></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>showProperPage</name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></for>
  </block_content>}</block></try><operator>.</operator><call><name>observes</name><argument_list>(<argument><expr><literal type="char">'parentView.filteringComplete'</literal></expr></argument>)</argument_list></call><operator>,</operator>

  <comment type="block" format="javadoc">/**
   * Save sort statuses to local storage
   * Works only after finish filtering in the parent View
   */</comment>
  <name>saveSortStatuses</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
    <if_stmt><if>if <condition>(<expr><operator>!</operator><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView.filteringComplete'</literal></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo"><block_content> <return>return;</return></block_content></block></if></if_stmt>
    <name>var</name> <name>statuses</name> <operator>=</operator> <index>[]</index></block></block></expr>;</expr_stmt>
    <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'childViews'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>forEach</name><argument_list>(<argument><expr><call><name>function</name><argument_list>(<argument><expr><name>childView</name></expr></argument>)</argument_list></call> <block>{
      <expr><call><name><name>statuses</name><operator>.</operator><name>push</name></name><argument_list>(<argument><expr><block>{
        <expr><name>name</name><operator>:</operator> <call><name><name>childView</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'name'</literal></expr></argument>)</argument_list></call></expr>,
        <expr><name>status</name><operator>:</operator> <call><name><name>childView</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'status'</literal></expr></argument>)</argument_list></call></expr>
      }</block></expr></argument>)</argument_list></call></expr>;
    }</block></expr></argument></argument_list></call></expr></expr_stmt>)</block_content></block><empty_stmt>;</empty_stmt></for>
    <expr_stmt><expr><call><name><name>App</name><operator>.</operator><name>db</name><operator>.</operator><name>setSortingStatuses</name></name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.name'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><name>statuses</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></try><expr_stmt><expr><operator>.</operator><call><name>observes</name><argument_list>(<argument><expr><literal type="char">'childViews.@each.status'</literal></expr></argument>)</argument_list></call></expr><operator>,</operator>

   <comment type="block" format="javadoc">/**
    * sort content by property
    * @param property
@@ -119,7 +165,8 @@ var fieldView = Em.View.extend({
     if(this.get('status') === 'sorting_desc'){
       this.get('parentView').sort(this, false);
       this.set('status', 'sorting_asc');
    } else {
    }
    else {
       this.get('parentView').sort(this, true);
       this.set('status', 'sorting_desc');
     }
diff --git a/ambari-web/app/views/common/table_view.js b/ambari-web/app/views/common/table_view.js
index 606874aa4a..2f82d84dc1 100644
-- a/ambari-web/app/views/common/table_view.js
++ b/ambari-web/app/views/common/table_view.js
@@ -22,13 +22,74 @@ var sort = require('views/common/sort_view');
 
 App.TableView = Em.View.extend({
 
  didInsertElement: function () {
    this.set('filterConditions', []);
    this.filter();
  /**
   * Shows if all data is loaded and filtered
   */</comment>
  <expr><name>filteringComplete</name><operator>:</operator> <literal type="boolean">false</literal></expr><operator>,</operator>

  <comment type="block" format="javadoc">/**
   * Loaded from local storage startIndex value
   */</comment>
  <expr><name>startIndexOnLoad</name><operator>:</operator> <literal type="null">null</literal></expr><operator>,</operator>
  <comment type="block" format="javadoc">/**
   * Loaded from local storage displayLength value
   */</comment>
  <expr><name>displayLengthOnLoad</name><operator>:</operator> <literal type="null">null</literal></expr><operator>,</operator>

  <comment type="block" format="javadoc">/**
   * Do filtering, using saved in the local storage filter conditions
   */</comment>
  <expr><name>willInsertElement</name><operator>:</operator><call><name>function</name> <argument_list>()</argument_list></call> <block>{
    <expr><name>var</name> <name>self</name> <operator>=</operator> <name>this</name></expr>;
    <name>var</name> <name>name</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.name'</literal></expr></argument>)</argument_list></call></block></expr>;</expr_stmt>

    <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'startIndexOnLoad'</literal></expr></argument>, <argument><expr><call><name><name>App</name><operator>.</operator><name>db</name><operator>.</operator><name>getStartIndex</name></name><argument_list>(<argument><expr><name>name</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'displayLengthOnLoad'</literal></expr></argument>, <argument><expr><call><name><name>App</name><operator>.</operator><name>db</name><operator>.</operator><name>getDisplayLength</name></name><argument_list>(<argument><expr><name>name</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <decl_stmt><decl><type><name>var</name></type> <name>filterConditions</name> <init>= <expr><call><name><name>App</name><operator>.</operator><name>db</name><operator>.</operator><name>getFilterConditions</name></name><argument_list>(<argument><expr><name>name</name></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
    <if_stmt><if>if <condition>(<expr><name>filterConditions</name></expr>)</condition> <block>{<block_content>
      <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'filterConditions'</literal></expr></argument>, <argument><expr><name>filterConditions</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>

      <decl_stmt><decl><type><name>var</name></type> <name>childViews</name> <init>= <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'childViews'</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>

      <expr_stmt><expr><call><name><name>filterConditions</name><operator>.</operator><name>forEach</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>(<argument><expr><name>condition</name></expr></argument>)</argument_list></call> <block>{
        <expr><name>var</name> <name>view</name> <operator>=</operator> <call><name><name>childViews</name><operator>.</operator><name>findProperty</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>, <argument><expr><name><name>condition</name><operator>.</operator><name>iColumn</name></name></expr></argument>)</argument_list></call></expr>;</block></expr></argument></argument_list></call></expr></expr_stmt>
        <if_stmt><if>if <condition>(<expr><name>view</name></expr>)</condition> <block>{<block_content>
          <expr_stmt><expr><call><name><name>view</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>, <argument><expr><name><name>condition</name><operator>.</operator><name>value</name></name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
          <expr_stmt><expr><call><name><name>Em</name><operator>.</operator><name>run</name><operator>.</operator><name>next</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>()</argument_list></call> <block>{
            <expr><call><name><name>view</name><operator>.</operator><name>showClearFilter</name></name><argument_list>()</argument_list></call></expr>;
          }</block></expr></argument></argument_list></call></expr></expr_stmt>)</block_content></block><empty_stmt>;</empty_stmt></if></if_stmt>
        </block_content>}</block></if></if_stmt>
      </block_content>}</block></try>)</block></block></expr>;</expr_stmt>
    </block_content>}</block></finally></try>

    <call><name><name>Em</name><operator>.</operator><name>run</name><operator>.</operator><name>next</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>Em</name><operator>.</operator><name>run</name><operator>.</operator><name>next</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>()</argument_list></call> <block>{
        <expr><call><name><name>self</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'filteringComplete'</literal></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call></expr>;
      }</block></expr></argument>)</argument_list></call></expr>;
    }</block></expr></argument></argument_list></call>)</block></block></expr>;</expr_stmt>
   </block_content>}</block></finally></try><operator>,</operator>
 
   <comment type="block" format="javadoc">/**
   * return pagination information displayed on the mirroring page
   * Do pagination after filtering and sorting
   * Don't call this method! It's already used where it's need
   */</comment>
  <name>showProperPage</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
    <expr><name>var</name> <name>self</name> <operator>=</operator> <name>this</name></expr>;
    <call><name><name>Em</name><operator>.</operator><name>run</name><operator>.</operator><name>next</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>Em</name><operator>.</operator><name>run</name><operator>.</operator><name>next</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>()</argument_list></call> <block>{
        <if_stmt><if>if <condition>(<expr><call><name><name>self</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'displayLengthOnLoad'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
          <expr_stmt><expr><call><name><name>self</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'displayLength'</literal></expr></argument>, <argument><expr><call><name><name>self</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'displayLengthOnLoad'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt/>}</block_content>
        if(self.get('startIndexOnLoad'</block></if></if_stmt>)</block></expr></argument>)</argument_list></call> <block>{
          <expr><call><name><name>self</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'startIndex'</literal></expr></argument>, <argument><expr><call><name><name>self</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'startIndexOnLoad'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
        }</block>
      }</expr></block></expr></argument>)</argument_list></call></block></block></expr>;</expr_stmt>
    </block_content>}</block></for>)</block_content></block><empty_stmt>;</empty_stmt></try>
  }</block></expr></expr_stmt><operator>,</operator>

  <comment type="block" format="javadoc">/**
   * return pagination information displayed on the page
    */</comment>
   <label><name>paginationInfo</name>:</label> <expr_stmt><expr><call><name>function</name> <argument_list>()</argument_list></call> <block>{
     <return>return <expr><call><name><name>this</name><operator>.</operator><name>t</name></name><argument_list>(<argument><expr><literal type="char">'apps.filters.paginationInfo'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>format</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'startIndex'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'endIndex'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'filteredContent.length'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</return>
@@ <operator>-</operator><literal type="number">70</literal><operator>,</operator><literal type="number">16</literal> <operator>+</operator><literal type="number">131</literal><operator>,</operator><literal type="number">16</literal> @@ <name><name>App</name><operator>.</operator><name>TableView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
     <expr><name>content</name><operator>:</operator> <index>[<expr><literal type="char">'10'</literal></expr><operator>,</operator> <literal type="char">'25'</literal><operator>,</operator> <literal type="char">'50'</literal>]</index></expr>
   }</block></expr></argument>)</argument_list></call><operator>,</operator>
 
  <comment type="line">// start index for displayed content on the mirroring page</comment>
  <comment type="line">// start index for displayed content on the page</comment>
   <name>startIndex</name><operator>:</operator> <literal type="number">1</literal><operator>,</operator>
 
  <comment type="line">// calculate end index for displayed content on the mirroring page</comment>
  <comment type="line">// calculate end index for displayed content on the page</comment>
   <name>endIndex</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
     <return>return <expr><call><name><name>Math</name><operator>.</operator><name>min</name></name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'filteredContent.length'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'startIndex'</literal></expr></argument>)</argument_list></call> <operator>+</operator> <call><name>parseInt</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'displayLength'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call> <operator>-</operator> <literal type="number">1</literal></expr></argument>)</argument_list></call></expr>;</return>
   }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'startIndex'</literal></expr></argument>, <argument><expr><literal type="char">'displayLength'</literal></expr></argument>, <argument><expr><literal type="char">'filteredContent.length'</literal></expr></argument>)</argument_list></call><operator>,</operator>
 
   <comment type="block" format="javadoc">/**
   * onclick handler for previous page button on the mirroring page
   * onclick handler for previous page button on the page
    */</comment>
   <name>previousPage</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
     <expr><name>var</name> <name>result</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'startIndex'</literal></expr></argument>)</argument_list></call> <operator>-</operator> <call><name>parseInt</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'displayLength'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
@@ <operator>-</operator><literal type="number">90</literal><operator>,</operator><literal type="number">7</literal> <operator>+</operator><literal type="number">151</literal><operator>,</operator><literal type="number">7</literal> @@ <name><name>App</name><operator>.</operator><name>TableView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
   }</block></expr></argument>,
 
   <comment type="block" format="javadoc">/**
   * onclick handler for next page button on the mirroring page
   * onclick handler for next page button on the page
    */</comment>
   <argument><expr><name>nextPage</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
     <expr><name>var</name> <name>result</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'startIndex'</literal></expr></argument>)</argument_list></call> <operator>+</operator> <call><name>parseInt</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'displayLength'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
@@ <operator>-</operator><literal type="number">99</literal><operator>,</operator><literal type="number">7</literal> <operator>+</operator><literal type="number">160</literal><operator>,</operator><literal type="number">7</literal> @@ <name><name>App</name><operator>.</operator><name>TableView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
     }</block></expr></argument></argument_list></call>
   }</block></expr></argument></argument_list></call><operator>,</operator>
 
  <comment type="line">// the number of mirroring to show on every page of the mirroring page view</comment>
  <comment type="line">// the number of rows to show on every page</comment>
   <name>displayLength</name><operator>:</operator> <literal type="null">null</literal><operator>,</operator>
 
   <comment type="line">// calculates default value for startIndex property after applying filter or changing displayLength</comment>
@@ <operator>-</operator><literal type="number">112</literal><operator>,</operator><literal type="number">22</literal> <operator>+</operator><literal type="number">173</literal><operator>,</operator><literal type="number">54</literal> @@ <name><name>App</name><operator>.</operator><name>TableView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
    <expr><operator>*</operator>
    <operator>*</operator> @<name>param</name> <name>iColumn</name> <name>number</name> <name>of</name> <name>column</name> <name>by</name> <name>which</name> <name>filter</name>
    <operator>*</operator> @<name>param</name> <name>value</name>
   <operator>*</operator> @<name>param</name> <name>type</name>
    <operator>*</operator><operator>/</operator>
   <name>updateFilter</name><operator>:</operator> <call><name>function</name> <argument_list>(<argument><expr><name>iColumn</name></expr></argument>, <argument><expr><name>value</name></expr></argument>, <argument><expr><name>type</name></expr></argument>)</argument_list></call> <block>{
     <expr><name>var</name> <name>filterCondition</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'filterConditions'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>findProperty</name><argument_list>(<argument><expr><literal type="char">'iColumn'</literal></expr></argument>, <argument><expr><name>iColumn</name></expr></argument>)</argument_list></call></expr>;</block></expr>
     <if_stmt><if>if <condition>(<expr><name>filterCondition</name></expr>)</condition> <block>{<block_content>
       <expr_stmt><expr><name><name>filterCondition</name><operator>.</operator><name>value</name></name> <operator>=</operator> <name>value</name></expr>;</expr_stmt>
    </block_content>}</block></if> <else>else <block>{<block_content>
    </block_content>}</block></else></if_stmt></block></expr></argument>
    <if_stmt><else>else <block>{<block_content>
       <expr_stmt><expr><name>filterCondition</name> <operator>=</operator> <block>{
         <expr><name>iColumn</name><operator>:</operator> <name>iColumn</name></expr>,
         <expr><name>value</name><operator>:</operator> <name>value</name></expr>,
         <expr><name>type</name><operator>:</operator> <name>type</name></expr>
      }</block></expr></expr_stmt>
      </block_content>}</block></else></if_stmt></argument_list></call></block></block></expr>;</expr_stmt>
       <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'filterConditions'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>push</name><argument_list>(<argument><expr><name>filterCondition</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
     </block_content>}</block></for>
    <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>saveFilterConditions</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
     <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>filter</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
   </block_content>}</block></try><operator>,</operator>
 
  <label><name>saveFilterConditions</name>:</label> <expr_stmt><expr><call><name>function</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>App</name><operator>.</operator><name>db</name><operator>.</operator><name>setFilterConditions</name></name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.name'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'filterConditions'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
  }</block></expr></expr_stmt><operator>,</operator>

  <label><name>saveDisplayLength</name>:</label> <expr_stmt><expr><call><name>function</name><argument_list>()</argument_list></call> <block>{
    <expr><name>var</name> <name>self</name> <operator>=</operator> <name>this</name></expr>;
    <call><name><name>Em</name><operator>.</operator><name>run</name><operator>.</operator><name>next</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>App</name><operator>.</operator><name>db</name><operator>.</operator><name>setDisplayLength</name></name><argument_list>(<argument><expr><call><name><name>self</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.name'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>self</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'displayLength'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
    }</block></expr></argument></argument_list></call>)</block></expr>;</expr_stmt>
  </block_content>}</block></else></if_stmt><expr_stmt><expr><operator>.</operator><call><name>observes</name><argument_list>(<argument><expr><literal type="char">'displayLength'</literal></expr></argument>)</argument_list></call></expr><operator>,</operator>

  <expr><name>saveStartIndex</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
    <if_stmt><if>if <condition>(<expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'filteringComplete'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
      <expr_stmt><expr><call><name><name>App</name><operator>.</operator><name>db</name><operator>.</operator><name>setStartIndex</name></name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.name'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'startIndex'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt/></block_content></block></if></if_stmt>}</block></expr></expr_stmt>
  </block_content>}</block></try><expr_stmt><expr><operator>.</operator><call><name>observes</name><argument_list>(<argument><expr><literal type="char">'startIndex'</literal></expr></argument>)</argument_list></call></expr><operator>,</operator>

  <expr><name>clearFilterCondition</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>App</name><operator>.</operator><name>db</name><operator>.</operator><name>setFilterConditions</name></name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.name'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;
  }</block></expr><operator>,</operator>

  <expr><name>clearDisplayLength</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>App</name><operator>.</operator><name>db</name><operator>.</operator><name>setDisplayLength</name></name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.name'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;
  }</block></expr><operator>,</operator>

  <expr><name>clearStartIndex</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
    <expr><call><name><name>App</name><operator>.</operator><name>db</name><operator>.</operator><name>setStartIndex</name></name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.name'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;
  }</block></expr><operator>,</operator>

   <comment type="block" format="javadoc">/**
    * contain filter conditions for each column
    */</comment>
@@ <expr><operator>-</operator><literal type="number">135</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">228</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name><name>App</name><operator>.</operator><name>TableView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
 
   <expr><name>filteredContent</name><operator>:</operator> <index>[]</index></expr>,
 
  <comment type="line">// contain content to show on the current page of mirroring page view</comment>
  <comment type="line">// contain content to show on the current page of data page view</comment>
   <expr><name>pageContent</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
     <return>return <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'filteredContent'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>slice</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'startIndex'</literal></expr></argument>)</argument_list></call> <operator>-</operator> <literal type="number">1</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'endIndex'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</return>
   }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'filteredContent.length'</literal></expr></argument>, <argument><expr><literal type="char">'startIndex'</literal></expr></argument>, <argument><expr><literal type="char">'endIndex'</literal></expr></argument>)</argument_list></call></expr>,
<expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>hbase</name><operator>.</operator><name>js</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>hbase</name><operator>.</operator><name>js</name></name>
<name>index</name> <literal type="number">2642a9068f</literal><operator>..</operator><literal type="number">72578ee2ee</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>hbase</name><operator>.</operator><name>js</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>hbase</name><operator>.</operator><name>js</name></name>
@@ <operator>-</operator><literal type="number">80</literal></expr>,<expr><literal type="number">7</literal> <operator>+</operator><literal type="number">80</literal></expr>,<expr><literal type="number">7</literal> @@ <name><name>App</name><operator>.</operator><name>MainDashboardServiceHbaseView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>MainDashboardServiceView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
 
   <expr><name>hbaseMasterWebUrl</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
     <if_stmt><if>if <condition>(<expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'activeMaster.host'</literal></expr></argument>)</argument_list></call> <operator>&amp;&amp;</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'activeMaster.host'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'publicHostName'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
      <return>return <expr><literal type="string">"http://"</literal> <operator>+</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'activeMaster.host'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'publicHostName'</literal></expr></argument>)</argument_list></call> <operator>+</operator> <literal type="string">":60010"</literal></expr>;</return>
      <return>return <expr><literal type="string">"http://"</literal> <operator>+</operator> <operator>(</operator><ternary><condition><expr><name><name>App</name><operator>.</operator><name>singleNodeInstall</name></name></expr> ?</condition><then> <expr><name><name>App</name><operator>.</operator><name>singleNodeAlias</name></name></expr> </then><else>: <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'activeMaster.host'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'publicHostName'</literal></expr></argument>)</argument_list></call></expr></else></ternary><operator>)</operator> <operator>+</operator> <literal type="string">":60010"</literal></expr>;</return>
     <expr_stmt/>}</block_content>
   }.property('activeMaster'</block></if></if_stmt>)<operator>,</operator>
 
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>hdfs</name><operator>.</operator><name>js</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>hdfs</name><operator>.</operator><name>js</name></name>
<name>index</name> <literal type="number">9fa4a3a812</literal><operator>..</operator><name>ce21b59393</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>hdfs</name><operator>.</operator><name>js</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>hdfs</name><operator>.</operator><name>js</name></name>
@@ <operator>-</operator><literal type="number">70</literal><operator>,</operator><literal type="number">7</literal> <operator>+</operator><literal type="number">70</literal><operator>,</operator><literal type="number">7</literal> @@ <name><name>App</name><operator>.</operator><name>MainDashboardServiceHdfsView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>MainDashboardServiceView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
   }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="string">"service.nameNodeStartTime"</literal></expr></argument>)</argument_list></call></expr></argument>,
 
   <argument><expr><name>nodeWebUrl</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
    <return>return <expr><literal type="string">"http://"</literal> <operator>+</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'service'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'nameNode'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'publicHostName'</literal></expr></argument>)</argument_list></call> <operator>+</operator> <literal type="string">":50070"</literal></expr>;</return></block></expr></argument>
    <return>return <expr><literal type="string">"http://"</literal> <operator>+</operator> <operator>(</operator><ternary><condition><expr><name><name>App</name><operator>.</operator><name>singleNodeInstall</name></name></expr> ?</condition><then> <expr><name><name>App</name><operator>.</operator><name>singleNodeAlias</name></name></expr> </then><else>:  <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'service'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'nameNode'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'publicHostName'</literal></expr></argument>)</argument_list></call></expr></else></ternary><operator>)</operator> <operator>+</operator> <literal type="string">":50070"</literal></expr>;</return></argument_list></call>
   }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'service.nameNode'</literal></expr></argument>)</argument_list></call></expr>,
 
   <expr><name>nodeHeap</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
<expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>mapreduce</name><operator>.</operator><name>js</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>mapreduce</name><operator>.</operator><name>js</name></name>
<name>index</name> <literal type="number">94ddd0d338</literal><operator>..</operator><name>e3b9f18b8e</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>mapreduce</name><operator>.</operator><name>js</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>mapreduce</name><operator>.</operator><name>js</name></name>
@@ <operator>-</operator><literal type="number">22</literal></expr>,<expr><literal type="number">7</literal> <operator>+</operator><literal type="number">22</literal></expr>,<expr><literal type="number">7</literal> @@ <name><name>App</name><operator>.</operator><name>MainDashboardServiceMapreduceView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>MainDashboardServiceView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
   <expr><name>templateName</name><operator>:</operator> <call><name>require</name><argument_list>(<argument><expr><literal type="char">'templates/main/dashboard/service/mapreduce'</literal></expr></argument>)</argument_list></call></expr>,
   <expr><name>serviceName</name><operator>:</operator> <literal type="char">'MAPREDUCE'</literal></expr>,
   <expr><name>jobTrackerWebUrl</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
    <return>return <expr><literal type="string">"http://"</literal> <operator>+</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'service'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'jobTracker'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'publicHostName'</literal></expr></argument>)</argument_list></call> <operator>+</operator> <literal type="string">":50030"</literal></expr>;</return></block></expr>
    <return>return <expr><literal type="string">"http://"</literal> <operator>+</operator> <operator>(</operator><ternary><condition><expr><name><name>App</name><operator>.</operator><name>singleNodeInstall</name></name></expr> ?</condition><then> <expr><name><name>App</name><operator>.</operator><name>singleNodeAlias</name></name></expr> </then><else>: <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'service'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'jobTracker'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'publicHostName'</literal></expr></argument>)</argument_list></call></expr></else></ternary><operator>)</operator> <operator>+</operator> <literal type="string">":50030"</literal></expr>;</return>
   }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'service.nameNode'</literal></expr></argument>)</argument_list></call></expr></argument>,
 
   <argument><expr><name>Chart</name><operator>:</operator> <call><name><name>App</name><operator>.</operator><name>ChartLinearView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
<expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>oozie</name><operator>.</operator><name>js</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>oozie</name><operator>.</operator><name>js</name></name>
<name>index</name> <literal type="number">9c7d8db426</literal><operator>..</operator><literal type="number">06b87d7c6f</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>oozie</name><operator>.</operator><name>js</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>dashboard</name><operator>/</operator><name>service</name><operator>/</operator><name><name>oozie</name><operator>.</operator><name>js</name></name>
@@ <operator>-</operator><literal type="number">23</literal></expr>,<expr><literal type="number">7</literal> <operator>+</operator><literal type="number">23</literal></expr>,<expr><literal type="number">7</literal> @@ <name><name>App</name><operator>.</operator><name>MainDashboardServiceOozieView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>MainDashboardServiceView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
   <expr><name>templateName</name><operator>:</operator> <call><name>require</name><argument_list>(<argument><expr><literal type="char">'templates/main/dashboard/service/oozie'</literal></expr></argument>)</argument_list></call></expr>,
 
   <expr><name>webUi</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
    <expr><name>var</name> <name>hostName</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'service.hostComponents'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>findProperty</name><argument_list>(<argument><expr><literal type="char">'componentName'</literal></expr></argument>, <argument><expr><literal type="char">'OOZIE_SERVER'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'host.publicHostName'</literal></expr></argument>)</argument_list></call></expr>;
    <expr><name>var</name> <name>hostName</name> <operator>=</operator> <ternary><condition><expr><name><name>App</name><operator>.</operator><name>singleNodeInstall</name></name></expr> ?</condition><then> <expr><name><name>App</name><operator>.</operator><name>singleNodeAlias</name></name></expr> </then><else>: <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'service.hostComponents'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>findProperty</name><argument_list>(<argument><expr><literal type="char">'componentName'</literal></expr></argument>, <argument><expr><literal type="char">'OOZIE_SERVER'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="char">'host.publicHostName'</literal></expr></argument>)</argument_list></call></expr></else></ternary></expr>;
     <return>return <expr><literal type="string">"http://{0}:11000/oozie"</literal><operator>.</operator><call><name>format</name><argument_list>(<argument><expr><name>hostName</name></expr></argument>)</argument_list></call></expr>;</return>
   }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'service'</literal></expr></argument>)</argument_list></call>
 }</expr></block></expr></argument>)</argument_list></call></expr>;
<expr><operator>\</operator> <name>No</name> <name>newline</name> <name>at</name> <name>end</name> <name>of</name> <name>file</name>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name><name>host</name><operator>.</operator><name>js</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name><name>host</name><operator>.</operator><name>js</name></name>
<name>index</name> <name>c35eb2d313</name><operator>..</operator><literal type="number">6c122ae024</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name><name>host</name><operator>.</operator><name>js</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name><name>host</name><operator>.</operator><name>js</name></name>
@@ <operator>-</operator><literal type="number">27</literal></expr>,<expr><literal type="number">7</literal> <operator>+</operator><literal type="number">27</literal></expr>,<expr><literal type="number">7</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>TableView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
     <return>return <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.content'</literal></expr></argument>)</argument_list></call></expr>;</return>
   }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'controller.content.length'</literal></expr></argument>)</argument_list></call></expr></argument>,
 
  <argument><expr><name>didInsertElement</name><operator>:</operator><call><name>function</name> <argument_list>()</argument_list></call> <block>{
  <expr><name>willInsertElement</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
     <expr><call><name><name>this</name><operator>.</operator><name>_super</name></name><argument_list>()</argument_list></call></expr>;
   }</block></expr>,
 
@@ <expr><operator>-</operator><literal type="number">60</literal></expr>,<expr><literal type="number">6</literal> <operator>+</operator><literal type="number">60</literal></expr>,<expr><literal type="number">7</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>TableView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
     <expr><name>displayName</name><operator>:</operator> <call><name><name>Em</name><operator>.</operator><name>I18n</name><operator>.</operator><name>t</name></name><argument_list>(<argument><expr><literal type="char">'common.loadAvg'</literal></expr></argument>)</argument_list></call></expr>,
     <expr><name>type</name><operator>:</operator> <literal type="char">'number'</literal></expr>
   }</block></expr></argument>)</argument_list></call></expr>,

   <expr><name>HostView</name><operator>:</operator><call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
     <expr><name>content</name><operator>:</operator><literal type="null">null</literal></expr>,
     <expr><name>tagName</name><operator>:</operator> <literal type="char">'tr'</literal></expr>,
@@ <expr><operator>-</operator><literal type="number">203</literal></expr>,<expr><literal type="number">8</literal> <operator>+</operator><literal type="number">204</literal></expr>,<expr><literal type="number">9</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>TableView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
    <expr><operator>*</operator> <name>Based</name> <name><name>on</name> <argument_list type="generic">&lt;<argument><name>code</name></argument>&gt;</argument_list></name><name><name>filters</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>code</name></argument>&gt;</argument_list></name> <name>library</name>
    <operator>*</operator><operator>/</operator>
   <name>nameFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
    <expr><name>column</name><operator>:</operator> <literal type="number">1</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'string'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'string'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
@@ <expr><operator>-</operator><literal type="number">213</literal></expr>,<expr><literal type="number">8</literal> <operator>+</operator><literal type="number">215</literal></expr>,<expr><literal type="number">9</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>TableView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
    <expr><operator>*</operator> <name>Based</name> <name><name>on</name> <argument_list type="generic">&lt;<argument><name>code</name></argument>&gt;</argument_list></name><name><name>filters</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>code</name></argument>&gt;</argument_list></name> <name>library</name>
    <operator>*</operator><operator>/</operator>
   <name>ipFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
    <expr><name>column</name><operator>:</operator> <literal type="number">2</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">2</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'string'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'string'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
@@ <expr><operator>-</operator><literal type="number">225</literal></expr>,<expr><literal type="number">8</literal> <operator>+</operator><literal type="number">228</literal></expr>,<expr><literal type="number">9</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>TableView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
   <expr><name>cpuFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-mini'</literal></expr>,
     <expr><name>fieldId</name><operator>:</operator> <literal type="char">'cpu_filter'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">3</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">3</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'number'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'number'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
@@ <expr><operator>-</operator><literal type="number">237</literal></expr>,<expr><literal type="number">8</literal> <operator>+</operator><literal type="number">241</literal></expr>,<expr><literal type="number">9</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>TableView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
   <expr><name>loadAvgFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-mini'</literal></expr>,
     <expr><name>fieldId</name><operator>:</operator> <literal type="char">'load_avg_filter'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">5</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">5</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'number'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'number'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
@@ <expr><operator>-</operator><literal type="number">249</literal></expr>,<expr><literal type="number">8</literal> <operator>+</operator><literal type="number">254</literal></expr>,<expr><literal type="number">9</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>TableView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
   <expr><name>ramFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-mini'</literal></expr>,
     <expr><name>fieldId</name><operator>:</operator> <literal type="char">'ram_filter'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">4</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">4</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'ambari-bandwidth'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'ambari-bandwidth'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
@@ <expr><operator>-</operator><literal type="number">259</literal></expr>,<expr><literal type="number">6</literal> <operator>+</operator><literal type="number">265</literal></expr>,<expr><literal type="number">9</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>TableView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
    <expr><operator>*</operator> <name>Based</name> <name><name>on</name> <argument_list type="generic">&lt;<argument><name>code</name></argument>&gt;</argument_list></name><name><name>filters</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>code</name></argument>&gt;</argument_list></name> <name>library</name>
    <operator>*</operator><operator>/</operator>
   <name>componentsFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createComponentView</name></name><argument_list>(<argument><expr><block>{

    <expr><name>column</name><operator>:</operator> <literal type="number">6</literal></expr>,

     <comment type="block" format="javadoc">/**
      * Inner FilterView. Used just to render component. Value bind to &lt;code&gt;mainview.value&lt;/code&gt; property
      * Base methods was implemented in &lt;code&gt;filters.componentFieldView&lt;/code&gt;
@@ -318,7 +327,7 @@ App.MainHostView = App.TableView.extend({
        */</comment>
       <expr><name>applyFilter</name><operator>:</operator><call><name>function</name><argument_list>()</argument_list></call> <block>{
         <expr><call><name><name>this</name><operator>.</operator><name>_super</name></name><argument_list>()</argument_list></call></expr>;

        <expr><name>var</name> <name>self</name> <operator>=</operator> <name>this</name></expr>;
         <expr><name>var</name> <name>chosenComponents</name> <operator>=</operator> <index>[]</index></expr>;
 
         <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'masterComponents'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>filterProperty</name><argument_list>(<argument><expr><literal type="char">'checkedForHostFilter'</literal></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>forEach</name><argument_list>(<argument><expr><call><name>function</name><argument_list>(<argument><expr><name>item</name></expr></argument>)</argument_list></call><block>{
@@ <expr><operator>-</operator><literal type="number">330</literal></expr>,<expr><literal type="number">21</literal> <operator>+</operator><literal type="number">339</literal></expr>,<expr><literal type="number">42</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>TableView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
         <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'clientComponents'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>filterProperty</name><argument_list>(<argument><expr><literal type="char">'checkedForHostFilter'</literal></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>forEach</name><argument_list>(<argument><expr><call><name>function</name><argument_list>(<argument><expr><name>item</name></expr></argument>)</argument_list></call><block>{
           <expr><call><name><name>chosenComponents</name><operator>.</operator><name>push</name></name><argument_list>(<argument><expr><call><name><name>item</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'id'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
         }</block></expr></argument>)</argument_list></call></expr>;
        <expr><call><name><name>this</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>, <argument><expr><call><name><name>chosenComponents</name><operator>.</operator><name>toString</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
        <expr><call><name><name>Em</name><operator>.</operator><name>run</name><operator>.</operator><name>next</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>()</argument_list></call> <block>{
          <expr><call><name><name>self</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>, <argument><expr><call><name><name>chosenComponents</name><operator>.</operator><name>toString</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
        }</block></expr></argument>)</argument_list></call></expr>;
       }</block></expr></argument>,
 
      <argument><expr><name>didInsertElement</name><operator>:</operator><call><name>function</name> <argument_list>()</argument_list></call> <block>{
        <if_stmt><if>if <condition>(<expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.comeWithFilter'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
          <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>applyFilter</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
          <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'controller.comeWithFilter'</literal></expr></argument>, <argument><expr><literal type="boolean">false</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt/>}</block_content> else <block>{<block_content>
          <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>clearFilter</name></name><argument_list>()</argument_list></call></expr>;</expr_stmt>
      <comment type="block" format="javadoc">/**
       * Verify that checked checkboxes are equal to value stored in hidden field (components ids list)
       */</comment>
      <label><name>checkComponents</name>:</label> <expr_stmt><expr><call><name>function</name><argument_list>()</argument_list></call> <block>{
        <expr><name>var</name> <name>components</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>split</name><argument_list>(<argument><expr><literal type="char">','</literal></expr></argument>)</argument_list></call></expr>;
        <name>var</name> <name>self</name> <operator>=</operator> <name>this</name></block></expr>;</expr_stmt>
        <if_stmt><if>if <condition>(<expr><name>components</name></expr>)</condition> <block>{<block_content>
          <expr_stmt><expr><call><name><name>components</name><operator>.</operator><name>forEach</name></name><argument_list>(<argument><expr><call><name>function</name><argument_list>(<argument><expr><name>componentId</name></expr></argument>)</argument_list></call> <block>{
            <if_stmt><if>if<condition>(<expr><operator>!</operator><call><name><name>self</name><operator>.</operator><name>tryCheckComponent</name></name><argument_list>(<argument><expr><name>self</name></expr></argument>, <argument><expr><literal type="char">'masterComponents'</literal></expr></argument>, <argument><expr><name>componentId</name></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
              <if_stmt><if>if<condition>(<expr><operator>!</operator><call><name><name>self</name><operator>.</operator><name>tryCheckComponent</name></name><argument_list>(<argument><expr><name>self</name></expr></argument>, <argument><expr><literal type="char">'slaveComponents'</literal></expr></argument>, <argument><expr><name>componentId</name></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
                <expr_stmt><expr><call><name><name>self</name><operator>.</operator><name>tryCheckComponent</name></name><argument_list>(<argument><expr><name>self</name></expr></argument>, <argument><expr><literal type="char">'clientComponents'</literal></expr></argument>, <argument><expr><name>componentId</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
              <expr_stmt/>}</block_content>
            }
          }</block></if></if_stmt>)</block_content></block><empty_stmt>;</empty_stmt></if></if_stmt>
        }</block>
      }<operator>.</operator><call><name>observes</name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>,

      <argument><expr><name>tryCheckComponent</name><operator>:</operator> <call><name>function</name><argument_list>(<argument><expr><name>self</name></expr></argument>, <argument><expr><name>category</name></expr></argument>, <argument><expr><name>componentId</name></expr></argument>)</argument_list></call> <block>{
        <expr><name>var</name> <name>c</name> <operator>=</operator> <call><name><name>self</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><name>category</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>findProperty</name><argument_list>(<argument><expr><literal type="char">'id'</literal></expr></argument>, <argument><expr><name>componentId</name></expr></argument>)</argument_list></call></expr>;</block></expr></argument></argument_list></call></expr></expr_stmt>
        <if_stmt><if>if <condition>(<expr><name>c</name></expr>)</condition> <block>{<block_content>
          <if_stmt><if>if <condition>(<expr><operator>!</operator><call><name><name>c</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'checkedForHostFilter'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
            <expr_stmt><expr><call><name><name>c</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'checkedForHostFilter'</literal></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
            <return>return <expr><literal type="boolean">true</literal></expr>;</return>
          <expr_stmt/>}</block_content>
         }
        return false</block><empty_stmt>;</empty_stmt></if></if_stmt>
       <expr_stmt/>}</block_content>
 
     }</block></if></if_stmt>)</block_content></block><operator>,</operator>
     <label><name>onChangeValue</name>:</label> <expr_stmt><expr><call><name>function</name><argument_list>()</argument_list></call><block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">6</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'multiple'</literal></expr></argument>)</argument_list></call></expr>;
      <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'multiple'</literal></expr></argument>)</argument_list></call></block></expr>;</expr_stmt></if></if_stmt>
     <expr_stmt/>}</block_content>
   }</block></block></if></if_stmt>)<operator>,</operator>
 
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>host</name><operator>/</operator><name><name>summary</name><operator>.</operator><name>js</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>host</name><operator>/</operator><name><name>summary</name><operator>.</operator><name>js</name></name>
<name>index</name> <name>aead99a17c</name><operator>..</operator><name>de7c509ce4</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>host</name><operator>/</operator><name><name>summary</name><operator>.</operator><name>js</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>host</name><operator>/</operator><name><name>summary</name><operator>.</operator><name>js</name></name>
@@ <operator>-</operator><literal type="number">91</literal><operator>,</operator><literal type="number">14</literal> <operator>+</operator><literal type="number">91</literal><operator>,</operator><literal type="number">14</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostSummaryView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
   <expr><name>didInsertElement</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
     <expr><call><name><name>this</name><operator>.</operator><name>loadDecommissionNodesList</name></name><argument_list>()</argument_list></call></expr>;
   }</block></expr>,
  <expr><name>sortedComponents</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
  <expr><name>sortedComponents</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
     <expr><name>var</name> <name>slaveComponents</name> <operator>=</operator> <index>[]</index></expr>;
     <expr><name>var</name> <name>masterComponents</name> <operator>=</operator> <index>[]</index></expr>;
    <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content.hostComponents'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>forEach</name><argument_list>(<argument><expr><call><name>function</name><argument_list>(<argument><expr><name>component</name></expr></argument>)</argument_list></call><block>{
      <if_stmt><if>if<condition>(<expr><call><name><name>component</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>!=</operator> <literal type="char">'INSTALLING'</literal></expr>)</condition><block>{<block_content>
        <if_stmt><if>if<condition>(<expr><call><name><name>component</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isMaster'</literal></expr></argument>)</argument_list></call></expr>)</condition><block>{<block_content>
    <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content.hostComponents'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>forEach</name><argument_list>(<argument><expr><call><name>function</name> <argument_list>(<argument><expr><name>component</name></expr></argument>)</argument_list></call> <block>{
      <if_stmt><if>if <condition>(<expr><call><name><name>component</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>!=</operator> <literal type="char">'INSTALLING'</literal></expr>)</condition> <block>{<block_content>
        <if_stmt><if>if <condition>(<expr><call><name><name>component</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isMaster'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
           <expr_stmt><expr><call><name><name>masterComponents</name><operator>.</operator><name>push</name></name><argument_list>(<argument><expr><name>component</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt/>}</block_content> else if(component.get('isSlave'</block></if></if_stmt>)</block_content></block></if></if_stmt>)</block> <block>{
        }</block></expr></argument> <if_stmt><if type="elseif">else if <condition>(<expr><call><name><name>component</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isSlave'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
           <expr_stmt><expr><call><name><name>slaveComponents</name><operator>.</operator><name>push</name></name><argument_list>(<argument><expr><name>component</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
         <expr_stmt/>}</block_content>
       }
@@ -106</block><operator>,</operator><expr_stmt><expr><literal type="number">16</literal> <operator>+</operator><literal type="number">106</literal></expr><operator>,</operator><expr><literal type="number">16</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostSummaryView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
     }</block></expr></argument>, <argument><expr><name>this</name></expr></argument>)</argument_list></call></expr>;</expr_stmt></if></if_stmt></argument_list></call></expr></expr_stmt>
     <return>return <expr><call><name><name>masterComponents</name><operator>.</operator><name>concat</name></name><argument_list>(<argument><expr><name>slaveComponents</name></expr></argument>)</argument_list></call></expr>;</return>
   <expr_stmt/>}</block_content>.property('content'</block><operator>,</operator> <expr_stmt><expr><literal type="char">'content.hostComponents.length'</literal></expr></expr_stmt></if></if_stmt></block_content></block></if></if_stmt></block></expr></argument>)</argument_list></call></expr>,
  <expr><name>clients</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
  <expr><name>clients</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
     <expr><name>var</name> <name>clients</name> <operator>=</operator> <index>[]</index></expr>;
    <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content.hostComponents'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>forEach</name><argument_list>(<argument><expr><call><name>function</name><argument_list>(<argument><expr><name>component</name></expr></argument>)</argument_list></call><block>{
      <if_stmt><if>if<condition>(<expr><operator>!</operator><call><name><name>component</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'componentName'</literal></expr></argument>)</argument_list></call></expr>)</condition><block>{<block_content>
    <expr_stmt><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content.hostComponents'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>forEach</name><argument_list>(<argument><expr><call><name>function</name> <argument_list>(<argument><expr><name>component</name></expr></argument>)</argument_list></call> <block>{
      <if_stmt><if>if <condition>(<expr><operator>!</operator><call><name><name>component</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'componentName'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
         <comment type="line">//temporary fix because of different data in hostComponents and serviceComponents</comment>
         <return>return;</return>
       <expr_stmt/>}</block_content>
       if (!component.get('isSlave'</block></if></if_stmt>)</block> <operator>&amp;&amp;</operator> <operator>!</operator><call><name><name>component</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isMaster'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call> <block>{
         <if_stmt><if>if <condition>(<expr><name><name>clients</name><operator>.</operator><name>length</name></name></expr>)</condition> <block>{<block_content>
          <expr_stmt><expr><name><name>clients</name><index>[<expr><name><name>clients</name><operator>.</operator><name>length</name></name><operator>-</operator><literal type="number">1</literal></expr>]</index></name><operator>.</operator><call><name>set</name><argument_list>(<argument><expr><literal type="char">'isLast'</literal></expr></argument>, <argument><expr><literal type="boolean">false</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
          <expr_stmt><expr><name><name>clients</name><index>[<expr><name><name>clients</name><operator>.</operator><name>length</name></name> <operator>-</operator> <literal type="number">1</literal></expr>]</index></name><operator>.</operator><call><name>set</name><argument_list>(<argument><expr><literal type="char">'isLast'</literal></expr></argument>, <argument><expr><literal type="boolean">false</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
         <expr_stmt/>}</block_content>
         component.set('isLast'</block><operator>,</operator> <expr_stmt><expr><literal type="boolean">true</literal></expr></expr_stmt></if></if_stmt></block></expr></expr_stmt></block_content></block></if></if_stmt></block></expr></argument>)</argument_list></call></expr>;
         <expr><call><name><name>clients</name><operator>.</operator><name>push</name></name><argument_list>(<argument><expr><name>component</name></expr></argument>)</argument_list></call></expr>;
@@ <expr><operator>-</operator><literal type="number">126</literal></expr>,<expr><literal type="number">21</literal> <operator>+</operator><literal type="number">126</literal></expr>,<expr><literal type="number">21</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostSummaryView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
 
   <expr><name>addableComponentObject</name><operator>:</operator> <call><name><name>Em</name><operator>.</operator><name>Object</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
     <expr><name>componentName</name><operator>:</operator> <literal type="char">''</literal></expr>,
    <expr><name>displayName</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
    <expr><name>displayName</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
       <return>return <expr><call><name><name>App</name><operator>.</operator><name>format</name><operator>.</operator><name>role</name></name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'componentName'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</return>
     }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'componentName'</literal></expr></argument>)</argument_list></call>
   }</expr></block></expr></block></expr></argument>)</argument_list></call></expr>,
  <expr><name>isAddComponent</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
  <expr><name>isAddComponent</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
     <return>return <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content.healthClass'</literal></expr></argument>)</argument_list></call> <operator>!=</operator><operator>=</operator> <literal type="char">'health-status-DEAD-YELLOW'</literal></expr>;</return>
   }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'content.healthClass'</literal></expr></argument>)</argument_list></call></expr>,
  <expr><name>addableComponents</name><operator>:</operator><call><name>function</name><argument_list>()</argument_list></call><block>{
  <expr><name>addableComponents</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
     <expr><name>var</name> <name>components</name> <operator>=</operator> <index>[]</index></expr>;
     <expr><name>var</name> <name>services</name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>Service</name><operator>.</operator><name>find</name></name><argument_list>()</argument_list></call></expr>;
     <expr><name>var</name> <name>dataNodeExists</name> <operator>=</operator> <literal type="boolean">false</literal></expr>;
     <expr><name>var</name> <name>taskTrackerExists</name> <operator>=</operator> <literal type="boolean">false</literal></expr>;
     <expr><name>var</name> <name>regionServerExists</name> <operator>=</operator> <literal type="boolean">false</literal></expr>;
 
    <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content.hostComponents'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>forEach</name><argument_list>(<argument><expr><call><name>function</name><argument_list>(<argument><expr><name>component</name></expr></argument>)</argument_list></call> <block>{
    <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content.hostComponents'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>forEach</name><argument_list>(<argument><expr><call><name>function</name> <argument_list>(<argument><expr><name>component</name></expr></argument>)</argument_list></call> <block>{
       <switch>switch <condition>(<expr><call><name><name>component</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'componentName'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
         <case>case <expr><literal type="char">'DATANODE'</literal></expr>:</case>
           <expr_stmt><expr><name>dataNodeExists</name> <operator>=</operator> <literal type="boolean">true</literal></expr>;</expr_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">173</literal></expr><operator>,</operator><expr><literal type="number">74</literal> <operator>+</operator><literal type="number">173</literal></expr><operator>,</operator><expr><literal type="number">96</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostSummaryView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
         <expr><call><name><name>this</name><operator>.</operator><name>doBlinking</name></name><argument_list>()</argument_list></call></expr>;
       }</block></expr></argument>
     }</argument_list></call></expr><operator>,</operator>
    <expr><name>hostComponent</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
    <expr><name>hostComponent</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
       <expr><name>var</name> <name>hostComponent</name> <operator>=</operator> <literal type="null">null</literal></expr>;
       <expr><name>var</name> <name>serviceComponent</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content'</literal></expr></argument>)</argument_list></call></expr>;
       <expr><name>var</name> <name>host</name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>router</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'mainHostDetailsController.content'</literal></expr></argument>)</argument_list></call></expr>;
      <if_stmt><if>if<condition>(<expr><name>host</name></expr>)</condition><block>{<block_content>
      <if_stmt><if>if <condition>(<expr><name>host</name></expr>)</condition> <block>{<block_content>
         <expr_stmt><expr><name>hostComponent</name> <operator>=</operator> <call><name><name>host</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'hostComponents'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>findProperty</name><argument_list>(<argument><expr><literal type="char">'componentName'</literal></expr></argument>, <argument><expr><call><name><name>serviceComponent</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'componentName'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
       <expr_stmt/>}</block_content>
       return hostComponent</block><empty_stmt>;</empty_stmt></if></if_stmt>
     <expr_stmt/>}</block_content>.property('content'</block><operator>,</operator> <expr_stmt><expr><literal type="char">'App.router.mainHostDetailsController.content'</literal></expr></expr_stmt></if></if_stmt></block></expr></block></expr></expr_stmt></block_content></block></switch></block></expr></argument>)</argument_list></call></expr>,
    <expr><name>workStatus</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
    <expr><name>workStatus</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
       <expr><name>var</name> <name>workStatus</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content.workStatus'</literal></expr></argument>)</argument_list></call></expr>;
       <expr><name>var</name> <name>hostComponent</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'hostComponent'</literal></expr></argument>)</argument_list></call></expr>;
      <if_stmt><if>if<condition>(<expr><name>hostComponent</name></expr>)</condition><block>{<block_content>
      <if_stmt><if>if <condition>(<expr><name>hostComponent</name></expr>)</condition> <block>{<block_content>
         <expr_stmt><expr><name>workStatus</name> <operator>=</operator> <call><name><name>hostComponent</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
       <expr_stmt/>}</block_content>
       return workStatus</block><empty_stmt>;</empty_stmt></if></if_stmt>
    <expr_stmt/>}</block_content>.property('content.workStatus'</block><operator>,</operator><expr_stmt><expr><literal type="char">'hostComponent.workStatus'</literal></expr></expr_stmt></if></if_stmt></block></expr></block></expr></block></expr></argument>)</argument_list></call></expr>,
    <expr><name>statusClass</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
    }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'content.workStatus'</literal></expr></argument>, <argument><expr><literal type="char">'hostComponent.workStatus'</literal></expr></argument>)</argument_list></call></expr>,

    <comment type="block" format="javadoc">/**
     * Return host component text status
     */</comment>
    <expr><name>componentTextStatus</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><name>var</name> <name>workStatus</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"workStatus"</literal></expr></argument>)</argument_list></call></expr>;
      <expr><name>var</name> <name>componentTextStatus</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content.componentTextStatus'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><name>var</name> <name>hostComponent</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'hostComponent'</literal></expr></argument>)</argument_list></call></expr>;
      <if_stmt><if>if <condition>(<expr><name>hostComponent</name></expr>)</condition> <block>{<block_content>
        <expr_stmt><expr><name>componentTextStatus</name> <operator>=</operator> <call><name><name>hostComponent</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'componentTextStatus'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <if_stmt><if>if<condition>(<expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"isDataNode"</literal></expr></argument>)</argument_list></call></expr>)</condition><block type="pseudo"><block_content>
          <if_stmt><if>if<condition>(<expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isDataNodeRecommissionAvailable'</literal></expr></argument>)</argument_list></call></expr>)</condition><block>{<block_content>
            <if_stmt><if>if<condition>(<expr><name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>started</name></name> <operator>==</operator> <name>workStatus</name></expr>)</condition><block>{<block_content>
              <expr_stmt><expr><name>componentTextStatus</name> <operator>=</operator> <literal type="string">"Decommissioning..."</literal></expr>;</expr_stmt>
            <expr_stmt/>}</block_content>else if(App.HostComponentStatus.stopped == workStatus</block></if></if_stmt>)</block_content><block>{<block_content>
              <expr_stmt><expr><name>componentTextStatus</name> <operator>=</operator> <literal type="string">"Decommissioned"</literal></expr>;</expr_stmt>
            <expr_stmt/>}</block_content>
          }
      }
      return componentTextStatus</block></block><empty_stmt>;</empty_stmt></if></if_stmt></block_content></block></if></if_stmt>
    <expr_stmt/>}</block_content>.property('workStatus'</block><operator>,</operator><expr_stmt><expr><literal type="char">'isDataNodeRecommissionAvailable'</literal></expr></expr_stmt></if></if_stmt></block></expr></block></expr></block></expr></block></expr></block></expr></argument>)</argument_list></call></expr>,

    <expr><name>statusClass</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
       <expr><name>var</name> <name>statusClass</name> <operator>=</operator> <literal type="null">null</literal></expr>;
      <if_stmt><if>if<condition>(<expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isDataNode'</literal></expr></argument>)</argument_list></call></expr>)</condition><block>{<block_content>
        <if_stmt><if>if<condition>(<expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isDataNodeRecommissionAvailable'</literal></expr></argument>)</argument_list></call> <operator>&amp;&amp;</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isStart'</literal></expr></argument>)</argument_list></call></expr>)</condition><block>{<block_content>
          <comment type="line">// Orange is shown only when service is started/starting and it is decommissioned.</comment>

      <comment type="line">//If the component is DataNode</comment>
      <if_stmt><if>if <condition>(<expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isDataNode'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
        <if_stmt><if>if <condition>(<expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isDataNodeRecommissionAvailable'</literal></expr></argument>)</argument_list></call> <operator>&amp;&amp;</operator> <operator>(</operator><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isStart'</literal></expr></argument>)</argument_list></call> <operator>||</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>==</operator> <literal type="char">'INSTALLED'</literal><operator>)</operator></expr>)</condition> <block>{<block_content>
           <return>return <expr><literal type="char">'health-status-DEAD-ORANGE'</literal></expr>;</return>
         <expr_stmt/>}</block_content>
       }
      if(this.get('workStatus'</block></if></if_stmt>)</block_content> === App.HostComponentStatus.install_failed</block></if></if_stmt>)</block_content><block>{<block_content>
        <return>return <expr><literal type="char">'icon-remove'</literal></expr>;</return>

      <comment type="line">//Class when install failed</comment>
      <if_stmt><if>if <condition>(<expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>==</operator><operator>=</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>install_failed</name></name></expr>)</condition> <block>{<block_content>
        <return>return <expr><literal type="char">'health-status-color-red icon-cog'</literal></expr>;</return>
       <expr_stmt/>}</block_content>

      <comment type="line">//Class when installing</comment>
      if (this.get('workStatus'</block></if></if_stmt>)</block_content> === App.HostComponentStatus.installing</block></block></if></if_stmt>)</block_content> <block>{<block_content>
        <return>return <expr><literal type="char">'health-status-color-blue icon-cog'</literal></expr>;</return>
      <expr_stmt/>}</block_content>

      <comment type="line">//For all other cases</comment>
       return 'health-status-' + App.HostComponentStatus.getKeyName(this.get('workStatus'</block></block></if></if_stmt>)</block></expr></block></expr></block></expr></block></expr></block></expr></block></expr></argument>)</argument_list></call></block></expr></argument>;
    }</argument_list></call><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>, <argument><expr><literal type="char">'isDataNodeRecommissionAvailable'</literal></expr></argument>)</argument_list></call></expr>,
    }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>, <argument><expr><literal type="char">'isDataNodeRecommissionAvailable'</literal></expr></argument>, <argument><expr><literal type="char">'this.content.isDecommissioning'</literal></expr></argument>)</argument_list></call></expr></argument>,
     <comment type="block" format="javadoc">/**
      * For Upgrade failed state
      */</comment>
    <argument><expr><name>isUpgradeFailed</name><operator>:</operator><call><name>function</name><argument_list>()</argument_list></call><block>{
    <expr><name>isUpgradeFailed</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
       <return>return <expr><call><name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>getKeyName</name></name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call> <operator>==</operator><operator>=</operator> <literal type="string">"upgrade_failed"</literal></expr>;</return>
     }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="string">"workStatus"</literal></expr></argument>)</argument_list></call></expr>,
     <comment type="block" format="javadoc">/**
      * For Install failed state
      */</comment>
    <expr><name>isInstallFailed</name><operator>:</operator><call><name>function</name><argument_list>()</argument_list></call><block>{
    <expr><name>isInstallFailed</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
       <return>return <expr><call><name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>getKeyName</name></name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call> <operator>==</operator><operator>=</operator> <literal type="string">"install_failed"</literal></expr>;</return>
     }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="string">"workStatus"</literal></expr></argument>)</argument_list></call></expr>,
    <comment type="block" format="javadoc">/**
     * Disable element while component is starting/stopping
     */</comment>
    <expr><name>disabledClass</name><operator>:</operator><call><name>function</name><argument_list>()</argument_list></call><block>{
      <expr><name>var</name> <name>workStatus</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call></expr>;
      <if_stmt><if>if<condition>(<expr><index>[<expr><name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>starting</name></name></expr><operator>,</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>stopping</name></name><operator>,</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>unknown</name></name>]</index><operator>.</operator><call><name>contains</name><argument_list>(<argument><expr><name>workStatus</name></expr></argument>)</argument_list></call></expr> )</condition><block>{<block_content>
        <return>return <expr><literal type="char">'disabled'</literal></expr>;</return>
      <expr_stmt/>}</block_content> else <block>{<block_content>
        <return>return <expr><literal type="char">''</literal></expr>;</return>
      <expr_stmt/>}</block_content>
    }.property('workStatus'</block></block></if></if_stmt>)<operator>,</operator>
     <comment type="block" format="javadoc">/**
      * Do blinking for 1 minute
      */</comment>
    <name>doBlinking</name> <operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call><block>{
    <expr><name>doBlinking</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
       <expr><name>var</name> <name>workStatus</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call></expr>;
       <expr><name>var</name> <name>self</name> <operator>=</operator> <name>this</name></expr>;
       <expr><name>var</name> <name>pulsate</name> <operator>=</operator> <index>[ <expr><name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>starting</name></name></expr><operator>,</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>stopping</name></name> ]</index><operator>.</operator><call><name>contains</name><argument_list>(<argument><expr><name>workStatus</name></expr></argument>)</argument_list></call></expr>;
       <if_stmt><if>if <condition>(<expr><operator>!</operator><name>pulsate</name> <operator>&amp;&amp;</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isDataNode'</literal></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
         <decl_stmt><decl><type><name>var</name></type> <name>dataNodeComponent</name> <init>= <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content'</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
        <if_stmt><if>if <condition>(<expr><name>dataNodeComponent</name></expr>)</condition><block type="pseudo"><block_content>
          <expr_stmt><expr><name>pulsate</name> <operator>=</operator> <call><name><name>dataNodeComponent</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isDecommissioning'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt></block_content></block></if></if_stmt>
        <if_stmt><if>if <condition>(<expr><name>dataNodeComponent</name> <operator>&amp;&amp;</operator> <name>workStatus</name> <operator>!=</operator> <literal type="string">"INSTALLED"</literal></expr>)</condition> <block>{<block_content>
          <expr_stmt><expr><name>pulsate</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isDataNodeRecommissionAvailable'</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
        <expr_stmt/>}</block_content>
       }
       if (pulsate &amp;&amp; !self.get('isBlinking'</block></if></if_stmt>)</block_content></block></if></if_stmt>) <block>{
         <expr><call><name><name>self</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'isBlinking'</literal></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call></expr>;
        <expr><call><name><name>uiEffects</name><operator>.</operator><name>pulsate</name></name><argument_list>(<argument><expr><call><name><name>self</name><operator>.</operator><name>$</name></name><argument_list>(<argument><expr><literal type="char">'.components-health'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="number">1000</literal></expr></argument>, <argument><expr><call><name>function</name><argument_list>()</argument_list></call><block>{
        <expr><call><name><name>uiEffects</name><operator>.</operator><name>pulsate</name></name><argument_list>(<argument><expr><call><name><name>self</name><operator>.</operator><name>$</name></name><argument_list>(<argument><expr><literal type="char">'.components-health'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="number">1000</literal></expr></argument>, <argument><expr><call><name>function</name> <argument_list>()</argument_list></call> <block>{
           <expr><operator>!</operator><call><name><name>self</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isDestroyed'</literal></expr></argument>)</argument_list></call> <operator>&amp;&amp;</operator> <call><name><name>self</name><operator>.</operator><name>set</name></name><argument_list>(<argument><expr><literal type="char">'isBlinking'</literal></expr></argument>, <argument><expr><literal type="boolean">false</literal></expr></argument>)</argument_list></call></expr>;
           <expr><call><name><name>self</name><operator>.</operator><name>doBlinking</name></name><argument_list>()</argument_list></call></expr>;
         }</block></expr></argument>)</argument_list></call></expr>;
@@ <expr><operator>-</operator><literal type="number">249</literal></expr>,<expr><literal type="number">26</literal> <operator>+</operator><literal type="number">271</literal></expr>,<expr><literal type="number">42</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostSummaryView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
     <comment type="block" format="javadoc">/**
      * Start blinking when host component is starting/stopping
      */</comment>
    <expr><name>startBlinking</name><operator>:</operator><call><name>function</name><argument_list>()</argument_list></call><block>{
    <expr><name>startBlinking</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
       <expr><call><name><name>this</name><operator>.</operator><name>$</name></name><argument_list>(<argument><expr><literal type="char">'.components-health'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>stop</name><argument_list>(<argument><expr><literal type="boolean">true</literal></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call></expr>;
       <expr><call><name><name>this</name><operator>.</operator><name>$</name></name><argument_list>(<argument><expr><literal type="char">'.components-health'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>css</name><argument_list>(<argument><expr><block>{<expr><name>opacity</name><operator>:</operator> <literal type="number">1.0</literal></expr>}</block></expr></argument>)</argument_list></call></expr>;
       <expr><call><name><name>this</name><operator>.</operator><name>doBlinking</name></name><argument_list>()</argument_list></call></expr>;
    }</block><operator>.</operator><call><name>observes</name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call></expr>,
    }</block><operator>.</operator><call><name>observes</name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>,<argument><expr><literal type="char">'isDataNodeRecommissionAvailable'</literal></expr></argument>)</argument_list></call></expr>,
 
    <expr><name>isStart</name> <operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
      <return>return <expr><operator>(</operator><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>==</operator><operator>=</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>started</name></name> <operator>||</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>==</operator><operator>=</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>starting</name></name><operator>)</operator></expr>;</return>
    <name>isStart</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <return>return <expr><operator>(</operator><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>==</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>started</name></name> <operator>||</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>==</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>starting</name></name><operator>)</operator></expr>;</return>
     }</block></block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call></expr>,
 
    <expr><name>isInProgress</name> <operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
      <return>return <expr><operator>(</operator><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>==</operator><operator>=</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>stopping</name></name> <operator>||</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>==</operator><operator>=</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>starting</name></name><operator>)</operator></expr>;</return>
    <comment type="block" format="javadoc">/**
     * No action available while component is starting/stopping/unknown
     */</comment>
    <name>noActionAvailable</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><name>var</name> <name>workStatus</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call></expr>;
      <if_stmt><if>if <condition>(<expr><index>[<expr><name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>starting</name></name></expr><operator>,</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>stopping</name></name><operator>,</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>unknown</name></name>]</index><operator>.</operator><call><name>contains</name><argument_list>(<argument><expr><name>workStatus</name></expr></argument>)</argument_list></call></expr>)</condition> <block>{<block_content>
        <return>return <expr><literal type="string">"hidden"</literal></expr>;</return>
      <expr_stmt/>}</block_content>else<block>{<block_content>
        <return>return <expr><literal type="string">""</literal></expr>;</return>
      <expr_stmt/>}</block_content>
     }.property('workStatus'</block></block></if></if_stmt>)<operator>,</operator>

    <name>isInProgress</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <return>return <expr><operator>(</operator><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>==</operator><operator>=</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>stopping</name></name> <operator>||</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>)</argument_list></call> <operator>==</operator><operator>=</operator> <name><name>App</name><operator>.</operator><name>HostComponentStatus</name><operator>.</operator><name>starting</name></name><operator>)</operator> <operator>||</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isDataNodeRecommissionAvailable'</literal></expr></argument>)</argument_list></call></expr>;</return>
    }</block></block></block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'workStatus'</literal></expr></argument>, <argument><expr><literal type="char">'isDataNodeRecommissionAvailable'</literal></expr></argument>)</argument_list></call></expr>,
     <comment type="block" format="javadoc">/**
      * Shows whether we need to show Decommision/Recomission buttons
      */</comment>
    <expr><name>isDataNode</name><operator>:</operator> <call><name>function</name><argument_list>()</argument_list></call> <block>{
    <expr><name>isDataNode</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
       <return>return <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'content.componentName'</literal></expr></argument>)</argument_list></call> <operator>==</operator><operator>=</operator> <literal type="char">'DATANODE'</literal></expr>;</return>
     }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'content'</literal></expr></argument>)</argument_list></call></expr>,
 
    <expr><name>isDecommissioning</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <return>return <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'isDataNode'</literal></expr></argument>)</argument_list></call> <operator>&amp;&amp;</operator>  <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"isDataNodeRecommissionAvailable"</literal></expr></argument>)</argument_list></call></expr>;</return>
    }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="string">"workStatus"</literal></expr></argument>, <argument><expr><literal type="string">"isDataNodeRecommissionAvailable"</literal></expr></argument>)</argument_list></call></expr>,

     <comment type="block" format="javadoc">/**
      * Set in template via binding from parent view
      */</comment>
@@ <expr><operator>-</operator><literal type="number">287</literal></expr>,<expr><literal type="number">7</literal> <operator>+</operator><literal type="number">325</literal></expr>,<expr><literal type="number">7</literal> @@ <name><name>App</name><operator>.</operator><name>MainHostSummaryView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
     <expr><name>isDataNodeRecommissionAvailable</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
       <expr><name>var</name> <name>decommissionHostNames</name> <operator>=</operator> <call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'decommissionDataNodeHostNames'</literal></expr></argument>)</argument_list></call></expr>;
       <expr><name>var</name> <name>hostName</name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>router</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'mainHostDetailsController.content.hostName'</literal></expr></argument>)</argument_list></call></expr>;
      <return>return <expr><name>decommissionHostNames</name><operator>!=</operator><literal type="null">null</literal> <operator>&amp;&amp;</operator> <call><name><name>decommissionHostNames</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>hostName</name></expr></argument>)</argument_list></call></expr>;</return></block></expr>
      <return>return <expr><name>decommissionHostNames</name> <operator>!=</operator> <literal type="null">null</literal> <operator>&amp;&amp;</operator> <call><name><name>decommissionHostNames</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>hostName</name></expr></argument>)</argument_list></call></expr>;</return>
     }</block><operator>.</operator><call><name>property</name><argument_list>(<argument><expr><literal type="char">'App.router.mainHostDetailsController.content'</literal></expr></argument>, <argument><expr><literal type="char">'decommissionDataNodeHostNames'</literal></expr></argument>)</argument_list></call>
 
   }</expr></argument>)</argument_list></call></expr>,
<expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>mirroring</name><operator>/</operator><name><name>datasets_view</name><operator>.</operator><name>js</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>mirroring</name><operator>/</operator><name><name>datasets_view</name><operator>.</operator><name>js</name></name>
<name>index</name> <name>db5d3e345d</name><operator>..</operator><literal type="number">884fd05bd4</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>mirroring</name><operator>/</operator><name><name>datasets_view</name><operator>.</operator><name>js</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>mirroring</name><operator>/</operator><name><name>datasets_view</name><operator>.</operator><name>js</name></name>
@@ <operator>-</operator><literal type="number">83</literal></expr>,<expr><literal type="number">45</literal> <operator>+</operator><literal type="number">83</literal></expr>,<expr><literal type="number">51</literal> @@ <name><name>App</name><operator>.</operator><name>MainDatasetsView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>TableView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
    <expr><operator>*</operator><operator>/</operator>
   <name>nameFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-small'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">1</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'string'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'string'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
   <expr><name>datasetSourceFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-small'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">2</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">2</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'string'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'string'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
   <expr><name>lastSuccessFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createSelectView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-medium'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">3</literal></expr>,
     <expr><name>content</name><operator>:</operator> <index>[<expr><literal type="char">'Any'</literal></expr><operator>,</operator> <literal type="char">'Past 1 Day'</literal><operator>,</operator> <literal type="char">'Past 2 Days'</literal><operator>,</operator> <literal type="char">'Past 7 Days'</literal><operator>,</operator> <literal type="char">'Past 14 Days'</literal><operator>,</operator> <literal type="char">'Past 30 Days'</literal>]</index></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">3</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'date'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'date'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
   <expr><name>lastFailFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createSelectView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-medium'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">4</literal></expr>,
     <expr><name>content</name><operator>:</operator> <index>[<expr><literal type="char">'Any'</literal></expr><operator>,</operator> <literal type="char">'Past 1 Day'</literal><operator>,</operator> <literal type="char">'Past 2 Days'</literal><operator>,</operator> <literal type="char">'Past 7 Days'</literal><operator>,</operator> <literal type="char">'Past 14 Days'</literal><operator>,</operator> <literal type="char">'Past 30 Days'</literal>]</index></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">4</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'date'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'date'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
   <expr><name>lastDurationFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-small'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">5</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">5</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'duration'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'duration'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
   <expr><name>avgDataFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-small'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">6</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">6</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'ambari-bandwidth'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'ambari-bandwidth'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
<expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>mirroring</name><operator>/</operator><name><name>jobs_view</name><operator>.</operator><name>js</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>mirroring</name><operator>/</operator><name><name>jobs_view</name><operator>.</operator><name>js</name></name>
<name>index</name> <name>cbf972323a</name><operator>..</operator><name>bd9579c8b2</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>mirroring</name><operator>/</operator><name><name>jobs_view</name><operator>.</operator><name>js</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>mirroring</name><operator>/</operator><name><name>jobs_view</name><operator>.</operator><name>js</name></name>
@@ <operator>-</operator><literal type="number">67</literal></expr>,<expr><literal type="number">38</literal> <operator>+</operator><literal type="number">67</literal></expr>,<expr><literal type="number">43</literal> @@ <name><name>App</name><operator>.</operator><name>MainJobsView</name></name> <operator>=</operator> <call><name><name>App</name><operator>.</operator><name>TableView</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
    <expr><operator>*</operator><operator>/</operator>
   <name>idFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-small'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">1</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'number'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'number'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
   <expr><name>startFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createSelectView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-small'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">2</literal></expr>,
     <expr><name>content</name><operator>:</operator> <index>[<expr><literal type="char">'Any'</literal></expr><operator>,</operator> <literal type="char">'Past 1 Day'</literal><operator>,</operator> <literal type="char">'Past 2 Days'</literal><operator>,</operator> <literal type="char">'Past 7 Days'</literal><operator>,</operator> <literal type="char">'Past 14 Days'</literal><operator>,</operator> <literal type="char">'Past 30 Days'</literal>]</index></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">2</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'date'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'date'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
   <expr><name>endFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createSelectView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-medium'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">3</literal></expr>,
     <expr><name>content</name><operator>:</operator> <index>[<expr><literal type="char">'Any'</literal></expr><operator>,</operator> <literal type="char">'Past 1 Day'</literal><operator>,</operator> <literal type="char">'Past 2 Days'</literal><operator>,</operator> <literal type="char">'Past 7 Days'</literal><operator>,</operator> <literal type="char">'Past 14 Days'</literal><operator>,</operator> <literal type="char">'Past 30 Days'</literal>]</index></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">3</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'date'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'date'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
   <expr><name>durationFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-medium'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">4</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">4</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'duration'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'duration'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
   <expr><name>dataFilterView</name><operator>:</operator> <call><name><name>filters</name><operator>.</operator><name>createTextView</name></name><argument_list>(<argument><expr><block>{
     <expr><name>fieldType</name><operator>:</operator> <literal type="char">'input-small'</literal></expr>,
    <expr><name>column</name><operator>:</operator> <literal type="number">5</literal></expr>,
     <expr><name>onChangeValue</name><operator>:</operator> <call><name>function</name> <argument_list>()</argument_list></call> <block>{
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><literal type="number">5</literal></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'ambari-bandwidth'</literal></expr></argument>)</argument_list></call></expr>;
      <expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'parentView'</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>updateFilter</name><argument_list>(<argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'column'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'value'</literal></expr></argument>)</argument_list></call></expr></argument>, <argument><expr><literal type="char">'ambari-bandwidth'</literal></expr></argument>)</argument_list></call></expr>;
     }</block></expr>
   }</block></expr></argument>)</argument_list></call></expr>,
 
<expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>service</name><operator>/</operator><name>info</name><operator>/</operator><name><name>summary</name><operator>.</operator><name>js</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>service</name><operator>/</operator><name>info</name><operator>/</operator><name><name>summary</name><operator>.</operator><name>js</name></name>
<name>index</name> <name>d6c6ad647e</name><operator>..</operator><literal type="number">615d2d0089</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>service</name><operator>/</operator><name>info</name><operator>/</operator><name><name>summary</name><operator>.</operator><name>js</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>views</name><operator>/</operator><name>main</name><operator>/</operator><name>service</name><operator>/</operator><name>info</name><operator>/</operator><name><name>summary</name><operator>.</operator><name>js</name></name>
@@ <operator>-</operator><literal type="number">174</literal></expr>,<expr><literal type="number">7</literal> <operator>+</operator><literal type="number">174</literal></expr>,<expr><literal type="number">7</literal> @@ <name><name>App</name><operator>.</operator><name>MainServiceInfoSummaryView</name></name> <operator>=</operator> <call><name><name>Em</name><operator>.</operator><name>View</name><operator>.</operator><name>extend</name></name><argument_list>(<argument><expr><block>{
   <expr><name>getServer</name><operator>:</operator> <call><name>function</name><argument_list>(<argument><expr><name>serviceName</name></expr></argument>)</argument_list></call> <block>{
     <expr><name>var</name> <name>service</name><operator>=</operator><call><name><name>this</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="char">'controller.content'</literal></expr></argument>)</argument_list></call></expr>;
     <if_stmt><if>if<condition>(<expr><call><name><name>service</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"id"</literal></expr></argument>)</argument_list></call> <operator>==</operator> <name>serviceName</name></expr>)</condition> <block>{<block_content>
      <return>return <expr><call><name><name>service</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"hostComponents"</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>findProperty</name><argument_list>(<argument><expr><literal type="char">'isMaster'</literal></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="string">"host"</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="string">"publicHostName"</literal></expr></argument>)</argument_list></call></expr>;</return>
      <return>return <expr><operator>(</operator><ternary><condition><expr><name><name>App</name><operator>.</operator><name>singleNodeInstall</name></name></expr> ?</condition><then> <expr><name><name>App</name><operator>.</operator><name>singleNodeAlias</name></name></expr> </then><else>: <expr><call><name><name>service</name><operator>.</operator><name>get</name></name><argument_list>(<argument><expr><literal type="string">"hostComponents"</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>findProperty</name><argument_list>(<argument><expr><literal type="char">'isMaster'</literal></expr></argument>, <argument><expr><literal type="boolean">true</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="string">"host"</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="string">"publicHostName"</literal></expr></argument>)</argument_list></call></expr></else></ternary><operator>)</operator></expr>;</return>
     <expr_stmt/>}</block_content>
     else <block>{<block_content>
       <return>return <expr><literal type="char">''</literal></expr>;</return>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name><name>pom</name><operator>.</operator><name>xml</name></name> <name>b</name><operator>/</operator><name><name>pom</name><operator>.</operator><name>xml</name></name>
<name>index</name> <name>a2f7224e23</name><operator>..</operator><literal type="number">720b590fc6</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name><name>pom</name><operator>.</operator><name>xml</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name><name>pom</name><operator>.</operator><name>xml</name></name>
@@ <operator>-</operator><literal type="number">51</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">51</literal></expr><operator>,</operator><expr><literal type="number">6</literal> @@
     <operator>&lt;</operator><name>module</name><operator>&gt;</operator><name>ambari</name><operator>-</operator><name><name>project</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>module</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><name>module</name><operator>&gt;</operator><name>ambari</name><operator>-</operator><name><name>server</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>module</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><name>module</name><operator>&gt;</operator><name>ambari</name><operator>-</operator><name><name>agent</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>module</name></argument>&gt;</argument_list></name>
    <operator>&lt;</operator><name>module</name><operator>&gt;</operator><name>ambari</name><operator>-</operator><name><name>client</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>module</name></argument>&gt;</argument_list></name>
   <operator>&lt;</operator><operator>/</operator><name>modules</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>build</name><operator>&gt;</operator>
     <operator>&lt;</operator><name>pluginManagement</name><operator>&gt;</operator>
<operator>-</operator> 
<literal type="number">2.19.1.windows</literal><literal type="number">.1</literal></expr></expr_stmt></block_content></block></block></if></if_stmt></block></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></block></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></block></block></expr></block></block></expr></block></expr></block></expr></argument></argument_list></call></expr></block></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></argument></argument_list></call></expr></block></expr></block></expr></argument></argument_list></call></expr></block></expr></argument></argument_list></call></expr></expr_stmt></block_content></block></function></block_content></block></for></block></expr></expr_stmt></for>

</unit>
