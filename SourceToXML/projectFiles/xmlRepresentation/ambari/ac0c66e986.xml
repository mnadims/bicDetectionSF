<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.srcML.org/srcML/src" revision="1.0.0" language="Java" filename="E:/01Courses@USASK/CMPT898-HumanDrivenSoftwareEngineeringForScientificResearch/ProjectProgress/data_files/final_dataset/gen_patch_codes/filtered/ambari/ac0c66e986.java"><expr_stmt><expr><name>From</name> <name>ac0c66e986e14db6a746dfe1b84f36a662dacfbb</name> <name>Mon</name> <name>Sep</name> <literal type="number">17</literal> <literal type="number">00</literal><operator>:</operator><literal type="number">00</literal><operator>:</operator><literal type="number">00</literal> <literal type="number">2001</literal>
<name>From</name><operator>:</operator> <name>Robert</name> <name><name>Levas</name> <argument_list type="generic">&lt;<argument><name>rlevas</name><annotation>@<name><name>hortonworks</name><operator>.</operator><name>com</name></name></annotation></argument>&gt;</argument_list></name>
<name>Date</name><operator>:</operator> <name>Thu</name></expr><operator>,</operator> <expr><literal type="number">22</literal> <name>Sep</name> <literal type="number">2016</literal> <literal type="number">12</literal><operator>:</operator><literal type="number">36</literal><operator>:</operator><literal type="number">52</literal> <operator>-</operator><literal type="number">0400</literal>
<name>Subject</name><operator>:</operator> <index>[<expr><name>PATCH</name></expr>]</index> <name>AMBARI</name><operator>-</operator><literal type="number">18433.</literal> <name>Enforce</name> <name>granular</name> <name>role</name><operator>-</operator><name>based</name> <name>access</name> <name>control</name></expr></expr_stmt> <for>for
 custom actions <control>(<init><expr><name>rlevas</name></expr></init>)</control><block type="pseudo"><block_content>

<expr_stmt><expr><operator>--</operator>
 <operator>...</operator><operator>/</operator><name>admin</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>scripts</name><operator>/</operator><name>services</name><operator>/</operator><name><name>Cluster</name><operator>.</operator><name>js</name></name> <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>internal</name><operator>/</operator><name><name>RequestResourceProvider</name><operator>.</operator><name>java</name></name>     <operator>|</operator>  <literal type="number">84</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>--</operator><operator>--</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>authorization</name><operator>/</operator><name><name>RoleAuthorization</name><operator>.</operator><name>java</name></name>      <operator>|</operator>   <literal type="number">2</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>server</name><operator>/</operator><name>upgrade</name><operator>/</operator><name><name>UpgradeCatalog250</name><operator>.</operator><name>java</name></name>     <operator>|</operator>  <literal type="number">16</literal> <operator>++</operator><operator>+</operator>
 <operator>...</operator><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Derby</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>     <operator>|</operator>  <literal type="number">11</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>MySQL</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>     <operator>|</operator>  <literal type="number">11</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Oracle</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>    <operator>|</operator>  <literal type="number">11</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Postgres</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>  <operator>|</operator>  <literal type="number">11</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>SQLAnywhere</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>         <operator>|</operator>  <literal type="number">11</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>SQLServer</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name> <operator>|</operator>  <literal type="number">11</literal> <operator>+</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name><name>system_action_definitions</name><operator>.</operator><name>xml</name></name>             <operator>|</operator>   <literal type="number">5</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>internal</name><operator>/</operator><name><name>RequestResourceProviderTest</name><operator>.</operator><name>java</name></name> <operator>|</operator> <literal type="number">134</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>+</operator><operator>--</operator><operator>-</operator>
 <operator>...</operator><operator>/</operator><name>security</name><operator>/</operator><name><name>TestAuthenticationFactory</name><operator>.</operator><name>java</name></name>   <operator>|</operator>   <literal type="number">1</literal> <operator>+</operator>
 <operator>...</operator><operator>/</operator><name>server</name><operator>/</operator><name>upgrade</name><operator>/</operator><name><name>UpgradeCatalog250Test</name><operator>.</operator><name>java</name></name> <operator>|</operator> <literal type="number">117</literal> <operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>++</operator><operator>+</operator><operator>--</operator>
 <literal type="number">14</literal> <name>files</name> <name>changed</name></expr><operator>,</operator> <expr><literal type="number">340</literal> <call><name>insertions</name><argument_list>(<argument><expr><operator>+</operator></expr></argument>)</argument_list></call></expr><operator>,</operator> <expr><literal type="number">87</literal> <call><name>deletions</name><argument_list>(<argument><expr><operator>-</operator></expr></argument>)</argument_list></call>

<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>admin</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>ui</name><operator>/</operator><name>admin</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>scripts</name><operator>/</operator><name>services</name><operator>/</operator><name><name>Cluster</name><operator>.</operator><name>js</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>admin</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>ui</name><operator>/</operator><name>admin</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>scripts</name><operator>/</operator><name>services</name><operator>/</operator><name><name>Cluster</name><operator>.</operator><name>js</name></name>
<name>index</name> <name>c17c36dab4</name><operator>..</operator><literal type="number">02c231a160</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>admin</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>ui</name><operator>/</operator><name>admin</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>scripts</name><operator>/</operator><name>services</name><operator>/</operator><name><name>Cluster</name><operator>.</operator><name>js</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>admin</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>ui</name><operator>/</operator><name>admin</name><operator>-</operator><name>web</name><operator>/</operator><name>app</name><operator>/</operator><name>scripts</name><operator>/</operator><name>services</name><operator>/</operator><name><name>Cluster</name><operator>.</operator><name>js</name></name>
@@ <operator>-</operator><literal type="number">67</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">67</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <call><name><name>angular</name><operator>.</operator><name>module</name></name><argument_list>(<argument><expr><literal type="char">'ambariAdminConsole'</literal></expr></argument>)</argument_list></call>
       <literal type="string">"CLUSTER.TOGGLE_ALERTS"</literal></expr><operator>,</operator>
       <expr><literal type="string">"CLUSTER.TOGGLE_KERBEROS"</literal></expr><operator>,</operator>
       <expr><literal type="string">"CLUSTER.UPGRADE_DOWNGRADE_STACK"</literal></expr><operator>,</operator>
      <expr><literal type="string">"CLUSTER.RUN_CUSTOM_COMMAND"</literal></expr><operator>,</operator>
       <expr><literal type="string">"AMBARI.ADD_DELETE_CLUSTERS"</literal></expr><operator>,</operator>
       <expr><literal type="string">"AMBARI.ASSIGN_ROLES"</literal></expr><operator>,</operator>
       <expr><literal type="string">"AMBARI.EDIT_STACK_REPOS"</literal></expr><operator>,</operator>
@@ <expr><operator>-</operator><literal type="number">76</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">77</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <call><name><name>angular</name><operator>.</operator><name>module</name></name><argument_list>(<argument><expr><literal type="char">'ambariAdminConsole'</literal></expr></argument>)</argument_list></call>
       <literal type="string">"AMBARI.MANAGE_USERS"</literal></expr><operator>,</operator>
       <expr><literal type="string">"AMBARI.MANAGE_VIEWS"</literal></expr><operator>,</operator>
       <expr><literal type="string">"AMBARI.RENAME_CLUSTER"</literal></expr><operator>,</operator>
      <expr><literal type="string">"AMBARI.RUN_CUSTOM_COMMAND"</literal></expr><operator>,</operator>
       <expr><literal type="string">"SERVICE.SET_SERVICE_USERS_GROUPS"</literal>
     ]</expr><operator>,</operator>
 
<expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RequestResourceProvider</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RequestResourceProvider</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>d38234f3de</name><operator>..</operator><literal type="number">8c1bc57cec</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RequestResourceProvider</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RequestResourceProvider</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">4</literal> <operator>+</operator><literal type="number">1</literal></expr><operator>,</operator><expr><literal type="number">4</literal> @@
<comment type="block" format="javadoc">/**
/*
  * Licensed to the Apache Software Foundation (ASF) under one
  * or more contributor license agreements.  See the NOTICE file
  * distributed with this work for additional information
@@ -186,53 +186,61 @@ public class RequestResourceProvider extends AbstractControllerResourceProvider
 
         String clusterName = actionRequest.getClusterName();
 
        if(clusterName == null) {
          String actionName = actionRequest.getActionName();
        ResourceType resourceType;
        Long resourceId;
 
          // Ensure that the actionName is not null or empty.  A null actionName will result in
          // a NPE at when getting the action definition.  The string "_unknown_action_" should not
          // result in a valid action definition and should be easy to understand in any error message
          // that gets displayed or logged due to an authorization issue.
          if(StringUtils.isEmpty(actionName)) {
            actionName = "_unknown_action_";
          }
        if (StringUtils.isEmpty(clusterName)) {
          resourceType = ResourceType.AMBARI;
          resourceId = null;
        } else {
          resourceType = ResourceType.CLUSTER;
          resourceId = getClusterResourceId(clusterName);
        }
 
          ActionDefinition actionDefinition = getManagementController().getAmbariMetaInfo().getActionDefinition(actionName);
          Set&lt;RoleAuthorization&gt; permissions = (actionDefinition == null) ? null : actionDefinition.getPermissions();
        if (actionRequest.isCommand()) {
          String commandName = actionRequest.getCommandName();
 
          if(permissions == null) {
            if (!AuthorizationHelper.isAuthorized(ResourceType.AMBARI, null, RoleAuthorization.SERVICE_RUN_CUSTOM_COMMAND)) {
              throw new AuthorizationException(String.format("The authenticated user is not authorized to execute the '%s'command.", actionName));
            }
          if (StringUtils.isEmpty(commandName)) {
            commandName = "_unknown_command_";
           }
          else {
            // Since we cannot tell whether the action is to be exectued for the system or a
            // non-disclosed cluster, specify that the resource is a CLUSTER with no resource id.
            // This should ensure that a user with a role for any cluster with the appropriate
            // permissions or an Ambari administrator can execute the command.
            if (!AuthorizationHelper.isAuthorized(ResourceType.CLUSTER, null, permissions)) {
              throw new AuthorizationException(String.format("The authenticated user is not authorized to execute the '%s'command.", actionName));

          if (commandName.endsWith("_SERVICE_CHECK")) {
            if (!AuthorizationHelper.isAuthorized(resourceType, resourceId, RoleAuthorization.SERVICE_RUN_SERVICE_CHECK)) {
              throw new AuthorizationException("The authenticated user is not authorized to execute service checks.");
            }
          } else if (commandName.equals("DECOMMISSION")) {
            if (!AuthorizationHelper.isAuthorized(resourceType, resourceId, RoleAuthorization.SERVICE_DECOMMISSION_RECOMMISSION)) {
              throw new AuthorizationException("The authenticated user is not authorized to decommission services.");
            }
          } else {
            if (!AuthorizationHelper.isAuthorized(resourceType, resourceId, RoleAuthorization.SERVICE_RUN_CUSTOM_COMMAND)) {
              throw new AuthorizationException(String.format("The authenticated user is not authorized to execute the command, %s.",
                  commandName));
             }
           }
        }
        else if(actionRequest.isCommand()) {
          if (!AuthorizationHelper.isAuthorized(ResourceType.CLUSTER,
              getClusterResourceId(clusterName), RoleAuthorization.SERVICE_RUN_CUSTOM_COMMAND)) {
            throw new AuthorizationException("The authenticated user is not authorized to execute custom service commands.");
          }
        }
        else {
        } else {
           String actionName = actionRequest.getActionName();
 
          // actionName is expected to not be null since the action request is not a command
          if(actionName.contains("SERVICE_CHECK")) {
            if(!AuthorizationHelper.isAuthorized(ResourceType.CLUSTER, getClusterResourceId(clusterName), RoleAuthorization.SERVICE_RUN_SERVICE_CHECK)) {
          if (StringUtils.isEmpty(actionName)) {
            actionName = "_unknown_action_";
          }

          if (actionName.contains("SERVICE_CHECK")) {
            if (!AuthorizationHelper.isAuthorized(resourceType, resourceId, RoleAuthorization.SERVICE_RUN_SERVICE_CHECK)) {
               throw new AuthorizationException("The authenticated user is not authorized to execute service checks.");
             }
          }
          else if(actionName.equals("DECOMMISSION")) {
            if(!AuthorizationHelper.isAuthorized(ResourceType.CLUSTER, getClusterResourceId(clusterName), RoleAuthorization.SERVICE_DECOMMISSION_RECOMMISSION)) {
              throw new AuthorizationException("The authenticated user is not authorized to decommission services.");
          } else {
            // A custom action has been requested
            ActionDefinition actionDefinition = (actionName == null)
                ? null
                : getManagementController().getAmbariMetaInfo().getActionDefinition(actionName);

            Set&lt;RoleAuthorization&gt; permissions = (actionDefinition == null)
                ? null
                : actionDefinition.getPermissions();

            if (!AuthorizationHelper.isAuthorized(resourceType, resourceId, permissions)) {
              throw new AuthorizationException(String.format("The authenticated user is not authorized to execute the action %s.", actionName));
             }
           }
         }
diff --git a/ambari-server/src/main/java/org/apache/ambari/server/security/authorization/RoleAuthorization.java b/ambari-server/src/main/java/org/apache/ambari/server/security/authorization/RoleAuthorization.java
index 0157d49f1e..4a0ea713fb 100644
-- a/ambari-server/src/main/java/org/apache/ambari/server/security/authorization/RoleAuthorization.java
++ b/ambari-server/src/main/java/org/apache/ambari/server/security/authorization/RoleAuthorization.java
@@ -38,6 +38,7 @@ public enum RoleAuthorization {
   AMBARI_MANAGE_USERS("AMBARI.MANAGE_USERS"),
   AMBARI_MANAGE_VIEWS("AMBARI.MANAGE_VIEWS"),
   AMBARI_RENAME_CLUSTER("AMBARI.RENAME_CLUSTER"),
  AMBARI_RUN_CUSTOM_COMMAND("AMBARI.RUN_CUSTOM_COMMAND"),
   CLUSTER_MANAGE_CREDENTIALS("CLUSTER.MANAGE_CREDENTIALS"),
   CLUSTER_MODIFY_CONFIGS("CLUSTER.MODIFY_CONFIGS"),
   CLUSTER_MANAGE_CONFIG_GROUPS("CLUSTER.MANAGE_CONFIG_GROUPS"),
@@ -51,6 +52,7 @@ public enum RoleAuthorization {
   CLUSTER_VIEW_METRICS("CLUSTER.VIEW_METRICS"),
   CLUSTER_VIEW_STACK_DETAILS("CLUSTER.VIEW_STACK_DETAILS"),
   CLUSTER_VIEW_STATUS_INFO("CLUSTER.VIEW_STATUS_INFO"),
  CLUSTER_RUN_CUSTOM_COMMAND("CLUSTER.RUN_CUSTOM_COMMAND"),
   HOST_ADD_DELETE_COMPONENTS("HOST.ADD_DELETE_COMPONENTS"),
   HOST_ADD_DELETE_HOSTS("HOST.ADD_DELETE_HOSTS"),
   HOST_TOGGLE_MAINTENANCE("HOST.TOGGLE_MAINTENANCE"),
diff --git a/ambari-server/src/main/java/org/apache/ambari/server/upgrade/UpgradeCatalog250.java b/ambari-server/src/main/java/org/apache/ambari/server/upgrade/UpgradeCatalog250.java
index 35c773acbf..185bd58cc5 100644
-- a/ambari-server/src/main/java/org/apache/ambari/server/upgrade/UpgradeCatalog250.java
++ b/ambari-server/src/main/java/org/apache/ambari/server/upgrade/UpgradeCatalog250.java
@@ -19,6 +19,8 @@ package org.apache.ambari.server.upgrade;
 
 import java.sql.SQLException;
 import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
 import java.util.HashMap;
 import java.util.List;
 import java.util.Map;
@@ -107,6 +109,7 @@ public class UpgradeCatalog250 extends AbstractUpgradeCatalog {
   @Override
   protected void executeDMLUpdates() throws AmbariException, SQLException {
     updateAMSConfigs();
    createRoleAuthorizations();
   }
 
   protected void updateHostVersionTable() throws SQLException {
@@ -166,6 +169,19 @@ public class UpgradeCatalog250 extends AbstractUpgradeCatalog {
     return content;
   }
 
  /**
   * Create new role authorizations: CLUSTER.RUN_CUSTOM_COMMAND and AMBARI.RUN_CUSTOM_COMMAND
   *
   * @throws SQLException
   */</comment>
  <specifier>protected</specifier> <name>void</name> <call><name>createRoleAuthorizations</name><argument_list>()</argument_list></call> <throws>throws <argument><expr><name>SQLException</name> <block>{
    <expr><call><name><name>LOG</name><operator>.</operator><name>info</name></name><argument_list>(<argument><expr><literal type="string">"Adding authorizations"</literal></expr></argument>)</argument_list></call></expr></block></expr></argument></throws></expr>;</expr_stmt></block_content></block></for>
 
    <expr_stmt><expr><call><name>addRoleAuthorization</name><argument_list>(<argument><expr><literal type="string">"CLUSTER.RUN_CUSTOM_COMMAND"</literal></expr></argument>, <argument><expr><literal type="string">"Perform custom cluster-level actions"</literal></expr></argument>,
        <argument><expr><call><name><name>Arrays</name><operator>.</operator><name>asList</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI.ADMINISTRATOR:AMBARI"</literal></expr></argument>, <argument><expr><literal type="string">"CLUSTER.ADMINISTRATOR:CLUSTER"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>

    <expr_stmt><expr><call><name>addRoleAuthorization</name><argument_list>(<argument><expr><literal type="string">"AMBARI.RUN_CUSTOM_COMMAND"</literal></expr></argument>, <argument><expr><literal type="string">"Perform custom administrative actions"</literal></expr></argument>,
        <argument><expr><call><name><name>Collections</name><operator>.</operator><name>singletonList</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI.ADMINISTRATOR:AMBARI"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  }
 }
 
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Derby</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Derby</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<name>index</name> <literal type="number">38f78c5520</literal><operator>..</operator><name>c2c965dea4</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Derby</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Derby</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
@@ <operator>-</operator><literal type="number">1255</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1255</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>roleauthorization</name><argument_list>(<argument><expr><name>authorization_id</name></expr></argument>, <argument><expr><name>authorization_name</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal></expr><operator>,</operator> <expr><literal type="char">'Enable/disable Kerberos'</literal> <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal></expr><operator>,</operator> <expr><literal type="char">'Upgrade/downgrade stack'</literal> <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage cluster-level user persisted data'</literal> <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal></expr><operator>,</operator> <expr><literal type="char">'Perform custom cluster-level actions'</literal> <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal></expr><operator>,</operator> <expr><literal type="char">'Create new clusters'</literal> <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.RENAME_CLUSTER'</literal></expr><operator>,</operator> <expr><literal type="char">'Rename clusters'</literal> <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_SETTINGS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage settings'</literal> <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name> <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1263</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1264</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>roleauthorization</name><argument_list>(<argument><expr><name>authorization_id</name></expr></argument>, <argument><expr><name>authorization_name</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_VIEWS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage Ambari Views'</literal> <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.ASSIGN_ROLES'</literal></expr><operator>,</operator> <expr><literal type="char">'Assign roles'</literal> <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage stack versions'</literal> <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr><operator>,</operator> <expr><literal type="char">'Edit stack repository URLs'</literal>  <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name></expr>;</expr_stmt>
  <expr_stmt><expr><name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr><operator>,</operator> <expr><literal type="char">'Edit stack repository URLs'</literal>  <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'AMBARI.RUN_CUSTOM_COMMAND'</literal></expr><operator>,</operator> <expr><literal type="char">'Perform custom administrative actions'</literal> <name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name></expr>;</expr_stmt>
 
 <expr_stmt><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></expr_stmt> <for>for View User role
 INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1403</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1405</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_ALERTS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr>;</expr_stmt></block_content></block></for>
  <decl_stmt><decl><type><name>SELECT</name></type> <name>permission_id</name></decl>, 'CLUSTER.MANAGE_USER_PERSISTED_DATA' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr></init></decl>, 'CLUSTER.RUN_CUSTOM_COMMAND' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr></init></decl>;</decl_stmt>
 
 <expr_stmt><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></expr_stmt> <for>for Administrator role
 INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1443</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1446</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_ALERTS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.RENAME_CLUSTER'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1452</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1456</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_VIEWS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.ASSIGN_ROLES'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr>;</expr_stmt></block_content></block></for>
  <decl_stmt><decl><type><name>SELECT</name></type> <name>permission_id</name></decl>, 'AMBARI.EDIT_STACK_REPOS' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'AMBARI.ADMINISTRATOR'</literal>  <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr></init></decl>, 'AMBARI.RUN_CUSTOM_COMMAND' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr></init></decl>;</decl_stmt>
 
 <decl_stmt><decl><type><name>INSERT</name> <name>INTO</name></type> <name>adminprivilege</name> <argument_list>(<argument><expr><name>privilege_id</name></expr></argument>, <argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>resource_id</name></expr></argument>, <argument><expr><name>principal_id</name></expr></argument>)</argument_list>
   <name>SELECT</name> 1</decl>, 1, 1, 1 <decl><type ref="prev"/><name>FROM</name> <name><name>SYSIBM</name><operator>.</operator><name>SYSDUMMY1</name></name></decl> ;</decl_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>MySQL</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>MySQL</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<name>index</name> <literal type="number">25948aa7ed</literal><operator>..</operator><literal type="number">1d555151d0</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>MySQL</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>MySQL</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
@@ <operator>-</operator><literal type="number">1184</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1184</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>roleauthorization</name><argument_list>(<argument><expr><name>authorization_id</name></expr></argument>, <argument><expr><name>authorization_name</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <literal type="char">'CLUSTER.TOGGLE_ALERTS'</literal></expr><operator>,</operator> <expr><literal type="char">'Enable/disable cluster-level alerts'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal></expr><operator>,</operator> <expr><literal type="char">'Enable/disable Kerberos'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal></expr><operator>,</operator> <expr><literal type="char">'Upgrade/downgrade stack'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal></expr><operator>,</operator> <expr><literal type="char">'Perform custom cluster-level actions'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal></expr><operator>,</operator> <expr><literal type="char">'Create new clusters'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.RENAME_CLUSTER'</literal></expr><operator>,</operator> <expr><literal type="char">'Rename clusters'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_SETTINGS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage administrative settings'</literal> <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1192</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1193</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>roleauthorization</name><argument_list>(<argument><expr><name>authorization_id</name></expr></argument>, <argument><expr><name>authorization_name</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_VIEWS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage Ambari Views'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.ASSIGN_ROLES'</literal></expr><operator>,</operator> <expr><literal type="char">'Assign roles'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage stack versions'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr><operator>,</operator> <expr><literal type="char">'Edit stack repository URLs'</literal></expr>;</expr_stmt>
  <expr_stmt><expr><name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr><operator>,</operator> <expr><literal type="char">'Edit stack repository URLs'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'AMBARI.RUN_CUSTOM_COMMAND'</literal></expr><operator>,</operator> <expr><literal type="char">'Perform custom administrative actions'</literal></expr>;</expr_stmt>
 
 <expr_stmt><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></expr_stmt> <for>for View User role
 INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1334</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1336</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_ALERTS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr>;</expr_stmt></block_content></block></for>
  <decl_stmt><decl><type><name>SELECT</name></type> <name>permission_id</name></decl>, 'CLUSTER.MANAGE_USER_PERSISTED_DATA' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr></init></decl>, 'CLUSTER.RUN_CUSTOM_COMMAND' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr></init></decl>;</decl_stmt>
 
 <expr_stmt><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></expr_stmt> <for>for Administrator role
 INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1377</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1380</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.RENAME_CLUSTER'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_SETTINGS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1385</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1389</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_VIEWS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.ASSIGN_ROLES'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr>;</expr_stmt></block_content></block></for>
  <decl_stmt><decl><type><name>SELECT</name></type> <name>permission_id</name></decl>, 'AMBARI.EDIT_STACK_REPOS' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr></init></decl>, 'AMBARI.RUN_CUSTOM_COMMAND' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr></init></decl>;</decl_stmt>
 
 <decl_stmt><decl><type><name>INSERT</name> <name>INTO</name></type> <name>adminprivilege</name> <argument_list>(<argument><expr><name>privilege_id</name></expr></argument>, <argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>resource_id</name></expr></argument>, <argument><expr><name>principal_id</name></expr></argument>)</argument_list> <name>VALUES</name>
   <argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></decl>;</decl_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Oracle</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Oracle</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<name>index</name> <literal type="number">07cd6a8418</literal><operator>..</operator><literal type="number">49f3e2f601</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Oracle</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Oracle</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
@@ <operator>-</operator><literal type="number">1203</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1203</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>roleauthorization</name><argument_list>(<argument><expr><name>authorization_id</name></expr></argument>, <argument><expr><name>authorization_name</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <literal type="char">'CLUSTER.TOGGLE_ALERTS'</literal></expr><operator>,</operator> <expr><literal type="char">'Enable/disable cluster-level alerts'</literal> <name>FROM</name> <name>dual</name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal></expr><operator>,</operator> <expr><literal type="char">'Enable/disable Kerberos'</literal> <name>FROM</name> <name>dual</name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal></expr><operator>,</operator> <expr><literal type="char">'Upgrade/downgrade stack'</literal> <name>FROM</name> <name>dual</name> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal></expr><operator>,</operator> <expr><literal type="char">'Perform custom cluster-level actions'</literal> <name>FROM</name> <name>dual</name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal></expr><operator>,</operator> <expr><literal type="char">'Create new clusters'</literal> <name>FROM</name> <name>dual</name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.RENAME_CLUSTER'</literal></expr><operator>,</operator> <expr><literal type="char">'Rename clusters'</literal> <name>FROM</name> <name>dual</name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_SETTINGS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage settings'</literal> <name>FROM</name> <name>dual</name> <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1211</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1212</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>roleauthorization</name><argument_list>(<argument><expr><name>authorization_id</name></expr></argument>, <argument><expr><name>authorization_name</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_VIEWS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage Ambari Views'</literal> <name>FROM</name> <name>dual</name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.ASSIGN_ROLES'</literal></expr><operator>,</operator> <expr><literal type="char">'Assign roles'</literal> <name>FROM</name> <name>dual</name> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage stack versions'</literal> <name>FROM</name> <name>dual</name> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr><operator>,</operator> <expr><literal type="char">'Edit stack repository URLs'</literal> <name>FROM</name> <name>dual</name></expr>;</expr_stmt>
  <expr_stmt><expr><name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr><operator>,</operator> <expr><literal type="char">'Edit stack repository URLs'</literal> <name>FROM</name> <name>dual</name> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'AMBARI.RUN_CUSTOM_COMMAND'</literal></expr><operator>,</operator> <expr><literal type="char">'Perform custom administrative actions'</literal> <name>FROM</name> <name>dual</name></expr>;</expr_stmt>
 
 <expr_stmt><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></expr_stmt> <for>for View User role
 INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1353</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1355</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_ALERTS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr>;</expr_stmt></block_content></block></for>
  <decl_stmt><decl><type><name>SELECT</name></type> <name>permission_id</name></decl>, 'CLUSTER.MANAGE_USER_PERSISTED_DATA' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name></expr></init></decl>;</decl_stmt>
  <decl_stmt><decl><type><name>SELECT</name></type> <name>permission_id</name></decl>, 'CLUSTER.RUN_CUSTOM_COMMAND' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr></init></decl>;</decl_stmt>
 
 <expr_stmt><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></expr_stmt> <for>for Administrator role
 INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1396</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1399</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.RENAME_CLUSTER'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_SETTINGS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1404</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1408</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_VIEWS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.ASSIGN_ROLES'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr>;</expr_stmt></block_content></block></for>
  <decl_stmt><decl><type><name>SELECT</name></type> <name>permission_id</name></decl>, 'AMBARI.EDIT_STACK_REPOS' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr></init></decl>, 'AMBARI.RUN_CUSTOM_COMMAND' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr></init></decl>;</decl_stmt>
 
 <decl_stmt><decl><type><name>insert</name> <name>into</name></type> <name>adminprivilege</name> <argument_list>(<argument><expr><name>privilege_id</name></expr></argument>, <argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>resource_id</name></expr></argument>, <argument><expr><name>principal_id</name></expr></argument>)</argument_list>
   <name>select</name> 1</decl>, 1, 1, 1 <decl><type ref="prev"/><name>from</name> <name>dual</name></decl>;</decl_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Postgres</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Postgres</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<name>index</name> <name>f03767b41e</name><operator>..</operator><literal type="number">7aa52ef3c3</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Postgres</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>Postgres</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
@@ <operator>-</operator><literal type="number">1175</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1175</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>roleauthorization</name><argument_list>(<argument><expr><name>authorization_id</name></expr></argument>, <argument><expr><name>authorization_name</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <literal type="char">'CLUSTER.TOGGLE_ALERTS'</literal></expr><operator>,</operator> <expr><literal type="char">'Enable/disable cluster-level alerts'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal></expr><operator>,</operator> <expr><literal type="char">'Enable/disable Kerberos'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal></expr><operator>,</operator> <expr><literal type="char">'Upgrade/downgrade stack'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal></expr><operator>,</operator> <expr><literal type="char">'Perform custom cluster-level actions'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal></expr><operator>,</operator> <expr><literal type="char">'Create new clusters'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.RENAME_CLUSTER'</literal></expr><operator>,</operator> <expr><literal type="char">'Rename clusters'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_SETTINGS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage administrative settings'</literal> <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1183</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1184</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>roleauthorization</name><argument_list>(<argument><expr><name>authorization_id</name></expr></argument>, <argument><expr><name>authorization_name</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_VIEWS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage Ambari Views'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.ASSIGN_ROLES'</literal></expr><operator>,</operator> <expr><literal type="char">'Assign roles'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal></expr><operator>,</operator> <expr><literal type="char">'Manage stack versions'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr><operator>,</operator> <expr><literal type="char">'Edit stack repository URLs'</literal></expr>;</expr_stmt>
  <expr_stmt><expr><name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr><operator>,</operator> <expr><literal type="char">'Edit stack repository URLs'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <literal type="char">'AMBARI.RUN_CUSTOM_COMMAND'</literal></expr><operator>,</operator> <expr><literal type="char">'Perform custom administrative actions'</literal></expr>;</expr_stmt>
 
 <expr_stmt><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></expr_stmt> <for>for View User role
 INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1325</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1327</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_ALERTS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr>;</expr_stmt></block_content></block></for>
  <decl_stmt><decl><type><name>SELECT</name></type> <name>permission_id</name></decl>, 'CLUSTER.MANAGE_USER_PERSISTED_DATA' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr></init></decl>, 'CLUSTER.RUN_CUSTOM_COMMAND' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr></init></decl>;</decl_stmt>
 
 <expr_stmt><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></expr_stmt> <for>for Administrator role
 INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1368</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1371</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.RENAME_CLUSTER'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_SETTINGS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1376</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1380</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>INSERT</name> <name>INTO</name> <call><name>permission_roleauthorization</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>authorization_id</name></expr></argument>)</argument_list></call>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_VIEWS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.ASSIGN_ROLES'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
   <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr>;</expr_stmt></block_content></block></for>
  <decl_stmt><decl><type><name>SELECT</name></type> <name>permission_id</name></decl>, 'AMBARI.EDIT_STACK_REPOS' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
  <name>SELECT</name> <name>permission_id</name></expr></init></decl>, 'AMBARI.RUN_CUSTOM_COMMAND' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr></init></decl>;</decl_stmt>
 
 <decl_stmt><decl><type><name>INSERT</name> <name>INTO</name></type> <name>adminprivilege</name> <argument_list>(<argument><expr><name>privilege_id</name></expr></argument>, <argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>resource_id</name></expr></argument>, <argument><expr><name>principal_id</name></expr></argument>)</argument_list> <name>VALUES</name>
   <argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></decl>;</decl_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>SQLAnywhere</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>SQLAnywhere</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<name>index</name> <literal type="number">535d847955</literal><operator>..</operator><literal type="number">0c95471161</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>SQLAnywhere</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>SQLAnywhere</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
@@ <operator>-</operator><literal type="number">1200</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1200</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>insert</name> <name>into</name> <call><name>adminpermission</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>permission_name</name></expr></argument>, <argument><expr><name>resource_type_id</name></expr></argument>, <argument><expr><name>pe</name>
     <name>SELECT</name> <literal type="char">'CLUSTER.MANAGE_CONFIG_GROUPS'</literal></expr></argument>, <argument><expr><literal type="char">'Manage cluster config groups'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal></expr></argument>, <argument><expr><literal type="char">'Enable/disable Kerberos'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal></expr></argument>, <argument><expr><literal type="char">'Upgrade/downgrade stack'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal></expr></argument>, <argument><expr><literal type="char">'Perform custom cluster-level actions'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal></expr></argument>, <argument><expr><literal type="char">'Create new clusters'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'AMBARI.RENAME_CLUSTER'</literal></expr></argument>, <argument><expr><literal type="char">'Rename clusters'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_SETTINGS'</literal></expr></argument>, <argument><expr><literal type="char">'Manage settings'</literal> <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1208</literal></expr></argument>,<argument><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1209</literal></expr></argument>,<argument><expr><literal type="number">8</literal> @@ <name>insert</name> <name>into</name> <call><name>adminpermission</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>permission_name</name></expr></argument>, <argument><expr><name>resource_type_id</name></expr></argument>, <argument><expr><name>pe</name>
     <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_VIEWS'</literal></expr></argument>, <argument><expr><literal type="char">'Manage Ambari Views'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'AMBARI.ASSIGN_ROLES'</literal></expr></argument>, <argument><expr><literal type="char">'Assign roles'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal></expr></argument>, <argument><expr><literal type="char">'Manage stack versions'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr></argument>, <argument><expr><literal type="char">'Edit stack repository URLs'</literal></expr></argument>;
    <argument><expr><name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr></argument>, <argument><expr><literal type="char">'Edit stack repository URLs'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <literal type="char">'AMBARI.RUN_CUSTOM_COMMAND'</literal></expr></argument>, <argument><expr><literal type="char">'Perform custom administrative actions'</literal></expr></argument>;
 
   <argument><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></argument> <for>for View User role
   INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1350</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1352</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>insert</name> <name>into</name> <call><name>adminpermission</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>permission_name</name></expr></argument>, <argument><expr><name>resource_type_id</name></expr></argument>, <argument><expr><name>pe</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'CLUSTER.TOGGLE_ALERTS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr></argument>;
    <argument><expr><name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr></argument>;
 
   <argument><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></argument> <for>for Administrator role
   INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1393</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1396</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>insert</name> <name>into</name> <call><name>adminpermission</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>permission_name</name></expr></argument>, <argument><expr><name>resource_type_id</name></expr></argument>, <argument><expr><name>pe</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'CLUSTER.RUN_SERVICE_CHECK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'AMBARI.RENAME_CLUSTER'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'AMBARI.MANAGE_SETTINGS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1401</literal></expr></argument>,<argument><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1405</literal></expr></argument>,<argument><expr><literal type="number">8</literal> @@ <name>insert</name> <name>into</name> <call><name>adminpermission</name><argument_list>(<argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>permission_name</name></expr></argument>, <argument><expr><name>resource_type_id</name></expr></argument>, <argument><expr><name>pe</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'AMBARI.MANAGE_VIEWS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'AMBARI.ASSIGN_ROLES'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr></argument>;
    <argument><expr><name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <name>permission_id</name></expr></argument>, <argument><expr><literal type="char">'AMBARI.RUN_SERVICE_CHECK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr></argument>;
 
 <argument><expr><name>insert</name> <name>into</name> <call><name>adminprivilege</name> <argument_list>(<argument><expr><name>privilege_id</name></expr></argument>, <argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>resource_id</name></expr></argument>, <argument><expr><name>principal_id</name></expr></argument>)</argument_list></call>
   <name>select</name> <literal type="number">1</literal></expr></argument>, <argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><literal type="number">1</literal></expr></argument>;
<argument><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>SQLServer</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>SQLServer</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<name>index</name> <literal type="number">1bfde7a502</literal><operator>..</operator><literal type="number">631b5c43e4</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>SQLServer</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>Ambari</name><operator>-</operator><name>DDL</name><operator>-</operator><name>SQLServer</name><operator>-</operator><name><name>CREATE</name><operator>.</operator><name>sql</name></name>
@@ <operator>-</operator><literal type="number">1203</literal></expr></argument>,<argument><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1203</literal></expr></argument>,<argument><expr><literal type="number">7</literal> @@ <name>BEGIN</name> <name>TRANSACTION</name>
     <name>SELECT</name> <literal type="char">'CLUSTER.MANAGE_CONFIG_GROUPS'</literal></expr></argument>, <argument><expr><literal type="char">'Manage cluster config groups'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal></expr></argument>, <argument><expr><literal type="char">'Enable/disable Kerberos'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal></expr></argument>, <argument><expr><literal type="char">'Upgrade/downgrade stack'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal></expr></argument>, <argument><expr><literal type="char">'Perform custom cluster-level actions'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal></expr></argument>, <argument><expr><literal type="char">'Create new clusters'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'AMBARI.RENAME_CLUSTER'</literal></expr></argument>, <argument><expr><literal type="char">'Rename clusters'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_SETTINGS'</literal></expr></argument>, <argument><expr><literal type="char">'Manage settings'</literal> <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1211</literal></expr></argument>,<argument><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1212</literal></expr></argument>,<argument><expr><literal type="number">8</literal> @@ <name>BEGIN</name> <name>TRANSACTION</name>
     <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_VIEWS'</literal></expr></argument>, <argument><expr><literal type="char">'Manage Ambari Views'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'AMBARI.ASSIGN_ROLES'</literal></expr></argument>, <argument><expr><literal type="char">'Assign roles'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal></expr></argument>, <argument><expr><literal type="char">'Manage stack versions'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr></argument>, <argument><expr><literal type="char">'Edit stack repository URLs'</literal></expr></argument>;
    <argument><expr><name>SELECT</name> <literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal></expr></argument>, <argument><expr><literal type="char">'Edit stack repository URLs'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <literal type="char">'AMBARI.RUN_CUSTOM_COMMAND'</literal></expr></argument>, <argument><expr><literal type="char">'Perform custom administrative actions'</literal></expr></argument>;
 
   <argument><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></argument> <for>for View User role
   INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1353</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1355</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>BEGIN</name> <name>TRANSACTION</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.MANAGE_CONFIG_GROUPS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr>;</expr_stmt></block_content></block></for></argument_list></call></expr></argument></argument_list></call></expr></expr_stmt></block_content></block></for></argument_list></call></expr></expr_stmt></block_content></block></for></argument_list></call></expr></argument></argument_list></call></expr></expr_stmt>
    <decl_stmt><decl><type><name>SELECT</name></type> <name>permission_id</name></decl>, 'CLUSTER.MANAGE_USER_PERSISTED_DATA' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'CLUSTER.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <name>permission_id</name></expr></init></decl>, 'CLUSTER.RUN_CUSTOM_COMMAND' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'CLUSTER.ADMINISTRATOR'</literal></expr></init></decl>;</decl_stmt>
 
   <expr_stmt><expr><operator>--</operator> <name>Set</name> <name>authorizations</name></expr></expr_stmt> <for>for Administrator role
   INSERT INTO permission_roleauthorization<control>(<init><expr><name>permission_id</name></expr><operator>,</operator> <expr><name>authorization_id</name></expr></init>)</control><block type="pseudo"><block_content>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1396</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">1399</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <name>BEGIN</name> <name>TRANSACTION</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.TOGGLE_KERBEROS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.UPGRADE_DOWNGRADE_STACK'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.MANAGE_USER_PERSISTED_DATA'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'CLUSTER.RUN_CUSTOM_COMMAND'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.ADD_DELETE_CLUSTERS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.RENAME_CLUSTER'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_SETTINGS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
@@ <operator>-</operator><literal type="number">1404</literal></expr><operator>,</operator><expr><literal type="number">7</literal> <operator>+</operator><literal type="number">1408</literal></expr><operator>,</operator><expr><literal type="number">8</literal> @@ <name>BEGIN</name> <name>TRANSACTION</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_VIEWS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.ASSIGN_ROLES'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
     <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.MANAGE_STACK_VERSIONS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <name>permission_id</name></expr><operator>,</operator> <expr><literal type="char">'AMBARI.EDIT_STACK_REPOS'</literal> <name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><operator>=</operator><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr>;</expr_stmt></block_content></block></for>
    <decl_stmt><decl><type><name>SELECT</name></type> <name>permission_id</name></decl>, 'AMBARI.EDIT_STACK_REPOS' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'AMBARI.ADMINISTRATOR'</literal> <name>UNION</name> <name>ALL</name>
    <name>SELECT</name> <name>permission_id</name></expr></init></decl>, 'AMBARI.RUN_CUSTOM_COMMAND' <decl><type ref="prev"/><name>FROM</name> <name>adminpermission</name> <name>WHERE</name> <name>permission_name</name><init>=<expr><literal type="char">'AMBARI.ADMINISTRATOR'</literal></expr></init></decl>;</decl_stmt>
 
   <decl_stmt><decl><type><name>insert</name> <name>into</name></type> <name>adminprivilege</name> <argument_list>(<argument><expr><name>privilege_id</name></expr></argument>, <argument><expr><name>permission_id</name></expr></argument>, <argument><expr><name>resource_id</name></expr></argument>, <argument><expr><name>principal_id</name></expr></argument>)</argument_list>
     <name>select</name> 1</decl>, 1, 1, 1;</decl_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>custom_action_definitions</name><operator>/</operator><name><name>system_action_definitions</name><operator>.</operator><name>xml</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>custom_action_definitions</name><operator>/</operator><name><name>system_action_definitions</name><operator>.</operator><name>xml</name></name>
<name>index</name> <name>bc1c2710ff</name><operator>..</operator><name>fc17584688</name> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>custom_action_definitions</name><operator>/</operator><name><name>system_action_definitions</name><operator>.</operator><name>xml</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>main</name><operator>/</operator><name>resources</name><operator>/</operator><name>custom_action_definitions</name><operator>/</operator><name><name>system_action_definitions</name><operator>.</operator><name>xml</name></name>
@@ <operator>-</operator><literal type="number">39</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">39</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
     <operator>&lt;</operator><name>defaultTimeout</name><operator>&gt;</operator><literal type="number">60</literal><operator>&lt;</operator><operator>/</operator><name>defaultTimeout</name><operator>&gt;</operator>
     <operator>&lt;</operator><name>description</name><operator>&gt;</operator><name>Update</name> <name>repo</name> <name>files</name> <name>on</name> <name><name>hosts</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>description</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><name>targetType</name><operator>&gt;</operator><name><name>ALL</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>targetType</name></argument>&gt;</argument_list></name>
    <operator>&lt;</operator><name>permissions</name><operator>&gt;</operator><name><name>HOST</name><operator>.</operator><name>ADD_DELETE_COMPONENTS</name></name></expr><operator>,</operator> <expr><name><name>HOST</name><operator>.</operator><name>ADD_DELETE_HOSTS</name></name></expr><operator>,</operator> <expr><name><name>SERVICE</name><operator>.</operator><name><name>ADD_DELETE_SERVICES</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>permissions</name></argument>&gt;</argument_list></name></name>
   <operator>&lt;</operator><operator>/</operator><name>actionDefinition</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>actionDefinition</name><operator>&gt;</operator>
     <operator>&lt;</operator><name>actionName</name><operator>&gt;</operator><name><name>clear_repocache</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>actionName</name></argument>&gt;</argument_list></name>
@@ <operator>-</operator><literal type="number">49</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">50</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
     <operator>&lt;</operator><name>defaultTimeout</name><operator>&gt;</operator><literal type="number">60</literal><operator>&lt;</operator><operator>/</operator><name>defaultTimeout</name><operator>&gt;</operator>
     <operator>&lt;</operator><name>description</name><operator>&gt;</operator><name>Clear</name> <name>repository</name> <name>cache</name> <name>on</name> <name><name>hosts</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>description</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><name>targetType</name><operator>&gt;</operator><name><name>ALL</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>targetType</name></argument>&gt;</argument_list></name>
    <operator>&lt;</operator><name>permissions</name><operator>&gt;</operator><name><name>HOST</name><operator>.</operator><name>ADD_DELETE_COMPONENTS</name></name></expr><operator>,</operator> <expr><name><name>HOST</name><operator>.</operator><name>ADD_DELETE_HOSTS</name></name></expr><operator>,</operator> <expr><name><name>SERVICE</name><operator>.</operator><name><name>ADD_DELETE_SERVICES</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>permissions</name></argument>&gt;</argument_list></name></name>
   <operator>&lt;</operator><operator>/</operator><name>actionDefinition</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>actionDefinition</name><operator>&gt;</operator>
     <operator>&lt;</operator><name>actionName</name><operator>&gt;</operator><name><name>validate_configs</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>actionName</name></argument>&gt;</argument_list></name>
@@ <operator>-</operator><literal type="number">59</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">61</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
     <operator>&lt;</operator><name>defaultTimeout</name><operator>&gt;</operator><literal type="number">60</literal><operator>&lt;</operator><operator>/</operator><name>defaultTimeout</name><operator>&gt;</operator>
     <operator>&lt;</operator><name>description</name><operator>&gt;</operator><name>Validate</name></expr></expr_stmt> <if_stmt><if>if provided service config can be applied to specified hosts&lt;/description&gt;
     &lt;targetType&gt;ALL&lt;/targetType&gt;
    &lt;permissions&gt;CLUSTER.MODIFY_CONFIGS<operator>,</operator> <expr_stmt><expr><name><name>SERVICE</name><operator>.</operator><name><name>MODIFY_CONFIGS</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>permissions</name></argument>&gt;</argument_list></name></name>
   <operator>&lt;</operator><operator>/</operator><name>actionDefinition</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>actionDefinition</name><operator>&gt;</operator>
     <operator>&lt;</operator><name>actionName</name><operator>&gt;</operator><name><name>install_packages</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>actionName</name></argument>&gt;</argument_list></name>
@@ <operator>-</operator><literal type="number">69</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">72</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@
     <operator>&lt;</operator><name>defaultTimeout</name><operator>&gt;</operator><literal type="number">60</literal><operator>&lt;</operator><operator>/</operator><name>defaultTimeout</name><operator>&gt;</operator>
     <operator>&lt;</operator><name>description</name><operator>&gt;</operator><name>Distribute</name> <name>repositories</name> <name>and</name> <name>install</name> <name><name>packages</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>description</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><name>targetType</name><operator>&gt;</operator><name><name>ALL</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>targetType</name></argument>&gt;</argument_list></name>
    <operator>&lt;</operator><name>permissions</name><operator>&gt;</operator><name><name>HOST</name><operator>.</operator><name>ADD_DELETE_COMPONENTS</name></name></expr><operator>,</operator> <expr><name><name>HOST</name><operator>.</operator><name>ADD_DELETE_HOSTS</name></name></expr><operator>,</operator> <expr><name><name>SERVICE</name><operator>.</operator><name><name>ADD_DELETE_SERVICES</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>permissions</name></argument>&gt;</argument_list></name></name>
   <operator>&lt;</operator><operator>/</operator><name>actionDefinition</name><operator>&gt;</operator>
   <operator>&lt;</operator><name>actionDefinition</name><operator>&gt;</operator>
     <operator>&lt;</operator><name>actionName</name><operator>&gt;</operator><name><name>ru_execute_tasks</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>actionName</name></argument>&gt;</argument_list></name>
@@ <operator>-</operator><literal type="number">78</literal></expr><operator>,</operator><expr><literal type="number">5</literal> <operator>+</operator><literal type="number">82</literal></expr><operator>,</operator><expr><literal type="number">6</literal> @@
     <operator>&lt;</operator><name>targetComponent</name><operator>/</operator><operator>&gt;</operator>
     <operator>&lt;</operator><name>description</name><operator>&gt;</operator><name>Perform</name> <name>upgrade</name> <name><name>action</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>description</name></argument>&gt;</argument_list></name>
     <operator>&lt;</operator><name>targetType</name><operator>&gt;</operator><name><name>ANY</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>targetType</name></argument>&gt;</argument_list></name>
    <operator>&lt;</operator><name>permissions</name><operator>&gt;</operator><name><name>CLUSTER</name><operator>.</operator><name><name>UPGRADE_DOWNGRADE_STACK</name><argument_list type="generic">&lt;<argument><operator>/</operator><name>permissions</name></argument>&gt;</argument_list></name></name>
   <operator>&lt;</operator><operator>/</operator><name>actionDefinition</name><operator>&gt;</operator>
 <operator>&lt;</operator><operator>/</operator><name>actionDefinitions</name><operator>&gt;</operator>
<name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RequestResourceProviderTest</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RequestResourceProviderTest</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>d06aa1e4c6</name><operator>..</operator><literal type="number">5dfc74d9cf</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RequestResourceProviderTest</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>controller</name><operator>/</operator><name>internal</name><operator>/</operator><name><name>RequestResourceProviderTest</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">1313</literal></expr><operator>,</operator><expr><literal type="number">49</literal> <operator>+</operator><literal type="number">1313</literal></expr><operator>,</operator><expr><literal type="number">122</literal> @@ <specifier>public</specifier> <name>class</name> <name>RequestResourceProviderTest</name> <block>{
 
   @<expr><name>Test</name>
   <specifier>public</specifier> <name>void</name> <call><name>testCreateResourcesCheckHostForNonClusterAsAdministrator</name><argument_list>()</argument_list></call> <throws>throws <argument><expr><name>Exception</name> <block>{
    <expr><call><name>testCreateResourcesForNonCluster</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
    <argument><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
         <argument><expr><call><name><name>EnumSet</name><operator>.</operator><name>of</name></name><argument_list>(<argument><expr><name><name>RoleAuthorization</name><operator>.</operator><name>HOST_ADD_DELETE_HOSTS</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></argument></argument_list></call></expr></block></expr></argument></throws></expr>;
   }</block></expr></expr_stmt></if></if_stmt>
 
  <function><annotation>@<name>Test</name></annotation>
  <annotation>@<name>Test</name><argument_list>(<argument><expr><name>expected</name> <operator>=</operator> <name><name>AuthorizationException</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></annotation>
   <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCheckHostForNonClusterAsClusterAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResourcesForNonCluster</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
    <argument><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
         <argument><expr><call><name><name>EnumSet</name><operator>.</operator><name>of</name></name><argument_list>(<argument><expr><name><name>RoleAuthorization</name><operator>.</operator><name>HOST_ADD_DELETE_HOSTS</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></argument>;</argument_list></call></expr></expr_stmt>
   </block_content>}</block></function>
 
  <function><annotation>@<name>Test</name></annotation>
  <annotation>@<name>Test</name><argument_list>(<argument><expr><name>expected</name> <operator>=</operator> <name><name>AuthorizationException</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></annotation>
   <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCheckHostForNonClusterAsClusterOperator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResourcesForNonCluster</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterOperator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
    <argument><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterOperator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
         <argument><expr><call><name><name>EnumSet</name><operator>.</operator><name>of</name></name><argument_list>(<argument><expr><name><name>RoleAuthorization</name><operator>.</operator><name>HOST_ADD_DELETE_HOSTS</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></argument>;</argument_list></call></expr></expr_stmt>
   </block_content>}</block></function>
 
   <function><annotation>@<name>Test</name><argument_list>(<argument><expr><name>expected</name> <operator>=</operator> <name><name>AuthorizationException</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></annotation>
   <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCheckHostForNonClusterAsServiceAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResourcesForNonCluster</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createServiceAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
    <argument><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createServiceAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
        <argument><expr><call><name><name>EnumSet</name><operator>.</operator><name>of</name></name><argument_list>(<argument><expr><name><name>RoleAuthorization</name><operator>.</operator><name>HOST_ADD_DELETE_HOSTS</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr></argument>;</argument_list></call></expr></expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCheckHostForClusterAsAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
         <argument><expr><call><name><name>EnumSet</name><operator>.</operator><name>of</name></name><argument_list>(<argument><expr><name><name>RoleAuthorization</name><operator>.</operator><name>HOST_ADD_DELETE_HOSTS</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
   </block_content>}</block></function>
 
   <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCheckJavaForNonClusterAsAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResourcesForNonCluster</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"check_java"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  <function><type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCheckHostForClusterAsClusterAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
        <argument><expr><call><name><name>EnumSet</name><operator>.</operator><name>of</name></name><argument_list>(<argument><expr><name><name>RoleAuthorization</name><operator>.</operator><name>HOST_ADD_DELETE_HOSTS</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCheckHostForClusterAsClusterOperator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterOperator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
        <argument><expr><call><name><name>EnumSet</name><operator>.</operator><name>of</name></name><argument_list>(<argument><expr><name><name>RoleAuthorization</name><operator>.</operator><name>HOST_ADD_DELETE_HOSTS</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
   </block_content>}</block></function>
 
   <function><annotation>@<name>Test</name><argument_list>(<argument><expr><name>expected</name> <operator>=</operator> <name><name>AuthorizationException</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCheckJavaForNonClusterAsClusterAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResourcesForNonCluster</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"check_java"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  <function><type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCheckHostForClusterAsServiceAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createServiceAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"check_host"</literal></expr></argument>,
        <argument><expr><call><name><name>EnumSet</name><operator>.</operator><name>of</name></name><argument_list>(<argument><expr><name><name>RoleAuthorization</name><operator>.</operator><name>HOST_ADD_DELETE_HOSTS</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesServiceCheckForClusterAsAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="string">"SOME_SERVICE_CHECK"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesServiceCheckForClusterAsClusterAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="string">"SOME_SERVICE_CHECK"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesServiceCheckForClusterAsClusterOperator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterOperator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="string">"SOME_SERVICE_CHECK"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesServiceCheckForClusterAsServiceAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createServiceAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="string">"SOME_SERVICE_CHECK"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
   </block_content>}</block></function>
 
   <function><annotation>@<name>Test</name><argument_list>(<argument><expr><name>expected</name> <operator>=</operator> <name><name>AuthorizationException</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCheckJavaForNonClusterAsClusterOperator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResourcesForNonCluster</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterOperator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"check_java"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  <function><type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesServiceCheckForClusterAsClusterUser</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterUser</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="string">"SOME_SERVICE_CHECK"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>
  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesDecommissionForClusterAsAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="string">"SOME_SERVICE_CHECK"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesDecommissionForClusterAsClusterAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="string">"SOME_SERVICE_CHECK"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesDecommissionForClusterAsClusterOperator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterOperator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="string">"SOME_SERVICE_CHECK"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesDecommissionForClusterAsServiceAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createServiceAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="string">"SOME_SERVICE_CHECK"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
   </block_content>}</block></function>
 
   <function><annotation>@<name>Test</name><argument_list>(<argument><expr><name>expected</name> <operator>=</operator> <name><name>AuthorizationException</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesDecommissionForClusterAsClusterUser</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterUser</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"c1"</literal></expr></argument>, <argument><expr><literal type="string">"SOME_SERVICE_CHECK"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCustomActionNoPrivsForNonClusterAsAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"custom_action"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCustomActionNoPrivsForNonClusterAsClusterAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"custom_action"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
  <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesCustomActionNoPrivsForNonClusterAsClusterOperator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createClusterOperator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"custom_action"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
  </block_content>}</block></function>

  <function><annotation>@<name>Test</name></annotation>
   <type><specifier>public</specifier> <name>void</name></type> <name>testCreateResourcesForNonClusterAsServiceAdministrator</name><parameter_list>()</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
    <expr_stmt><expr><call><name>testCreateResourcesForNonCluster</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createServiceAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="string">"check_java"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt><expr><call><name>testCreateResources</name><argument_list>(<argument><expr><call><name><name>TestAuthenticationFactory</name><operator>.</operator><name>createServiceAdministrator</name></name><argument_list>()</argument_list></call></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><literal type="string">"custom_action"</literal></expr></argument>, <argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call></expr>;</expr_stmt>
   </block_content>}</block></function>
 
  <function><type><specifier>private</specifier> <name>void</name></type> <name>testCreateResourcesForNonCluster</name><parameter_list>(<parameter><decl><type><name>Authentication</name></type> <name>authentication</name></decl></parameter>, <parameter><decl><type><name>String</name></type> <name>actionName</name></decl></parameter>, <parameter><decl><type><name><name>Set</name><argument_list type="generic">&lt;<argument><name>RoleAuthorization</name></argument>&gt;</argument_list></name></type> <name>permissions</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
  <function><type><specifier>private</specifier> <name>void</name></type> <name>testCreateResources</name><parameter_list>(<parameter><decl><type><name>Authentication</name></type> <name>authentication</name></decl></parameter>, <parameter><decl><type><name>String</name></type> <name>clusterName</name></decl></parameter>, <parameter><decl><type><name>String</name></type> <name>commandName</name></decl></parameter>, <parameter><decl><type><name>String</name></type> <name>actionName</name></decl></parameter>, <parameter><decl><type><name><name>Set</name><argument_list type="generic">&lt;<argument><name>RoleAuthorization</name></argument>&gt;</argument_list></name></type> <name>permissions</name></decl></parameter>)</parameter_list> <throws>throws <argument><expr><name>Exception</name></expr></argument></throws> <block>{<block_content>
     <decl_stmt><decl><type><name><name>Resource</name><operator>.</operator><name>Type</name></name></type> <name>type</name> <init>= <expr><name><name>Resource</name><operator>.</operator><name>Type</name><operator>.</operator><name>Request</name></name></expr></init></decl>;</decl_stmt>
 
     <decl_stmt><decl><type><name><name>Capture</name><argument_list type="generic">&lt;<argument><name>ExecuteActionRequest</name></argument>&gt;</argument_list></name></type> <name>actionRequest</name> <init>= <expr><call><name>newCapture</name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1373</literal></expr><operator>,</operator><expr><literal type="number">8</literal> <operator>+</operator><literal type="number">1446</literal></expr><operator>,</operator><expr><literal type="number">18</literal> @@ <specifier>public</specifier> <name>class</name> <name>RequestResourceProviderTest</name> <block>{
     <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>actionDefinition</name><operator>.</operator><name>getPermissions</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>permissions</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>anyTimes</name><argument_list>()</argument_list></call></expr>;
     <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>response</name><operator>.</operator><name>getMessage</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><literal type="string">"Message"</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>anyTimes</name><argument_list>()</argument_list></call></expr>;
 
    <expr><name>Cluster</name> <name>cluster</name> <operator>=</operator> <call><name>createMock</name><argument_list>(<argument><expr><name><name>Cluster</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;
    <expr><name>Clusters</name> <name>clusters</name> <operator>=</operator> <call><name>createMock</name><argument_list>(<argument><expr><name><name>Clusters</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;
    <if_stmt><if>if<condition>(<expr><name>clusterName</name> <operator>!=</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
      <expr_stmt><expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>cluster</name><operator>.</operator><name>getResourceId</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><literal type="number">4L</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>anyTimes</name><argument_list>()</argument_list></call></expr>;</expr_stmt>

      <expr_stmt><expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>clusters</name><operator>.</operator><name>getCluster</name></name><argument_list>(<argument><expr><name>clusterName</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>cluster</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>anyTimes</name><argument_list>()</argument_list></call></expr>;</expr_stmt>

      <expr_stmt><expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>managementController</name><operator>.</operator><name>getClusters</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>clusters</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>anyTimes</name><argument_list>()</argument_list></call></expr>;</expr_stmt>
    <expr_stmt/></block_content></block></if></if_stmt>}</block>

     <comment type="line">// replay</comment>
    <call><name>replay</name><argument_list>(<argument><expr><name>managementController</name></expr></argument>, <argument><expr><name>metaInfo</name></expr></argument>, <argument><expr><name>actionDefinition</name></expr></argument>, <argument><expr><name>response</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt><expr><call><name>replay</name><argument_list>(<argument><expr><name>managementController</name></expr></argument>, <argument><expr><name>metaInfo</name></expr></argument>, <argument><expr><name>actionDefinition</name></expr></argument>, <argument><expr><name>response</name></expr></argument>, <argument><expr><name>cluster</name></expr></argument>, <argument><expr><name>clusters</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
 
     <comment type="line">// add the property map to a set for the request.  add more maps for multiple creates</comment>
     <decl_stmt><decl><type><name><name>Set</name><argument_list type="generic">&lt;<argument><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>Object</name></argument>&gt;</argument_list></name></argument>&gt;</argument_list></name></type> <name>propertySet</name> <init>= <expr><operator>new</operator> <call><name><name>LinkedHashSet</name><argument_list type="generic">&lt;<argument><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>Object</name></argument>&gt;</argument_list></name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr></init></decl>;</decl_stmt>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1387</literal></expr><operator>,</operator><expr><literal type="number">11</literal> <operator>+</operator><literal type="number">1470</literal></expr><operator>,</operator><expr><literal type="number">16</literal> @@ <specifier>public</specifier> <name>class</name> <name>RequestResourceProviderTest</name> <block>{
     <expr><call><name><name>filterSet</name><operator>.</operator><name>add</name></name><argument_list>(<argument><expr><name>filterMap</name></expr></argument>)</argument_list></call></expr>;
 
     <expr><call><name><name>properties</name><operator>.</operator><name>put</name></name><argument_list>(<argument><expr><name><name>RequestResourceProvider</name><operator>.</operator><name>REQUEST_RESOURCE_FILTER_ID</name></name></expr></argument>, <argument><expr><name>filterSet</name></expr></argument>)</argument_list></call></expr>;

    <expr><call><name><name>properties</name><operator>.</operator><name>put</name></name><argument_list>(<argument><expr><name><name>RequestResourceProvider</name><operator>.</operator><name>REQUEST_CLUSTER_NAME_PROPERTY_ID</name></name></expr></argument>, <argument><expr><name>clusterName</name></expr></argument>)</argument_list></call></expr>;
     <expr><call><name><name>propertySet</name><operator>.</operator><name>add</name></name><argument_list>(<argument><expr><name>properties</name></expr></argument>)</argument_list></call></expr>;
 
     <expr><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name> <name>requestInfoProperties</name> <operator>=</operator> <operator>new</operator> <call><name><name>HashMap</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr>;
    <expr><call><name><name>requestInfoProperties</name><operator>.</operator><name>put</name></name><argument_list>(<argument><expr><name><name>RequestResourceProvider</name><operator>.</operator><name>ACTION_ID</name></name></expr></argument>, <argument><expr><name>actionName</name></expr></argument>)</argument_list></call></expr>;
    <if_stmt><if>if<condition>(<expr><name>commandName</name> <operator>!=</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
      <expr_stmt><expr><call><name><name>requestInfoProperties</name><operator>.</operator><name>put</name></name><argument_list>(<argument><expr><name><name>RequestResourceProvider</name><operator>.</operator><name>COMMAND_ID</name></name></expr></argument>, <argument><expr><name>commandName</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt/></block_content></block></if></if_stmt>}</block></expr></expr_stmt>
    <if_stmt><if>if<condition>(<expr><name>actionName</name> <operator>!=</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
      <expr_stmt><expr><call><name><name>requestInfoProperties</name><operator>.</operator><name>put</name></name><argument_list>(<argument><expr><name><name>RequestResourceProvider</name><operator>.</operator><name>ACTION_ID</name></name></expr></argument>, <argument><expr><name>actionName</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></if></if_stmt>
 
     <expr_stmt><expr><call><name><name>SecurityContextHolder</name><operator>.</operator><name>getContext</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>setAuthentication</name><argument_list>(<argument><expr><name>authentication</name></expr></argument>)</argument_list></call></expr>;</expr_stmt>
 
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">1406</literal></expr><operator>,</operator><expr><literal type="number">9</literal> <operator>+</operator><literal type="number">1494</literal></expr><operator>,</operator><expr><literal type="number">15</literal> @@ <specifier>public</specifier> <name>class</name> <name>RequestResourceProviderTest</name> <block>{
     <expr><name>ExecuteActionRequest</name> <name>capturedRequest</name> <operator>=</operator> <call><name><name>actionRequest</name><operator>.</operator><name>getValue</name></name><argument_list>()</argument_list></call></expr>;
 
     <expr><call><name><name>Assert</name><operator>.</operator><name>assertTrue</name></name><argument_list>(<argument><expr><call><name><name>actionRequest</name><operator>.</operator><name>hasCaptured</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
    <expr><call><name><name>Assert</name><operator>.</operator><name>assertFalse</name></name><argument_list>(<argument><expr><literal type="string">"expected an action"</literal></expr></argument>, <argument><expr><call><name><name>capturedRequest</name><operator>.</operator><name>isCommand</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
    <expr><call><name><name>Assert</name><operator>.</operator><name>assertEquals</name></name><argument_list>(<argument><expr><name>actionName</name></expr></argument>, <argument><expr><call><name><name>capturedRequest</name><operator>.</operator><name>getActionName</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
    <expr><call><name><name>Assert</name><operator>.</operator><name>assertEquals</name></name><argument_list>(<argument><expr><literal type="null">null</literal></expr></argument>, <argument><expr><call><name><name>capturedRequest</name><operator>.</operator><name>getCommandName</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;

    <if_stmt><if>if<condition>(<expr><name>actionName</name> <operator>!=</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
      <expr_stmt><expr><call><name><name>Assert</name><operator>.</operator><name>assertFalse</name></name><argument_list>(<argument><expr><literal type="string">"expected an action"</literal></expr></argument>, <argument><expr><call><name><name>capturedRequest</name><operator>.</operator><name>isCommand</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>Assert</name><operator>.</operator><name>assertEquals</name></name><argument_list>(<argument><expr><name>actionName</name></expr></argument>, <argument><expr><call><name><name>capturedRequest</name><operator>.</operator><name>getActionName</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    <expr_stmt/></block_content></block></if></if_stmt>}</block></expr></expr_stmt>
    <if_stmt><if>if<condition>(<expr><name>commandName</name> <operator>!=</operator> <literal type="null">null</literal></expr>)</condition> <block>{<block_content>
      <expr_stmt><expr><call><name><name>Assert</name><operator>.</operator><name>assertTrue</name></name><argument_list>(<argument><expr><literal type="string">"expected a command"</literal></expr></argument>, <argument><expr><call><name><name>capturedRequest</name><operator>.</operator><name>isCommand</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
      <expr_stmt><expr><call><name><name>Assert</name><operator>.</operator><name>assertEquals</name></name><argument_list>(<argument><expr><name>commandName</name></expr></argument>, <argument><expr><call><name><name>capturedRequest</name><operator>.</operator><name>getCommandName</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
    </block_content>}</block></if></if_stmt>
     <expr_stmt><expr><call><name><name>Assert</name><operator>.</operator><name>assertNotNull</name></name><argument_list>(<argument><expr><call><name><name>capturedRequest</name><operator>.</operator><name>getResourceFilters</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
     <expr_stmt><expr><call><name><name>Assert</name><operator>.</operator><name>assertEquals</name></name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><call><name><name>capturedRequest</name><operator>.</operator><name>getResourceFilters</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>size</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;</expr_stmt>
     <decl_stmt><decl><type><name>RequestResourceFilter</name></type> <name>capturedResourceFilter</name> <init>= <expr><call><name><name>capturedRequest</name><operator>.</operator><name>getResourceFilters</name></name><argument_list>()</argument_list></call><operator>.</operator><call><name>get</name><argument_list>(<argument><expr><literal type="number">0</literal></expr></argument>)</argument_list></call></expr></init></decl>;</decl_stmt>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>security</name><operator>/</operator><name><name>TestAuthenticationFactory</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>security</name><operator>/</operator><name><name>TestAuthenticationFactory</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>d97cd9aa9f</name><operator>..</operator><literal type="number">12d1ac5935</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>security</name><operator>/</operator><name><name>TestAuthenticationFactory</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>security</name><operator>/</operator><name><name>TestAuthenticationFactory</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">217</literal></expr><operator>,</operator><expr><literal type="number">6</literal> <operator>+</operator><literal type="number">217</literal></expr><operator>,</operator><expr><literal type="number">7</literal> @@ <specifier>public</specifier> <name>class</name> <name>TestAuthenticationFactory</name> <block>{
         <expr><name><name>RoleAuthorization</name><operator>.</operator><name>SERVICE_VIEW_METRICS</name></name></expr>,
         <expr><name><name>RoleAuthorization</name><operator>.</operator><name>SERVICE_VIEW_STATUS_INFO</name></name></expr>,
         <expr><name><name>RoleAuthorization</name><operator>.</operator><name>SERVICE_VIEW_OPERATIONAL_LOGS</name></name></expr>,
        <expr><name><name>RoleAuthorization</name><operator>.</operator><name>CLUSTER_RUN_CUSTOM_COMMAND</name></name></expr>,
         <expr><name><name>RoleAuthorization</name><operator>.</operator><name>CLUSTER_MANAGE_USER_PERSISTED_DATA</name></name></expr>))</block></expr></expr_stmt>)</block_content></block>;</function>
     <return>return <expr><name>permissionEntity</name></expr>;</return>
   </block_content>}</block></function>
<expr_stmt><expr><name>diff</name> <operator>--</operator><name>git</name> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>upgrade</name><operator>/</operator><name><name>UpgradeCatalog250Test</name><operator>.</operator><name>java</name></name> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>upgrade</name><operator>/</operator><name><name>UpgradeCatalog250Test</name><operator>.</operator><name>java</name></name>
<name>index</name> <name>c4e0a7c78a</name><operator>..</operator><literal type="number">7b6c3ad9b5</literal> <literal type="number">100644</literal>
<operator>--</operator> <name>a</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>upgrade</name><operator>/</operator><name><name>UpgradeCatalog250Test</name><operator>.</operator><name>java</name></name>
<operator>++</operator> <name>b</name><operator>/</operator><name>ambari</name><operator>-</operator><name>server</name><operator>/</operator><name>src</name><operator>/</operator><name>test</name><operator>/</operator><name>java</name><operator>/</operator><name>org</name><operator>/</operator><name>apache</name><operator>/</operator><name>ambari</name><operator>/</operator><name>server</name><operator>/</operator><name>upgrade</name><operator>/</operator><name><name>UpgradeCatalog250Test</name><operator>.</operator><name>java</name></name>
@@ <operator>-</operator><literal type="number">18</literal></expr><operator>,</operator><expr><literal type="number">24</literal> <operator>+</operator><literal type="number">18</literal></expr><operator>,</operator><expr><literal type="number">24</literal> @@</expr></expr_stmt>
 
 <package>package <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>upgrade</name></name>;</package>
 
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>createNiceMock</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>createStrictMock</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>expect</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>expectLastCall</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>replay</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>reset</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>verify</name></name>;</import>

 <import>import <name><name>javax</name><operator>.</operator><name>persistence</name><operator>.</operator><name>EntityManager</name></name>;</import>
 
 <import>import <name><name>com</name><operator>.</operator><name>google</name><operator>.</operator><name>common</name><operator>.</operator><name>collect</name><operator>.</operator><name>Maps</name></name>;</import>
 <import>import <name><name>com</name><operator>.</operator><name>google</name><operator>.</operator><name>gson</name><operator>.</operator><name>Gson</name></name>;</import>
<import>import <name><name>junit</name><operator>.</operator><name>framework</name><operator>.</operator><name>Assert</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>AmbariException</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>actionmanager</name><operator>.</operator><name>ActionManager</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>AmbariManagementController</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>AmbariManagementControllerImpl</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>KerberosHelper</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>controller</name><operator>.</operator><name>MaintenanceStateHelper</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>orm</name><operator>.</operator><name>DBAccessor</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>orm</name><operator>.</operator><name>dao</name><operator>.</operator><name>PermissionDAO</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>orm</name><operator>.</operator><name>dao</name><operator>.</operator><name>ResourceTypeDAO</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>orm</name><operator>.</operator><name>dao</name><operator>.</operator><name>RoleAuthorizationDAO</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>orm</name><operator>.</operator><name>entities</name><operator>.</operator><name>PermissionEntity</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>orm</name><operator>.</operator><name>entities</name><operator>.</operator><name>ResourceTypeEntity</name></name>;</import>
<import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>orm</name><operator>.</operator><name>entities</name><operator>.</operator><name>RoleAuthorizationEntity</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>state</name><operator>.</operator><name>Cluster</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>state</name><operator>.</operator><name>Clusters</name></name>;</import>
 <import>import <name><name>org</name><operator>.</operator><name>apache</name><operator>.</operator><name>ambari</name><operator>.</operator><name>server</name><operator>.</operator><name>state</name><operator>.</operator><name>Config</name></name>;</import>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">54</literal></expr><operator>,</operator><expr><literal type="number">14</literal> <operator>+</operator><literal type="number">54</literal></expr><operator>,</operator><expr><literal type="number">26</literal> @@</expr></expr_stmt> <import>import <name><name>com</name><operator>.</operator><name>google</name><operator>.</operator><name>inject</name><operator>.</operator><name>Module</name></name>;</import>
 <import>import <name><name>com</name><operator>.</operator><name>google</name><operator>.</operator><name>inject</name><operator>.</operator><name>Provider</name></name>;</import>
 
 <import>import <name><name>java</name><operator>.</operator><name>lang</name><operator>.</operator><name>reflect</name><operator>.</operator><name>Method</name></name>;</import>
<import>import <name><name>java</name><operator>.</operator><name>sql</name><operator>.</operator><name>SQLException</name></name>;</import>
<import>import <name><name>java</name><operator>.</operator><name>util</name><operator>.</operator><name>ArrayList</name></name>;</import>
<import>import <name><name>java</name><operator>.</operator><name>util</name><operator>.</operator><name>Collection</name></name>;</import>
 <import>import <name><name>java</name><operator>.</operator><name>util</name><operator>.</operator><name>HashMap</name></name>;</import>
 <import>import <name><name>java</name><operator>.</operator><name>util</name><operator>.</operator><name>Map</name></name>;</import>
 
 <import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>anyObject</name></name>;</import>
 <import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>anyString</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>capture</name></name>;</import>
 <import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>createMockBuilder</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>capture</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>createNiceMock</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>createStrictMock</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>expect</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>expectLastCall</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>newCapture</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>replay</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>reset</name></name>;</import>
<import>import static <name><name>org</name><operator>.</operator><name>easymock</name><operator>.</operator><name>EasyMock</name><operator>.</operator><name>verify</name></name>;</import>
 <import>import static <name><name>org</name><operator>.</operator><name>junit</name><operator>.</operator><name>Assert</name><operator>.</operator><name>assertTrue</name></name>;</import>

 <comment type="block" format="javadoc">/**
  * {@link UpgradeCatalog250} unit tests.
  */</comment>
<annotation>@</annotation>@ <expr_stmt><expr><operator>-</operator><literal type="number">111</literal></expr><operator>,</operator><expr><literal type="number">14</literal> <operator>+</operator><literal type="number">123</literal></expr><operator>,</operator><expr><literal type="number">19</literal> @@ <specifier>public</specifier> <name>class</name> <name>UpgradeCatalog250Test</name> <block>{
   @<expr><name>Test</name>
   <specifier>public</specifier> <name>void</name> <call><name>testExecuteDMLUpdates</name><argument_list>()</argument_list></call> <throws>throws <argument><expr><name>Exception</name> <block>{
     <expr><name>Method</name> <name>updateAmsConfigs</name> <operator>=</operator> <call><name><name>UpgradeCatalog250</name><operator>.</operator><name><name>class</name><operator>.</operator><name>getDeclaredMethod</name></name></name><argument_list>(<argument><expr><literal type="string">"updateAMSConfigs"</literal></expr></argument>)</argument_list></call></expr></block></expr></argument></throws></expr>;
    <expr><name>Method</name> <name>createRoleAuthorizations</name> <operator>=</operator> <call><name><name>UpgradeCatalog250</name><operator>.</operator><name><name>class</name><operator>.</operator><name>getDeclaredMethod</name></name></name><argument_list>(<argument><expr><literal type="string">"createRoleAuthorizations"</literal></expr></argument>)</argument_list></call></expr>;
 
     <expr><name>UpgradeCatalog250</name> <name>upgradeCatalog250</name> <operator>=</operator> <call><name>createMockBuilder</name><argument_list>(<argument><expr><name><name>UpgradeCatalog250</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call>
      <operator>.</operator><call><name>addMockedMethod</name><argument_list>(<argument><expr><name>updateAmsConfigs</name></expr></argument>)</argument_list></call>
      <operator>.</operator><call><name>createMock</name><argument_list>()</argument_list></call></expr>;
        <expr><operator>.</operator><call><name>addMockedMethod</name><argument_list>(<argument><expr><name>updateAmsConfigs</name></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>addMockedMethod</name><argument_list>(<argument><expr><name>createRoleAuthorizations</name></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>createMock</name><argument_list>()</argument_list></call></expr>;
 
     <expr><call><name><name>upgradeCatalog250</name><operator>.</operator><name>updateAMSConfigs</name></name><argument_list>()</argument_list></call></expr>;
     <expr><call><name>expectLastCall</name><argument_list>()</argument_list></call><operator>.</operator><call><name>once</name><argument_list>()</argument_list></call></expr>;
 
    <expr><call><name><name>upgradeCatalog250</name><operator>.</operator><name>createRoleAuthorizations</name></name><argument_list>()</argument_list></call></expr>;
    <expr><call><name>expectLastCall</name><argument_list>()</argument_list></call><operator>.</operator><call><name>once</name><argument_list>()</argument_list></call></expr>;

     <expr><call><name>replay</name><argument_list>(<argument><expr><name>upgradeCatalog250</name></expr></argument>)</argument_list></call></expr>;
 
     <expr><call><name><name>upgradeCatalog250</name><operator>.</operator><name>executeDMLUpdates</name></name><argument_list>()</argument_list></call></expr>;
@@ <expr><operator>-</operator><literal type="number">196</literal></expr>,<expr><literal type="number">4</literal> <operator>+</operator><literal type="number">213</literal></expr>,<expr><literal type="number">82</literal> @@ <specifier>public</specifier> <name>class</name> <name>UpgradeCatalog250Test</name> <block>{
     <expr><name><name>Map</name><argument_list type="generic">&lt;<argument><name>String</name></argument>, <argument><name>String</name></argument>&gt;</argument_list></name> <name>updatedProperties</name> <operator>=</operator> <call><name><name>propertiesCapture</name><operator>.</operator><name>getValue</name></name><argument_list>()</argument_list></call></expr>;
     <expr><call><name>assertTrue</name><argument_list>(<argument><expr><call><name><name>Maps</name><operator>.</operator><name>difference</name></name><argument_list>(<argument><expr><name>newPropertiesAmsEnv</name></expr></argument>, <argument><expr><name>updatedProperties</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>areEqual</name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
   }</block>

  @<name>Test</name>
  <specifier>public</specifier> <name>void</name> <call><name>testCreateRoleAuthorizations</name><argument_list>()</argument_list></call> <throws>throws <argument><expr><name>AmbariException</name></expr></argument>, <argument><expr><name>SQLException</name> <block>{

    <expr><name>EasyMockSupport</name> <name>easyMockSupport</name> <operator>=</operator> <operator>new</operator> <call><name>EasyMockSupport</name><argument_list>()</argument_list></call></expr></block></expr></argument></throws></expr>;

    <expr><name>ResourceTypeEntity</name> <name>ambariResourceTypeEntity</name> <operator>=</operator> <call><name><name>easyMockSupport</name><operator>.</operator><name>createMock</name></name><argument_list>(<argument><expr><name><name>ResourceTypeEntity</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;

    <expr><name>ResourceTypeEntity</name> <name>clusterResourceTypeEntity</name> <operator>=</operator> <call><name><name>easyMockSupport</name><operator>.</operator><name>createMock</name></name><argument_list>(<argument><expr><name><name>ResourceTypeEntity</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;

    <expr><name><name>Collection</name><argument_list type="generic">&lt;<argument><name>RoleAuthorizationEntity</name></argument>&gt;</argument_list></name> <name>ambariAdministratorAuthorizations</name> <operator>=</operator> <operator>new</operator> <call><name><name>ArrayList</name><argument_list type="generic">&lt;<argument><name>RoleAuthorizationEntity</name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr>;
    <expr><name><name>Collection</name><argument_list type="generic">&lt;<argument><name>RoleAuthorizationEntity</name></argument>&gt;</argument_list></name> <name>clusterAdministratorAuthorizations</name> <operator>=</operator> <operator>new</operator> <call><name><name>ArrayList</name><argument_list type="generic">&lt;<argument><name>RoleAuthorizationEntity</name></argument>&gt;</argument_list></name><argument_list>()</argument_list></call></expr>;

    <expr><name>PermissionEntity</name> <name>clusterAdministratorPermissionEntity</name> <operator>=</operator> <call><name><name>easyMockSupport</name><operator>.</operator><name>createMock</name></name><argument_list>(<argument><expr><name><name>PermissionEntity</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>clusterAdministratorPermissionEntity</name><operator>.</operator><name>getAuthorizations</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>clusterAdministratorAuthorizations</name></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></call></expr>;

    <expr><name>PermissionEntity</name> <name>ambariAdministratorPermissionEntity</name> <operator>=</operator> <call><name><name>easyMockSupport</name><operator>.</operator><name>createMock</name></name><argument_list>(<argument><expr><name><name>PermissionEntity</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>ambariAdministratorPermissionEntity</name><operator>.</operator><name>getAuthorizations</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>ambariAdministratorAuthorizations</name></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">2</literal></expr></argument>)</argument_list></call></expr>;

    <expr><name>PermissionDAO</name> <name>permissionDAO</name> <operator>=</operator> <call><name><name>easyMockSupport</name><operator>.</operator><name>createMock</name></name><argument_list>(<argument><expr><name><name>PermissionDAO</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>permissionDAO</name><operator>.</operator><name>findPermissionByNameAndType</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI.ADMINISTRATOR"</literal></expr></argument>, <argument><expr><name>ambariResourceTypeEntity</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>ambariAdministratorPermissionEntity</name></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">2</literal></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>permissionDAO</name><operator>.</operator><name>findPermissionByNameAndType</name></name><argument_list>(<argument><expr><literal type="string">"CLUSTER.ADMINISTRATOR"</literal></expr></argument>, <argument><expr><name>clusterResourceTypeEntity</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>clusterAdministratorPermissionEntity</name></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>permissionDAO</name><operator>.</operator><name>merge</name></name><argument_list>(<argument><expr><name>ambariAdministratorPermissionEntity</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>ambariAdministratorPermissionEntity</name></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">2</literal></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>permissionDAO</name><operator>.</operator><name>merge</name></name><argument_list>(<argument><expr><name>clusterAdministratorPermissionEntity</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>clusterAdministratorPermissionEntity</name></expr></argument>)</argument_list></call>
        <operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></call></expr>;

    <expr><name>ResourceTypeDAO</name> <name>resourceTypeDAO</name> <operator>=</operator> <call><name><name>easyMockSupport</name><operator>.</operator><name>createMock</name></name><argument_list>(<argument><expr><name><name>ResourceTypeDAO</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>resourceTypeDAO</name><operator>.</operator><name>findByName</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>ambariResourceTypeEntity</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">2</literal></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>resourceTypeDAO</name><operator>.</operator><name>findByName</name></name><argument_list>(<argument><expr><literal type="string">"CLUSTER"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>clusterResourceTypeEntity</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></call></expr>;

    <expr><name>RoleAuthorizationDAO</name> <name>roleAuthorizationDAO</name> <operator>=</operator> <call><name><name>easyMockSupport</name><operator>.</operator><name>createMock</name></name><argument_list>(<argument><expr><name><name>RoleAuthorizationDAO</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>roleAuthorizationDAO</name><operator>.</operator><name>findById</name></name><argument_list>(<argument><expr><literal type="string">"CLUSTER.RUN_CUSTOM_COMMAND"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>roleAuthorizationDAO</name><operator>.</operator><name>findById</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI.RUN_CUSTOM_COMMAND"</literal></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><literal type="null">null</literal></expr></argument>)</argument_list></call><operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></call></expr>;

    <expr><name><name>Capture</name><argument_list type="generic">&lt;<argument><name>RoleAuthorizationEntity</name></argument>&gt;</argument_list></name> <name>captureClusterRunCustomCommandEntity</name> <operator>=</operator> <call><name>newCapture</name><argument_list>()</argument_list></call></expr>;
    <expr><call><name><name>roleAuthorizationDAO</name><operator>.</operator><name>create</name></name><argument_list>(<argument><expr><call><name>capture</name><argument_list>(<argument><expr><name>captureClusterRunCustomCommandEntity</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expectLastCall</name><argument_list>()</argument_list></call><operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></call></expr>;

    <expr><name><name>Capture</name><argument_list type="generic">&lt;<argument><name>RoleAuthorizationEntity</name></argument>&gt;</argument_list></name> <name>captureAmbariRunCustomCommandEntity</name> <operator>=</operator> <call><name>newCapture</name><argument_list>()</argument_list></call></expr>;
    <expr><call><name><name>roleAuthorizationDAO</name><operator>.</operator><name>create</name></name><argument_list>(<argument><expr><call><name>capture</name><argument_list>(<argument><expr><name>captureAmbariRunCustomCommandEntity</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expectLastCall</name><argument_list>()</argument_list></call><operator>.</operator><call><name>times</name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>)</argument_list></call></expr>;

    <expr><name>Injector</name> <name>injector</name> <operator>=</operator> <call><name><name>easyMockSupport</name><operator>.</operator><name>createNiceMock</name></name><argument_list>(<argument><expr><name><name>Injector</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>injector</name><operator>.</operator><name>getInstance</name></name><argument_list>(<argument><expr><name><name>RoleAuthorizationDAO</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>roleAuthorizationDAO</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>atLeastOnce</name><argument_list>()</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>injector</name><operator>.</operator><name>getInstance</name></name><argument_list>(<argument><expr><name><name>PermissionDAO</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>permissionDAO</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>atLeastOnce</name><argument_list>()</argument_list></call></expr>;
    <expr><call><name>expect</name><argument_list>(<argument><expr><call><name><name>injector</name><operator>.</operator><name>getInstance</name></name><argument_list>(<argument><expr><name><name>ResourceTypeDAO</name><operator>.</operator><name>class</name></name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call><operator>.</operator><call><name>andReturn</name><argument_list>(<argument><expr><name>resourceTypeDAO</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>atLeastOnce</name><argument_list>()</argument_list></call></expr>;

    <expr><call><name><name>easyMockSupport</name><operator>.</operator><name>replayAll</name></name><argument_list>()</argument_list></call></expr>;
    <expr><operator>new</operator> <call><name>UpgradeCatalog250</name><argument_list>(<argument><expr><name>injector</name></expr></argument>)</argument_list></call><operator>.</operator><call><name>createRoleAuthorizations</name><argument_list>()</argument_list></call></expr>;
    <expr><call><name><name>easyMockSupport</name><operator>.</operator><name>verifyAll</name></name><argument_list>()</argument_list></call></expr>;

    <expr><name>RoleAuthorizationEntity</name> <name>ambariRunCustomCommandEntity</name> <operator>=</operator> <call><name><name>captureAmbariRunCustomCommandEntity</name><operator>.</operator><name>getValue</name></name><argument_list>()</argument_list></call></expr>;
    <expr><name>RoleAuthorizationEntity</name> <name>clusterRunCustomCommandEntity</name> <operator>=</operator> <call><name><name>captureClusterRunCustomCommandEntity</name><operator>.</operator><name>getValue</name></name><argument_list>()</argument_list></call></expr>;

    <expr><call><name><name>Assert</name><operator>.</operator><name>assertEquals</name></name><argument_list>(<argument><expr><literal type="string">"AMBARI.RUN_CUSTOM_COMMAND"</literal></expr></argument>, <argument><expr><call><name><name>ambariRunCustomCommandEntity</name><operator>.</operator><name>getAuthorizationId</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
    <expr><call><name><name>Assert</name><operator>.</operator><name>assertEquals</name></name><argument_list>(<argument><expr><literal type="string">"Perform custom administrative actions"</literal></expr></argument>, <argument><expr><call><name><name>ambariRunCustomCommandEntity</name><operator>.</operator><name>getAuthorizationName</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;

    <expr><call><name><name>Assert</name><operator>.</operator><name>assertEquals</name></name><argument_list>(<argument><expr><literal type="string">"CLUSTER.RUN_CUSTOM_COMMAND"</literal></expr></argument>, <argument><expr><call><name><name>clusterRunCustomCommandEntity</name><operator>.</operator><name>getAuthorizationId</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
    <expr><call><name><name>Assert</name><operator>.</operator><name>assertEquals</name></name><argument_list>(<argument><expr><literal type="string">"Perform custom cluster-level actions"</literal></expr></argument>, <argument><expr><call><name><name>clusterRunCustomCommandEntity</name><operator>.</operator><name>getAuthorizationName</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;

    <expr><call><name><name>Assert</name><operator>.</operator><name>assertEquals</name></name><argument_list>(<argument><expr><literal type="number">2</literal></expr></argument>, <argument><expr><call><name><name>ambariAdministratorAuthorizations</name><operator>.</operator><name>size</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
    <expr><call><name><name>Assert</name><operator>.</operator><name>assertTrue</name></name><argument_list>(<argument><expr><call><name><name>ambariAdministratorAuthorizations</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>clusterRunCustomCommandEntity</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
    <expr><call><name><name>Assert</name><operator>.</operator><name>assertTrue</name></name><argument_list>(<argument><expr><call><name><name>ambariAdministratorAuthorizations</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>ambariRunCustomCommandEntity</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;

    <expr><call><name><name>Assert</name><operator>.</operator><name>assertEquals</name></name><argument_list>(<argument><expr><literal type="number">1</literal></expr></argument>, <argument><expr><call><name><name>clusterAdministratorAuthorizations</name><operator>.</operator><name>size</name></name><argument_list>()</argument_list></call></expr></argument>)</argument_list></call></expr>;
    <expr><call><name><name>Assert</name><operator>.</operator><name>assertTrue</name></name><argument_list>(<argument><expr><call><name><name>clusterAdministratorAuthorizations</name><operator>.</operator><name>contains</name></name><argument_list>(<argument><expr><name>clusterRunCustomCommandEntity</name></expr></argument>)</argument_list></call></expr></argument>)</argument_list></call></expr>;
  }</block></expr></expr_stmt>
 </block_content>}</block></function>
<expr_stmt><expr><operator>-</operator> 
<literal type="number">2.19.1.windows</literal><literal type="number">.1</literal></expr></expr_stmt></block_content></block></function></block_content></block></function>

</unit>
